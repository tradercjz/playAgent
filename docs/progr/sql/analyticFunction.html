<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" data-whc_version="26.0">
    <head><link rel="shortcut icon" href="../../favicon.ico"/><link rel="icon" href="../../favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="分析函数（窗口函数）在特定窗口（行集）上应用聚合函数和排名函数，与聚合函数不同的时，聚合函数为一个分组返回一个结果，而分析函数为分组内的每行返回一个结果。OVER 子句与窗口函数一起使用来定义窗口。 语法 &lt;analytic_function&gt; OVER ( PARTITION BY &lt;column&gt; ORDER BY &lt;column&gt; ASC|DESC &lt;window_frame&gt;) ..."/><meta name="DC.rights.owner" content="(C) 版权 2025"/><meta name="copyright" content="(C) 版权 2025"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="topic"/><meta name="DC.coverage" content=""/><meta name="DC.relation" content="../../progr/sql/sql_dql.html"/><meta name="prodname" content="DolphinDB"/><meta name="brand" content="DolphinDB"/><meta name="DC.creator" content="DolphinDB"/><meta name="DC.publisher" content="DDB N/A DDB 200"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="analyticFunction"/><title>分析函数</title><!--  Generated with Oxygen version 26.0, build number 2024012323.  --><meta name="wh-path2root" content="../../"/><meta name="wh-toc-id" content="analyticFunction-d9713e28571"/><meta name="wh-source-relpath" content="progr/sql/analyticFunction.dita"/><meta name="wh-out-relpath" content="progr/sql/analyticFunction.html"/>

    <link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/app/commons.css?buildId=2024012323"/>
    <link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/app/topic.css?buildId=2024012323"/>

    <script src="../../oxygen-webhelp/app/options/properties.js?buildId=20250305183303"></script>
    <script src="../../oxygen-webhelp/app/localization/strings.js?buildId=2024012323"></script>
    <script src="../../oxygen-webhelp/app/search/index/keywords.js?buildId=20250305183303"></script>
    <script defer="defer" src="../../oxygen-webhelp/app/commons.js?buildId=2024012323"></script>
    <script defer="defer" src="../../oxygen-webhelp/app/topic.js?buildId=2024012323"></script>
<link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/template/styles.css?buildId=2024012323"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script></head>

    <body id="analyticFunction" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            跳转到主要内容
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div xmlns:whc="http://www.oxygenxml.com/webhelp/components" class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="https://docs.dolphindb.cn/zh/index.html" class=" wh_logo d-none d-sm-block "><img src="../../logo.png" alt="  DolphinDB 文档中心  "/></a>
                    <div class=" wh_publication_title "><a href="../../index.html"><span class="booktitle">  <span class="ph mainbooktitle">DolphinDB 文档中心</span>  </span></a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../../search.html"><div><input type="search" placeholder="搜索 " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="搜索查询" required="required"/><button type="submit" class="wh_search_button" aria-label="搜索"><span class="search_input_text">搜索</span></button></div></form>
            
            <script src="/vendors/react/umd/react.production.min.js" defer="defer"></script>
<script src="/vendors/react-dom/umd/react-dom.production.min.js" defer="defer"></script>
<script src="/vendors/dayjs/dayjs.min.js" defer="defer"></script>
<script src="/vendors/antd/dist/antd.min.js" defer="defer"></script>
<script src="/vendors/@ant-design/icons/dist/index.umd.min.js" defer="defer"></script>
<script src="/zh/index.js" type="module"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" defer="defer"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer="defer"><!--


--></script>
<script defer="defer"><!--

// 从主页重定向
const currentUrl = window.location.href;

// 判断当前URL是否包含index.html并且路径最后部分是index.html
if (currentUrl.endsWith('index.html')) {
    // 处理根目录下的index.html跳转
    const baseUrl = currentUrl.split('/index.html')[0]; // 获取index.html之前的部分
    const redirectUrl = `${baseUrl}/about/ddb_intro.html`; // 构建跳转路径
    window.location.href = redirectUrl; // 执行跳转
}

--></script>
            
        </div></div>
    </div>
</header>
        
        
         
        
        
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="../../index.html"><span>主页</span></a></span></li><li><div class="topicref" data-id="about_language_resources"><div class="title"><a href="../../progr/progr_intro.html"><span class="keyword label">编程语言</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 编程基本概念与方法、SQL 在 DolphinDB 的应用</p></div></div></div></li><li><div class="topicref" data-id="chap4_sect_sql_statements"><div class="title"><a href="../../progr/sql/sql_intro.html"><span class="keyword label">SQL 语句</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 中 SQL 语句的基本语法和用法</p></div></div></div></li><li><div class="topicref" data-id="dql"><div class="title"><a href="../../progr/sql/sql_dql.html">DQL</a><div class="wh-tooltip"><p class="shortdesc">介绍 DolphinDB 中的数据查询（DQL）语言</p></div></div></div></li><li class="active"><div class="topicref" data-id="analyticFunction"><div class="title"><a href="../../progr/sql/analyticFunction.html">分析函数</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="切换搜索突出显示" title="切换搜索突出显示"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="折叠截面" title="折叠截面"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="打印此页" aria-label="打印此页"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem"><div data-tocid="ddb_intro-d9713e87" class="topicref" data-id="ddb_intro" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../about/ddb_intro.html" id="ddb_intro-d9713e87-link">关于DolphinDB</a></div></div></li><li role="treeitem"><div data-tocid="chap1_getstarted-d9713e136" class="topicref" data-id="chap1_getstarted" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../getstarted/chap1_getstarted.html" id="chap1_getstarted-d9713e136-link">快速上手</a><div class="wh-tooltip"><p class="shortdesc">如何快速部署 DolphinDB、建库建表、写入和查询数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="sectionddb_deployment-d9713e189" class="topicref" data-id="sectionddb_deployment" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action sectionddb_deployment-d9713e189-link" class="wh-expand-btn"></span><div class="title"><a href="../../deploy/deploy_intro.html" id="sectionddb_deployment-d9713e189-link"><span class="keyword label">部署</span></a><div class="wh-tooltip"><p class="shortdesc">如何在不同的场景中部署 DolphinDB</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259" class="topicref" data-id="new_chap_database_manage_new_chap_dbmanage_landing_page" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link" class="wh-expand-btn"></span><div class="title"><a href="../../db_distr_comp/cfg/db_intro.html" id="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link"><span class="keyword label">数据库</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 数据库的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_streaming-d9713e3760" class="topicref" data-id="chap7_tutorials_streaming" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_streaming-d9713e3760-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_intro.html" id="chap7_tutorials_streaming-d9713e3760-link"><span class="keyword label">流数据</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 流数据引擎及流数据计算的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e7513" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e7513-link" class="wh-expand-btn"></span><div class="title"><a href="../../db_distr_comp/db_oper/import_data.html" id="tocId-d9713e7513-link">数据迁移</a><div class="wh-tooltip"><p class="shortdesc">如何从不同数据源向 DolphinDB 迁移数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_system_management-d9713e7940" class="topicref" data-id="chap7_tutorials_system_management" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_system_management-d9713e7940-link" class="wh-expand-btn"></span><div class="title"><a href="../../sys_man/om_intro.html" id="chap7_tutorials_system_management-d9713e7940-link"><span class="keyword label">系统运维</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 的系统运维功能及方法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="troubleshooting-d9713e8780" class="topicref" data-id="troubleshooting" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action troubleshooting-d9713e8780-link" class="wh-expand-btn"></span><div class="title"><a href="../../error_codes/troubleshooting.html" id="troubleshooting-d9713e8780-link">故障排查</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="about_language_resources-d9713e20911" class="topicref" data-id="about_language_resources" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action about_language_resources-d9713e20911-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/progr_intro.html" id="about_language_resources-d9713e20911-link"><span class="keyword label">编程语言</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 编程基本概念与方法、SQL 在 DolphinDB 的应用</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="chap4_db_programming-d9713e20964" class="topicref" data-id="chap4_db_programming" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap4_db_programming-d9713e20964-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/lang_intro.html" id="chap4_db_programming-d9713e20964-link"><span class="keyword label">DolphinDB 脚本语言</span></a><div class="wh-tooltip"><p class="shortdesc"> 脚本编程相关概念参考，包括：数据类型与形式、对象、运算符、编程语句、数据操作、函数化编程、文件操作和 SQL 语句。 </p></div></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="chap4_sect_sql_statements-d9713e27311" class="topicref" data-id="chap4_sect_sql_statements" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action chap4_sect_sql_statements-d9713e27311-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/sql_intro.html" id="chap4_sect_sql_statements-d9713e27311-link"><span class="keyword label">SQL 语句</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 中 SQL 语句的基本语法和用法</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="ddl-d9713e27362" class="topicref" data-id="ddl" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action ddl-d9713e27362-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/sql_ddl.html" id="ddl-d9713e27362-link">DDL</a><div class="wh-tooltip"><p class="shortdesc">介绍 DolphinDB 中的数据定义（DDL）语言</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="dml-d9713e27550" class="topicref" data-id="dml" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action dml-d9713e27550-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/sql_dml.html" id="dml-d9713e27550-link">DML</a><div class="wh-tooltip"><p class="shortdesc">介绍 DolphinDB 中的数据描述（DML）语言</p></div></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="dql-d9713e27738" class="topicref" data-id="dql" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action dql-d9713e27738-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/sql_dql.html" id="dql-d9713e27738-link">DQL</a><div class="wh-tooltip"><p class="shortdesc">介绍 DolphinDB 中的数据查询（DQL）语言</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="select-d9713e27788" class="topicref" data-id="select" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/Select.html" id="select-d9713e27788-link">select</a></div></div></li><li role="treeitem"><div data-tocid="exec-d9713e27834" class="topicref" data-id="exec" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/exec.html" id="exec-d9713e27834-link">exec</a></div></div></li><li role="treeitem"><div data-tocid="where-d9713e27880" class="topicref" data-id="where" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/where.html" id="where-d9713e27880-link">where</a></div></div></li><li role="treeitem"><div data-tocid="group-by-d9713e27926" class="topicref" data-id="group-by" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/groupby.html" id="group-by-d9713e27926-link">group by</a></div></div></li><li role="treeitem"><div data-tocid="context-by-d9713e27972" class="topicref" data-id="context-by" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/contextBy.html" id="context-by-d9713e27972-link">context by</a></div></div></li><li role="treeitem"><div data-tocid="pivot-by-d9713e28018" class="topicref" data-id="pivot-by" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/pivotBy.html" id="pivot-by-d9713e28018-link">pivot by</a></div></div></li><li role="treeitem"><div data-tocid="order-by-d9713e28064" class="topicref" data-id="order-by" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/orderby.html" id="order-by-d9713e28064-link">order by</a></div></div></li><li role="treeitem"><div data-tocid="top-d9713e28110" class="topicref" data-id="top" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/top.html" id="top-d9713e28110-link">top</a></div></div></li><li role="treeitem"><div data-tocid="limit-d9713e28156" class="topicref" data-id="limit" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/limit.html" id="limit-d9713e28156-link">limit</a></div></div></li><li role="treeitem"><div data-tocid="case-d9713e28202" class="topicref" data-id="case" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/case.html" id="case-d9713e28202-link">case</a></div></div></li><li role="treeitem"><div data-tocid="cgroup-by-d9713e28249" class="topicref" data-id="cgroup-by" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/cgroupby.html" id="cgroup-by-d9713e28249-link">cgroup by</a></div></div></li><li role="treeitem"><div data-tocid="distinct-d9713e28295" class="topicref" data-id="distinct" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/distinct.html" id="distinct-d9713e28295-link">distinct</a></div></div></li><li role="treeitem"><div data-tocid="having-d9713e28341" class="topicref" data-id="having" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/having.html" id="having-d9713e28341-link">having</a></div></div></li><li role="treeitem"><div data-tocid="interval-d9713e28387" class="topicref" data-id="interval" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/interval.html" id="interval-d9713e28387-link">interval</a></div></div></li><li role="treeitem"><div data-tocid="map-d9713e28433" class="topicref" data-id="map" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/map.html" id="map-d9713e28433-link">map</a></div></div></li><li role="treeitem"><div data-tocid="partition-d9713e28479" class="topicref" data-id="partition" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/partition.html" id="partition-d9713e28479-link">partition</a></div></div></li><li role="treeitem"><div data-tocid="sample-d9713e28525" class="topicref" data-id="sample" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/sample.html" id="sample-d9713e28525-link">sample</a></div></div></li><li role="treeitem" class="active"><div data-tocid="analyticFunction-d9713e28571" class="topicref" data-id="analyticFunction" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/analyticFunction.html" id="analyticFunction-d9713e28571-link">分析函数</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="predicates-d9713e28617" class="topicref" data-id="predicates" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action predicates-d9713e28617-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/predicates.html" id="predicates-d9713e28617-link"><span class="keyword label">谓词</span></a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="table_joiners-d9713e29124" class="topicref" data-id="table_joiners" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action table_joiners-d9713e29124-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/tb_joiner_intro.html" id="table_joiners-d9713e29124-link"><span class="keyword label">表连接</span></a></div></div></li><li role="treeitem"><div data-tocid="执行顺序-d9713e29631" class="topicref" data-id="执行顺序" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/exe_order.html" id="执行顺序-d9713e29631-link"><span class="keyword label">执行顺序</span></a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="landingpage_sql_trace-d9713e29678" class="topicref" data-id="landingpage_sql_trace" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action landingpage_sql_trace-d9713e29678-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/sql_trace.html" id="landingpage_sql_trace-d9713e29678-link"><span class="keyword label">SQL Trace</span></a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="hint-d9713e29863" class="topicref" data-id="hint" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action hint-d9713e29863-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/sql/hint.html" id="hint-d9713e29863-link"><span class="keyword label">HINT 关键字</span></a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="python-parser-简介-d9713e29956" class="topicref" data-id="python-parser-简介" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action python-parser-简介-d9713e29956-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/py_parser/py_par_intro.html" id="python-parser-简介-d9713e29956-link"><span class="keyword label">Python Parser</span></a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="functions_references-d9713e30925" class="topicref" data-id="functions_references" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action functions_references-d9713e30925-link" class="wh-expand-btn"></span><div class="title"><a href="../../funcs/funcs_intro.html" id="functions_references-d9713e30925-link"><span class="keyword label">函数参考</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 函数分类、语法、详解及示例</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="api_protocol-d9713e94064" class="topicref" data-id="api_protocol" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action api_protocol-d9713e94064-link" class="wh-expand-btn"></span><div class="title"><a href="../../api/connapi_intro.html" id="api_protocol-d9713e94064-link"><span class="keyword label">连接器 &amp; API</span></a><div class="wh-tooltip"><p class="shortdesc">面向不同编程语言的 DolphinDB API 及连接器，相关协议和用法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap6_plugin-d9713e94210" class="topicref" data-id="chap6_plugin" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap6_plugin-d9713e94210-link" class="wh-expand-btn"></span><div class="title"><a href="../../plugins/plg_intro.html" id="chap6_plugin-d9713e94210-link"><span class="keyword label">插件</span></a><div class="wh-tooltip"><p class="shortdesc">多个应用场景的插件使用说明和插件开发指导</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="third_party-d9713e97904" class="topicref" data-id="third_party" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action third_party-d9713e97904-link" class="wh-expand-btn"></span><div class="title"><a href="../../third_party.html" id="third_party-d9713e97904-link">第三方工具</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="about_tutorials-d9713e98227" class="topicref" data-id="about_tutorials" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_tutorials-d9713e98227-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/about_tutorials.html" id="about_tutorials-d9713e98227-link"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105982" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105982-link" class="wh-expand-btn"></span><div class="title"><a href="../../rn/server/3_00_2.html" id="tocId-d9713e105982-link">版本说明</a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 版本发布历史</p></div></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        <button id="wh_close_topic_toc_button" class="close-toc-button d-none" aria-label="Toggle topic table of content" aria-controls="wh_topic_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        <div class=" wh_topic_content body "><main role="main"><article class="- topic/topic topic" role="article" aria-labelledby="ariaid-title1">
    <h1 class="- topic/title title topictitle1" id="ariaid-title1">分析函数</h1>
    <article class="- topic/topic topic nested1" aria-labelledby="ariaid-title2" id="topic_sy5_dyv_yzb">
        <h2 class="- topic/title title topictitle2" id="ariaid-title2"><strong class="+ topic/ph hi-d/b ph b">OVER 子句</strong></h2>
        <div class="- topic/body body">
            <div class="- topic/p p">分析函数（窗口函数）在特定窗口（行集）上应用聚合函数和排名函数，与聚合函数不同的时，聚合函数为一个分组返回一个结果，而分析函数为分组内的每行返回一个结果。OVER
                    子句与窗口函数一起使用来定义窗口。<figure class="- topic/fig fig fignone" id="topic_sy5_dyv_yzb__fig_wxy_gzz_h1c" data-ofbid="topic_sy5_dyv_yzb__fig_wxy_gzz_h1c">
                    <img class="- topic/image image" id="topic_sy5_dyv_yzb__image_tyd_111_31c" src="../../images/analyticFuncs/agg.png"/>
                </figure></div>
            <section class="- topic/section section" id="topic_sy5_dyv_yzb__section_vnc_gyv_yzb" data-ofbid="topic_sy5_dyv_yzb__section_vnc_gyv_yzb"><h3 class="- topic/title title sectiontitle">语法</h3>
                
                <div class="- topic/p p">
                    <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_sy5_dyv_yzb__codeblock_rgy_hyv_yzb" data-ofbid="topic_sy5_dyv_yzb__codeblock_rgy_hyv_yzb"><code> &lt;analytic_function&gt; OVER (
    PARTITION BY &lt;column&gt;
    ORDER BY &lt;column&gt; ASC|DESC
    &lt;window_frame&gt;) &lt;window_column_alias&gt;</code></pre>
                </div>
                <p class="- topic/p p">PARTITION BY、ORDER BY 和 window_frame 都是可选的。</p>
            </section>
        </div>
    </article>
    <article class="- topic/topic topic nested1" aria-labelledby="ariaid-title3" id="topic_kzn_211_31c">
        <h2 class="- topic/title title topictitle2" id="ariaid-title3">PARTITION BY</h2>
        <div class="- topic/body body">
            <div class="- topic/p p">PARTITION BY 子句用于将数据表分成多个组。可对每个分组数据单独应用分析函数。如果没有 PARTITION BY
                子句，整个数据表是一个分组。<pre class="+ topic/pre pr-d/codeblock pre codeblock language-sql" id="topic_kzn_211_31c__codeblock_pfm_h11_31c" data-ofbid="topic_kzn_211_31c__codeblock_pfm_h11_31c"><strong class="hl-keyword">create</strong> <strong class="hl-keyword">table</strong> t(
    <strong class="hl-keyword">month</strong> <strong class="hl-keyword">MONTH</strong>,
    city STRING,
    sold <strong class="hl-keyword">INT</strong>
);

<strong class="hl-keyword">go</strong>

<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">2023.06</span>M, "<strong class="hl-keyword">A</strong>", <span class="hl-number">1200</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">2023.07</span>M, "<strong class="hl-keyword">A</strong>", <span class="hl-number">1500</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">2023.08</span>M, "B", <span class="hl-number">1200</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">2023.07</span>M, "B", <span class="hl-number">1300</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">2023.07</span>M, "<strong class="hl-keyword">C</strong>", <span class="hl-number">1300</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">2023.06</span>M, "<strong class="hl-keyword">C</strong>", <span class="hl-number">1400</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">2023.08</span>M, "<strong class="hl-keyword">A</strong>", <span class="hl-number">1400</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">2023.06</span>M, "B", <span class="hl-number">1000</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">2023.08</span>M, "<strong class="hl-keyword">C</strong>", <span class="hl-number">1100</span>);

<strong class="hl-keyword">SELECT</strong> 
  <strong class="hl-keyword">month</strong>,
  city, 
  <strong class="hl-keyword">sum</strong>(sold) <strong class="hl-keyword">OVER</strong> (<strong class="hl-keyword">PARTITION</strong> <strong class="hl-keyword">BY</strong> city) <strong class="hl-keyword">AS</strong> <strong class="hl-keyword">sum</strong>
<strong class="hl-keyword">FROM</strong> t;</pre></div>
            <figure class="- topic/fig fig fignone" id="topic_kzn_211_31c__fig_y1h_311_31c" data-ofbid="topic_kzn_211_31c__fig_y1h_311_31c">
                <img class="- topic/image image" id="topic_kzn_211_31c__image_bnd_j11_31c" src="../../images/analyticFuncs/paititionBy.png"/>
            </figure>
            <p class="- topic/p p">当对分布式表应用分析函数时，若 PARTITION BY
                后的列是分区列，则在每个分区内部执行分析函数；否则，需要把整个表数据读取到内存中重新分区后执行分析函数。此时若分区表的数据量比较大，性能会比较差。</p>
        </div>
    </article>
    <article class="- topic/topic topic nested1" aria-labelledby="ariaid-title4" id="topic_jrf_l11_31c">
        <h2 class="- topic/title title topictitle2" id="ariaid-title4">ORDER BY</h2>
        <div class="- topic/body body">
            <p class="- topic/p p">ORDER BY 子句指定应用分析函数的每个分组中的行顺序。如果没有指定 ORDER BY 子句，则分组内的行是无序的。如果指定了 ORDER BY
                子句，分组中的数据会按照 ORDER BY 子句指定的列排序后再应用分析函数。</p>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock language-sql" id="topic_jrf_l11_31c__codeblock_ak2_411_31c" data-ofbid="topic_jrf_l11_31c__codeblock_ak2_411_31c"><strong class="hl-keyword">SELECT</strong> 
  <strong class="hl-keyword">month</strong>, 
  city, 
  <strong class="hl-keyword">rank</strong>() <strong class="hl-keyword">OVER</strong> (<strong class="hl-keyword">PARTITION</strong> <strong class="hl-keyword">BY</strong> city <strong class="hl-keyword">ORDER</strong> <strong class="hl-keyword">BY</strong> <strong class="hl-keyword">month</strong>) <strong class="hl-keyword">AS</strong> <strong class="hl-keyword">rank</strong>
<strong class="hl-keyword">FROM</strong> t;</pre>
            <figure class="- topic/fig fig fignone" id="topic_jrf_l11_31c__fig_vww_411_31c" data-ofbid="topic_jrf_l11_31c__fig_vww_411_31c">
                <img class="- topic/image image" id="topic_jrf_l11_31c__image_fjm_p11_31c" src="../../images/analyticFuncs/orderBy.png"/>
            </figure>
            <p class="- topic/p p">根据上面两个例子的结果，我们可以观察到，无论是否指定 ORDER BY，DolphinDB 输出的结果都会保持原表的顺序。</p>
        </div>
    </article>
    <article class="- topic/topic topic nested1" aria-labelledby="ariaid-title5" id="topic_ydk_jyv_yzb">
        <h2 class="- topic/title title topictitle2" id="ariaid-title5">窗口帧（&lt;window_frame&gt;）</h2>
        <div class="- topic/body body">
            <section class="- topic/section section" id="topic_ydk_jyv_yzb__section_v1d_kyv_yzb" data-ofbid="topic_ydk_jyv_yzb__section_v1d_kyv_yzb"><h3 class="- topic/title title sectiontitle">窗口帧定义</h3>
                
                <div class="- topic/p p">对于每一行，其分组内都有一组行，称为窗口帧<em class="+ topic/ph hi-d/i ph i">。</em>例如一个分组有10行，则某行的窗口帧就是其中 N
                        行的集合，N的范围是[1,10]。某些窗口函数仅作用于窗口内的行，而不是整个分组。<figure class="- topic/fig fig fignone" id="topic_ydk_jyv_yzb__fig_djs_r11_31c" data-ofbid="topic_ydk_jyv_yzb__fig_djs_r11_31c">
                        <img class="- topic/image image" id="topic_ydk_jyv_yzb__image_u1f_s11_31c" src="../../images/analyticFuncs/frame.png"/>
                    </figure></div>
                <p class="- topic/p p">DolphinDB 支持通过 ROWS 和 RANGE 定义窗口帧。</p>
                <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_ydk_jyv_yzb__codeblock_efq_lyv_yzb" data-ofbid="topic_ydk_jyv_yzb__codeblock_efq_lyv_yzb"><code>ROWS|RANGE BETWEEN lower_bound AND upper_bound</code></pre>
                <p class="- topic/p p">BETWEEN ... AND ... 指在... 之间，下限（lower bound）必须位于上限（upper
                    bound）之前。边界可以是5个选项中的任意一个：</p>
                <ul class="- topic/ul ul" id="topic_ydk_jyv_yzb__ul_rqm_511_31c" data-ofbid="topic_ydk_jyv_yzb__ul_rqm_511_31c">
                    <li class="- topic/li li">
                        <p class="- topic/p p">UNBOUNDED PRECEDING：当前行之前所有行</p>
                    </li>
                    <li class="- topic/li li">
                        <p class="- topic/p p">n PRECEDING</p>
                    </li>
                    <li class="- topic/li li">
                        <p class="- topic/p p">CURRENT ROW：仅当前行</p>
                    </li>
                    <li class="- topic/li li">
                        <p class="- topic/p p">n FOLLOWING</p>
                    </li>
                    <li class="- topic/li li">
                        <p class="- topic/p p">UNBOUNDED FOLLOWING：当前行之后所有行</p>
                    </li>
                </ul>
                <p class="- topic/p p">其中，指定 n PRECEDING/FOLLOWING 时：</p>
                <ul class="- topic/ul ul" id="topic_ydk_jyv_yzb__ul_fdc_5fv_x1c" data-ofbid="topic_ydk_jyv_yzb__ul_fdc_5fv_x1c">
                    <li class="- topic/li li">
                        <p class="- topic/p p">ROWS 根据行号来确定窗口的范围，此时 n 必须是整数。例如，ROWS BETWEEN 1 PRECEDING AND 1 FOLLOWING
                            表示当前行的前1行和后1行，共3行。</p>
                    </li>
                    <li class="- topic/li li">
                        <p class="- topic/p p">RANGE 根据 ORDER BY 列的行值来确定窗口的范围。必须指定 ORDER BY 子句，且该子句只能包含一个表达式。此时 n 可以是整数或
                            DURATION。当 n 是整数时，其单位和 ORDER BY 列相同；当 n 是 DURATION 时，它是一个时间间隔，其精度不能高于
                            ORDER BY 列的时间精度。以 n 为整数为例，RANGE BETWEEN 200 PRECEDING AND 100 FOLLOWING
                            表示当前行的值减200和当前行的值加100之间的所有行，包括相同排序值的行。</p>
                    </li>
                    <li class="- topic/li li">
                        <p class="- topic/p p">若同时指定 PRECEDING 和 FOLLOWING，则 n 的数据类型必须保持一致。</p>
                    </li>
                </ul>
                <div class="- topic/p p">
                    <figure class="- topic/fig fig fignone" id="topic_ydk_jyv_yzb__fig_mvd_v11_31c" data-ofbid="topic_ydk_jyv_yzb__fig_mvd_v11_31c">
                        <img class="- topic/image image" id="topic_ydk_jyv_yzb__image_tsq_v11_31c" src="../../images/analyticFuncs/rowsRange.png"/>
                    </figure>
                </div>
                <p class="- topic/p p">在定义窗口帧的边界时，支持使用以下缩写：</p>
                <ul class="- topic/ul ul" id="topic_ydk_jyv_yzb__ul_f3j_w11_31c" data-ofbid="topic_ydk_jyv_yzb__ul_f3j_w11_31c">
                    <li class="- topic/li li">
                        <p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">ROWS | RANGE UNBOUNDED PRECEDING</code> 等价于 <code class="+ topic/ph pr-d/codeph ph codeph">ROWS |
                                RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW</code></p>
                    </li>
                    <li class="- topic/li li">
                        <p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">ROWS | RANGE n PRECEDING</code> 等价于 <code class="+ topic/ph pr-d/codeph ph codeph">ROWS | RANGE
                                BETWEEN n PRECEDING AND CURRENT ROW</code></p>
                    </li>
                    <li class="- topic/li li">
                        <p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">ROWS | RANGE CURRENT ROW</code> 等价于 <code class="+ topic/ph pr-d/codeph ph codeph">ROWS | RANGE
                                BETWEEN CURRENT ROW AND CURRENT ROW</code></p>
                    </li>
                </ul>
            </section>
            <section class="- topic/section section" id="topic_ydk_jyv_yzb__section_zps_4yv_yzb" data-ofbid="topic_ydk_jyv_yzb__section_zps_4yv_yzb"><h3 class="- topic/title title sectiontitle">默认窗口帧</h3>
                
                <p class="- topic/p p">如果没有指定 &lt;window_frame&gt; 子句，则默认窗口帧取决于是否使用 ORDER BY 子句。</p>
                <ul class="- topic/ul ul" id="topic_ydk_jyv_yzb__ul_ns3_pyv_yzb" data-ofbid="topic_ydk_jyv_yzb__ul_ns3_pyv_yzb">
                    <li class="- topic/li li">
                        <p class="- topic/p p">如果使用 ORDER BY，则默认窗口帧为 <code class="+ topic/ph pr-d/codeph ph codeph">RANGE BETWEEN UNBOUNDED PRECEDING AND
                                CURRENT ROW</code></p>
                    </li>
                    <li class="- topic/li li">
                        <p class="- topic/p p">如果不使用 ORDER BY，则默认窗口帧为 <code class="+ topic/ph pr-d/codeph ph codeph">ROWS BETWEEN UNBOUNDED PRECEDING AND
                                UNBOUNDED FOLLOWING</code></p>
                    </li>
                </ul>
                <p class="- topic/p p">由于默认窗口帧根据是否使用 ORDER BY 子句而有所不同，因此是否使用 ORDER BY 子句也可能影响到查询结果。例如，sum
                    的计算结果可能会改变。因此建议在查询语句中明确指定窗口帧。</p>
                <div class="- topic/note note note note_note" id="topic_ydk_jyv_yzb__note_q5q_syv_yzb" data-ofbid="topic_ydk_jyv_yzb__note_q5q_syv_yzb"><span class="note__title">注：</span> 
                    <ul class="- topic/ul ul">
                        <li class="- topic/li li">
                            <p class="- topic/p p">RANGE 搭配 ORDER BY 时，ORDER BY 后面的列字段只能是整型或时间类型。</p>
                        </li>
                    </ul>
                </div>
            </section>
        </div>
    </article>
    <article class="- topic/topic topic nested1" aria-labelledby="ariaid-title6" id="topic_ptr_ryv_yzb">
        <h2 class="- topic/title title topictitle2" id="ariaid-title6">分析函数（&lt;analytic_function&gt;）</h2>
        <div class="- topic/body body">
            <p class="- topic/p p">DolphinDB 支持以下几类分析函数，需要注意的是，在 DolphinDB 中，应用分析函数后的输出结果的顺序与原表的顺序保持一致。</p>
            <div class="table-container"><table class="- topic/table table frame-all" id="topic_ptr_ryv_yzb__table_bcn_vyv_yzb" data-ofbid="topic_ptr_ryv_yzb__table_bcn_vyv_yzb" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead">
                        <tr class="- topic/row">
                            <th class="- topic/entry entry colsep-1 rowsep-1" id="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">
                                <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">函数名</strong></p>
                            </th>
                            <th class="- topic/entry entry colsep-0 rowsep-1" id="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">
                                <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">说明</strong></p>
                            </th>
                        </tr>
                    </thead><tbody class="- topic/tbody tbody">
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">sum</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">行的总和。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">sum2</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">行的平方和。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">avg</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">行的平均值。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">std</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">计算标准差。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">stdp</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">计算总体标准差。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">var</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">计算方差。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">varp</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">计算总体方差。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">count</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">行的计数。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">min</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">最小值。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">imin</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">最小值的位置。如果有多个相同的最小值，返回左起第一个最小值的位置。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">iminLast</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">最小元素的位置。如果有多个相同的最小值，返回右起第一个最小值的位置。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">max</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">最大值。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">imax</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">最大值的位置。如果有多个相同的最大值，返回左起第一个最大值的位置。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">imaxLast</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">最大值的位置。如果有多个相同的最大值，返回右起第一个最大值的位置。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">skew</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">倾斜度。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">kurtosis</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">峰度。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">med</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">中值。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">row_number</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">分组内每行的唯一编号，从1开始。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">rank</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">某个值在分组内的排名，从1开始。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">dense_rank</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">某个值在分组内的密集排名，从1开始。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">percent_rank</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">某行的百分位排名，取值范围为[0,1]。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">cume_dist</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">某个值在分组中的累积分布。如果按升序排列，则统计行值小于等于当前行值的行数除以总行数。如果按降序排列，则统计行值大于等于当前值的行数除以总行数。取值范围为(0,1]。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">lead(expr, offset=1, default=NULL)</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">当前行之后的行偏移值。offset 和 default 可选。不支持窗口帧。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">lag(expr, offset=1, default=NULL)</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">当前行之前的行偏移值。offset 和 default 可选。不支持窗口帧。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">ntile</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">将分组内的行尽可能均匀地分为 n 组，并为每行分配组号。当不使用 ORDER BY
                                子句时，输出表字段随机。不支持窗口帧。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">first_value</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">第一行的值。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">last_value</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">最后一行的值。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">nth_value</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">第 N 行的值。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">firstNot(X, [k])</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">第一个不为 NULL（或 <em class="+ topic/ph hi-d/i ph i">k</em>）的元素。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">lastNot(X, [k])</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">最后一个不为 NULL（或 <em class="+ topic/ph hi-d/i ph i">k</em>）的元素。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">prod</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">所有行的乘积。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">percentile(X, percent, [interpolation='linear'])</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">计算百分位数。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">wavg(X,Y)</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">计算加权平均数。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">wsum(X,Y)</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">计算 <em class="+ topic/ph hi-d/i ph i">X</em> 和 <em class="+ topic/ph hi-d/i ph i">Y</em> 之间内积。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">corr(X, Y)</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">计算 <em class="+ topic/ph hi-d/i ph i">X</em> 和 <em class="+ topic/ph hi-d/i ph i">Y</em> 之间的相关性。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">covar(X, Y)</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">计算 <em class="+ topic/ph hi-d/i ph i">X</em> 和 <em class="+ topic/ph hi-d/i ph i">Y</em> 的协方差。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">beta(X, Y)</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">计算<em class="+ topic/ph hi-d/i ph i"> Y</em> 在 <em class="+ topic/ph hi-d/i ph i">X</em> 上的回归系数的最小二乘估计</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">atImax(location, value)</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">找出 <em class="+ topic/ph hi-d/i ph i">location</em> 中最大值所在的位置，然后返回 <em class="+ topic/ph hi-d/i ph i">value</em> 中该位置对应的值。</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__1">atImin(location, value)</td>
                            <td class="- topic/entry entry colsep-0 rowsep-0" headers="topic_ptr_ryv_yzb__table_bcn_vyv_yzb__entry__2">找出 <em class="+ topic/ph hi-d/i ph i">location</em> 中最小值所在的位置，然后返回 <em class="+ topic/ph hi-d/i ph i">value</em> 中该位置对应的值。</td>
                        </tr>
                    </tbody></table></div>
            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例子</strong></p>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock language-sql" id="topic_ptr_ryv_yzb__codeblock_ij3_zyv_yzb" data-ofbid="topic_ptr_ryv_yzb__codeblock_ij3_zyv_yzb"><strong class="hl-keyword">create</strong> <strong class="hl-keyword">table</strong> t(
    id <strong class="hl-keyword">INT</strong>,
    sym SYMBOL,
    volume <strong class="hl-keyword">INT</strong>
);

<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">1</span>, `R, <span class="hl-number">200</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">2</span>, `P, <span class="hl-number">500</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">1</span>, `P, <span class="hl-number">100</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">1</span>, `P, <span class="hl-number">300</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">2</span>, `R, <span class="hl-number">300</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">2</span>, `P, <span class="hl-number">400</span>);
<strong class="hl-keyword">insert</strong> <strong class="hl-keyword">into</strong> t <strong class="hl-keyword">values</strong>(<span class="hl-number">3</span>, `R, <span class="hl-number">400</span>);

<strong class="hl-keyword">select</strong> * <strong class="hl-keyword">from</strong> t;
</pre>
            <div class="simpletable-container"><table class="- topic/simpletable simpletable frame-all" id="topic_ptr_ryv_yzb__table_clk_jdy_bbc" data-ofbid="topic_ptr_ryv_yzb__table_clk_jdy_bbc"><colgroup><col style="width:33.33333333333333%"/><col style="width:33.33333333333333%"/><col style="width:33.33333333333333%"/></colgroup><thead><tr class="- topic/sthead sthead">
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__1">id</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__2">sym</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__3">volume</th>
                </tr></thead><tbody><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__3">200</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__3">500</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__3">100</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__3">300</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__3">300</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__3">400</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__1">3</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_clk_jdy_bbc__stentry__3">400</td>
                </tr></tbody></table></div>
            <p class="- topic/p p">按 sym 分组后，获取每组内由当前行的前1行和后2行确定的窗口帧内的 volume 的总和。</p>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock language-sql" id="topic_ptr_ryv_yzb__codeblock_ew5_1zv_yzb" data-ofbid="topic_ptr_ryv_yzb__codeblock_ew5_1zv_yzb"><strong class="hl-keyword">select</strong> 
  *,
  <strong class="hl-keyword">sum</strong>(volume) <strong class="hl-keyword">over</strong> (
    <strong class="hl-keyword">partition</strong> <strong class="hl-keyword">by</strong> sym
    <strong class="hl-keyword">rows</strong> <strong class="hl-keyword">between</strong> <span class="hl-number">1</span> <strong class="hl-keyword">preceding</strong> <strong class="hl-keyword">and</strong> <span class="hl-number">2</span> <strong class="hl-keyword">following</strong>) 
<strong class="hl-keyword">from</strong> 
  t;
</pre>
            <div class="simpletable-container"><table class="- topic/simpletable simpletable frame-all" id="topic_ptr_ryv_yzb__table_w4n_sdy_bbc" data-ofbid="topic_ptr_ryv_yzb__table_w4n_sdy_bbc"><colgroup><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/></colgroup><thead><tr class="- topic/sthead sthead">
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__1">id</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__2">sym</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__3">volume</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__4">sum</th>
                </tr></thead><tbody><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__3">200</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__4">900</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__3">500</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__4">900</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__3">100</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__4">1,300</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__3">300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__4">800</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__3">300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__4">900</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__3">400</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__4">700</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__1">3</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__3">400</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_w4n_sdy_bbc__stentry__4">700</td>
                </tr></tbody></table></div>
            <p class="- topic/p p">按 sym 分组并按 volume 升序排序后，获取每组内当前行的百分位排名。</p>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock language-sql" id="topic_ptr_ryv_yzb__codeblock_plb_czv_yzb" data-ofbid="topic_ptr_ryv_yzb__codeblock_plb_czv_yzb"><strong class="hl-keyword">select</strong> 
  *,
  <strong class="hl-keyword">percent_rank</strong>() <strong class="hl-keyword">over</strong> (
    <strong class="hl-keyword">partition</strong> <strong class="hl-keyword">by</strong> sym
    <strong class="hl-keyword">order</strong> <strong class="hl-keyword">by</strong> volume) 
<strong class="hl-keyword">from</strong> 
  t;

</pre>
            <div class="simpletable-container"><table class="- topic/simpletable simpletable frame-all" id="topic_ptr_ryv_yzb__table_zsj_vdy_bbc" data-ofbid="topic_ptr_ryv_yzb__table_zsj_vdy_bbc"><colgroup><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/></colgroup><thead><tr class="- topic/sthead sthead">
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__1">id</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__2">sym</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__3">volume</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__4">percent_rank</th>
                </tr></thead><tbody><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__3">200</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__4">0</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__3">500</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__4">1</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__3">100</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__4">0</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__3">300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__4">0.3333</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__3">300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__4">0.5</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__3">400</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__4">0.6667</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__1">3</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__3">400</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_zsj_vdy_bbc__stentry__4">1</td>
                </tr></tbody></table></div>
            <p class="- topic/p p">获取分组内每行根据 volume 的排名。如果不使用 order by 子句，则所有排名一样。如果指定 order by 子句，则会根据 order by
                后的列进行排名，默认是升序。</p>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock language-sql" id="topic_ptr_ryv_yzb__codeblock_gyj_dzv_yzb" data-ofbid="topic_ptr_ryv_yzb__codeblock_gyj_dzv_yzb">// 不使用 <strong class="hl-keyword">order</strong> <strong class="hl-keyword">by</strong>
<strong class="hl-keyword">select</strong> 
  *,
  <strong class="hl-keyword">rank</strong>() <strong class="hl-keyword">over</strong> (
    <strong class="hl-keyword">partition</strong> <strong class="hl-keyword">by</strong> sym) 
<strong class="hl-keyword">from</strong> 
  t;
  </pre>
            <div class="simpletable-container"><table class="- topic/simpletable simpletable frame-all" id="topic_ptr_ryv_yzb__table_mdz_ydy_bbc" data-ofbid="topic_ptr_ryv_yzb__table_mdz_ydy_bbc"><colgroup><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/></colgroup><thead><tr class="- topic/sthead sthead">
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__1">id</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__2">sym</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__3">volume</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__4">rank</th>
                </tr></thead><tbody><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__3">200</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__4">1</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__3">500</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__4">1</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__3">100</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__4">1</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__3">300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__4">1</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__3">300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__4">1</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__3">400</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__4">1</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__1">3</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__3">400</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_mdz_ydy_bbc__stentry__4">1</td>
                </tr></tbody></table></div>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock language-sql" id="topic_ptr_ryv_yzb__codeblock_ynp_ydy_bbc" data-ofbid="topic_ptr_ryv_yzb__codeblock_ynp_ydy_bbc">
// 使用 <strong class="hl-keyword">order</strong> <strong class="hl-keyword">by</strong>
<strong class="hl-keyword">select</strong> 
  *,
  <strong class="hl-keyword">rank</strong>() <strong class="hl-keyword">over</strong> (
    <strong class="hl-keyword">partition</strong> <strong class="hl-keyword">by</strong> sym
    <strong class="hl-keyword">order</strong> <strong class="hl-keyword">by</strong> volume) 
<strong class="hl-keyword">from</strong> 
  t;
</pre>
            <div class="simpletable-container"><table class="- topic/simpletable simpletable frame-all" id="topic_ptr_ryv_yzb__table_cmq_b2y_bbc" data-ofbid="topic_ptr_ryv_yzb__table_cmq_b2y_bbc"><colgroup><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/></colgroup><thead><tr class="- topic/sthead sthead">
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__1">id</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__2">sym</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__3">volume</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__4">rank</th>
                </tr></thead><tbody><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__3">200</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__4">1</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__3">500</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__4">4</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__3">100</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__4">1</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__3">300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__4">2</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__3">300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__4">2</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__3">400</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__4">3</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__1">3</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__3">400</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_cmq_b2y_bbc__stentry__4">3</td>
                </tr></tbody></table></div>
            <p class="- topic/p p">按 sym 分组按 id 降序排序后，在由当前行的前2行到当前行组成的窗口内，获取第一行的值。</p>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock language-sql" id="topic_ptr_ryv_yzb__codeblock_nvd_fzv_yzb" data-ofbid="topic_ptr_ryv_yzb__codeblock_nvd_fzv_yzb"> <strong class="hl-keyword">select</strong> 
  *,
  first_value(volume) <strong class="hl-keyword">OVER</strong>(
    <strong class="hl-keyword">partition</strong> <strong class="hl-keyword">by</strong> sym
    <strong class="hl-keyword">ORDER</strong> <strong class="hl-keyword">BY</strong> id <strong class="hl-keyword">DESC</strong>
    <strong class="hl-keyword">rows</strong> <span class="hl-number">2</span> <strong class="hl-keyword">preceding</strong>)
<strong class="hl-keyword">from</strong> 
  t;
  </pre>
            <div class="simpletable-container"><table class="- topic/simpletable simpletable frame-all" id="topic_ptr_ryv_yzb__table_ppt_d2y_bbc" data-ofbid="topic_ptr_ryv_yzb__table_ppt_d2y_bbc"><colgroup><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/></colgroup><thead><tr class="- topic/sthead sthead">
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__1">id</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__2">sym</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__3">volume</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__4">first_value</th>
                </tr></thead><tbody><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__3">200</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__4">400</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__3">500</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__4">500</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__3">100</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__4">500</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__3">300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__4">400</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__3">300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__4">400</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__3">400</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__4">500</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__1">3</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__3">400</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_ppt_d2y_bbc__stentry__4">400</td>
                </tr></tbody></table></div>
            <p class="- topic/p p">对分布式表应用分析函数。</p>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock language-sql" id="topic_ptr_ryv_yzb__codeblock_qqw_fzv_yzb" data-ofbid="topic_ptr_ryv_yzb__codeblock_qqw_fzv_yzb">t = <strong class="hl-keyword">table</strong>(<span class="hl-number">1</span> <span class="hl-number">2</span> <span class="hl-number">1</span> <span class="hl-number">1</span> <span class="hl-number">2</span> <span class="hl-number">2</span> <span class="hl-number">3</span> <strong class="hl-keyword">as</strong> id, `R`P`L`P`R`L`R <strong class="hl-keyword">as</strong> sym, <span class="hl-number">200</span> <span class="hl-number">500</span> <span class="hl-number">100</span> <span class="hl-number">300</span> <span class="hl-number">300</span> <span class="hl-number">400</span> <span class="hl-number">400</span> <strong class="hl-keyword">as</strong> volume)
db_name = "dfs://window_function"
if (existsDatabase(db_name)) {
    dropDatabase(db_name)
}
db = database(db_name, HASH, [<strong class="hl-keyword">INT</strong>, <span class="hl-number">2</span>], , <span class="hl-string">'TSDB'</span>)

pt = db.createPartitionedTable(t, "pt", "id", ,"volume")
pt.append!(t)

// 按 sym 列分组后，按 id 按升序排序后，获取 volume 当前行后面第1行的值，若没有对应行，则填充-<span class="hl-number">1</span>。
<strong class="hl-keyword">select</strong> 
  *,
  lead(volume, <span class="hl-number">1</span>, -<span class="hl-number">1</span>) <strong class="hl-keyword">OVER</strong>(
    <strong class="hl-keyword">PARTITION</strong> <strong class="hl-keyword">BY</strong> sym
    <strong class="hl-keyword">ORDER</strong> <strong class="hl-keyword">BY</strong> id)
<strong class="hl-keyword">from</strong> 
  t;
</pre>
            <div class="simpletable-container"><table class="- topic/simpletable simpletable frame-all" id="topic_ptr_ryv_yzb__table_yns_f2y_bbc" data-ofbid="topic_ptr_ryv_yzb__table_yns_f2y_bbc"><colgroup><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/></colgroup><thead><tr class="- topic/sthead sthead">
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__1">id</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__2">sym</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__3">volume</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__4">lead</th>
                </tr></thead><tbody><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__3">200</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__4">300</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__3">500</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__4">-1</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__2">L</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__3">100</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__4">400</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__1">1</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__2">P</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__3">300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__4">500</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__3">300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__4">400</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__1">2</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__2">L</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__3">400</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__4">-1</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__1">3</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__2">R</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__3">400</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_yns_f2y_bbc__stentry__4">-1</td>
                </tr></tbody></table></div>
            <p class="- topic/p p">本例将介绍如何基于时间窗口进行字段统计。</p>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_ptr_ryv_yzb__codeblock_a1v_wfv_x1c" data-ofbid="topic_ptr_ryv_yzb__codeblock_a1v_wfv_x1c"><code>n=10
date= rand(2022.10.01..2022.10.04 join 2022.11.01 join 2022.12.04 join 2022.12.06 join 2022.12.10 join 2023.01.01 join 2023.02.02, n)
price = [49.6,29.46,49.6,50.6,64.97,56.9,50.66,50.32,51.29,62.36]
qty = [2200,1900,2000,2200,6800,2100,1300,6600,8800,5300]
sym = rand(string(["C", "MS", "A"]), n) 
t = table(date, sym, qty, price);
t</code></pre>
            <div class="simpletable-container"><table class="- topic/simpletable simpletable frame-all" id="topic_ptr_ryv_yzb__table_gw2_zfv_x1c" data-ofbid="topic_ptr_ryv_yzb__table_gw2_zfv_x1c"><colgroup><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/></colgroup><thead><tr class="- topic/sthead sthead">
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__1">date</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__2">sym</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__3">qty</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__4">price</th>
                </tr></thead><tbody><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__1">2022.10.02</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__2">C</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__3">2,200</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__4">49.6</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__1">2022.12.06</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__2">C</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__3">1,900</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__4">29.46</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__1">2022.12.10</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__2">C</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__3">2,000</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__4">49.6</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__1">2022.10.02</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__2">A</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__3">2,200</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__4">50.6</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__1">2022.10.02</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__2">MS</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__3">6,800</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__4">64.97</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__1">2023.02.02</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__2">C</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__3">2,100</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__4">56.9</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__1">2022.10.01</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__2">C</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__3">1,300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__4">50.66</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__1">2023.02.02</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__2">MS</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__3">6,600</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__4">50.32</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__1">2022.10.03</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__2">A</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__3">8,800</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__4">51.29</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__1">2022.12.04</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__2">MS</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__3">5,300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_gw2_zfv_x1c__stentry__4">62.36</td>
                </tr></tbody></table></div>
            <p class="- topic/p p">首先基于 sym 字段进行分区，然后根据 date 字段进行排序。对每个记录的 date 值，开启一个 RANGE，包含前面1个月和后面1个月。统计每个 RANGE 中的
                qty 的最大值。</p>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_ptr_ryv_yzb__codeblock_zcc_bgv_x1c" data-ofbid="topic_ptr_ryv_yzb__codeblock_zcc_bgv_x1c"><code>select *, max(qty) over (partition by sym order by date RANGE BETWEEN 1M PRECEDING AND 1M FOLLOWING) from t</code></pre>
            <div class="simpletable-container"><table class="- topic/simpletable simpletable frame-all" id="topic_ptr_ryv_yzb__table_dcm_cgv_x1c" data-ofbid="topic_ptr_ryv_yzb__table_dcm_cgv_x1c"><colgroup><col style="width:20.03968253968254%"/><col style="width:20.03968253968254%"/><col style="width:20.03968253968254%"/><col style="width:20.03968253968254%"/><col style="width:19.841269841269842%"/></colgroup><thead><tr class="- topic/sthead sthead">
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__1">date</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__2">sym</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__3">qty</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__4">price</th>
                    <th class="- topic/stentry stentry" scope="col" id="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__5">max</th>
                </tr></thead><tbody><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__1">2022.10.02</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__2">C</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__3">2,200</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__4">49.6</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__5">2,200</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__1">2022.12.06</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__2">C</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__3">1,900</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__4">29.46</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__5">2,000</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__1">2022.12.10</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__2">C</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__3">2,000</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__4">49.6</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__5">2,000</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__1">2022.10.02</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__2">A</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__3">2,200</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__4">50.6</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__5">8,800</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__1">2022.10.02</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__2">MS</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__3">6,800</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__4">64.97</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__5">6,800</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__1">2023.02.02</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__2">C</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__3">2,100</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__4">56.9</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__5">2,100</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__1">2022.10.01</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__2">C</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__3">1,300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__4">50.66</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__5">2,200</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__1">2023.02.02</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__2">MS</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__3">6,600</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__4">50.32</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__5">6,600</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__1">2022.10.03</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__2">A</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__3">8,800</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__4">51.29</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__5">8,800</td>
                </tr><tr class="- topic/strow strow">
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__1">2022.12.04</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__2">MS</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__3">5,300</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__4">62.36</td>
                    <td class="- topic/stentry stentry" headers="topic_ptr_ryv_yzb__table_dcm_cgv_x1c__stentry__5">5,300</td>
                </tr></tbody></table></div>
        </div>
    </article>
</article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div id="wh_topic_toc_content">
		                        
	                            <div class=" wh_topic_toc "><div class="wh_topic_label">在本页上</div><ul><li class="topic-item"><a href="#topic_sy5_dyv_yzb" data-tocid="topic_sy5_dyv_yzb"><strong class="+ topic/ph hi-d/b ph b">OVER 子句</strong></a><ul><li class="section-item"><div class="section-title"><a href="#topic_sy5_dyv_yzb__section_vnc_gyv_yzb" data-tocid="topic_sy5_dyv_yzb__section_vnc_gyv_yzb">语法</a></div></li></ul></li><li class="topic-item"><a href="#topic_kzn_211_31c" data-tocid="topic_kzn_211_31c">PARTITION BY</a></li><li class="topic-item"><a href="#topic_jrf_l11_31c" data-tocid="topic_jrf_l11_31c">ORDER BY</a></li><li class="topic-item"><a href="#topic_ydk_jyv_yzb" data-tocid="topic_ydk_jyv_yzb">窗口帧（&lt;window_frame&gt;）</a><ul><li class="section-item"><div class="section-title"><a href="#topic_ydk_jyv_yzb__section_v1d_kyv_yzb" data-tocid="topic_ydk_jyv_yzb__section_v1d_kyv_yzb">窗口帧定义</a></div></li><li class="section-item"><div class="section-title"><a href="#topic_ydk_jyv_yzb__section_zps_4yv_yzb" data-tocid="topic_ydk_jyv_yzb__section_zps_4yv_yzb">默认窗口帧</a></div></li></ul></li><li class="topic-item"><a href="#topic_ptr_ryv_yzb" data-tocid="topic_ptr_ryv_yzb">分析函数（&lt;analytic_function&gt;）</a></li></ul></div>
	                        	
                        	</div>
                        </nav>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
<title>Copyright</title><p><b> ©2025 浙江智臾科技有限公司 浙ICP备18048711号-3</b></p>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>