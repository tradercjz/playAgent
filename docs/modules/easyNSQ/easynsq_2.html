<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" data-whc_version="26.0">
    <head><link rel="shortcut icon" href="../../favicon.ico"/><link rel="icon" href="../../favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="为了实时获取 level-2 行情数据，DolphinDB 对接恒生 NSQ 极速行情服务软件，开发了能够获取上海和深圳市场行情数据的 NSQ 插件。安装好插件后，用户需要创建用于接收实时数据的持久化共享流表和分区表，并且发起相关订阅。为了方便用户快速搭建 NSQ 实时行情数据的流计算环境，DolphinDB 开发了 DolphinDBModules::easyNSQ 模块（简称 easyNSQ ..."/><meta name="DC.rights.owner" content="(C) 版权 2025"/><meta name="copyright" content="(C) 版权 2025"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="topic"/><meta name="DC.coverage" content=""/><meta name="DC.relation" content="../../tutorials/tu_modules.html"/><meta name="prodname" content="DolphinDB"/><meta name="brand" content="DolphinDB"/><meta name="DC.creator" content="DolphinDB"/><meta name="DC.publisher" content="DDB N/A DDB 200"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="easynsq-实时行情数据接入功能模块"/><title>easyNSQ 实时行情数据接入功能模块</title><!--  Generated with Oxygen version 26.0, build number 2024012323.  --><meta name="wh-path2root" content="../../"/><meta name="wh-toc-id" content="&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;&lt;?workdir /tmp/temp20250305183303418/modules/easyNSQ?&gt;&lt;?workdir-uri file:/tmp/temp20250305183303418/modules/easyNSQ/?&gt;&lt;?path2project ../..?&gt;&lt;?path2project-uri ../../?&gt;&lt;?path2rootmap-uri ../../?&gt;&lt;topic xmlns:dita-ot=&#34;http://dita-ot.sourceforge.net/ns/201007/dita-ot&#34; xmlns:ditaarch=&#34;http://dita.oasis-open.org/architecture/2005/&#34; class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;easynsq-实时行情数据接入功能模块&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ 实时行情数据接入功能模块&lt;/title&gt;&lt;prolog class=&#34;- topic/prolog &#34;&gt;&lt;author class=&#34;- topic/author &#34; xtrc=&#34;author:1;12:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/author&gt;&lt;publisherinformation class=&#34;- topic/publisher bookmap/publisherinformation &#34; xtrc=&#34;publisherinformation:1;14:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:1;15:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;printlocation class=&#34;- topic/data bookmap/printlocation &#34; xtrc=&#34;printlocation:1;16:28&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;N/A&lt;/printlocation&gt; &lt;published class=&#34;- topic/data bookmap/published &#34; xtrc=&#34;published:1;17:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:2;18:25&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;publishtype class=&#34;- topic/data bookmap/publishtype &#34; value=&#34;HTML&#34; xtrc=&#34;publishtype:1;19:44&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;revisionid class=&#34;- topic/ph bookmap/revisionid &#34; xtrc=&#34;revisionid:1;20:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;200&lt;/revisionid&gt; &lt;summary class=&#34;- topic/ph bookmap/summary &#34; xtrc=&#34;summary:1;22:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:1;23:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/published&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:2;25:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/publisherinformation&gt;&lt;metadata class=&#34;- topic/metadata &#34;&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:2;39:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:1;28:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;category class=&#34;- topic/category &#34; xtrc=&#34;category:1;29:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;prodinfo class=&#34;- topic/prodinfo &#34; xtrc=&#34;prodinfo:1;34:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;prodname class=&#34;- topic/prodname &#34; xtrc=&#34;prodname:1;35:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/prodname&gt; &lt;brand class=&#34;- topic/brand &#34; xtrc=&#34;brand:1;36:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/brand&gt; &lt;/prodinfo&gt;&lt;/metadata&gt;&lt;/prolog&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:1;3:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;为了实时获取 level-2 行情数据，DolphinDB 对接恒生 NSQ 极速行情服务软件，开发了能够获取上海和深圳市场行情数据的 NSQ 插件。安装好插件后，用户需要创建用于接收实时数据的持久化共享流表和分区表，并且发起相关订阅。为了方便用户快速搭建 NSQ 实时行情数据的流计算环境，DolphinDB 开发了 DolphinDBModules::easyNSQ 模块（简称 easyNSQ 模块），主要用于 NSQ 实时行情数据的自动化接收和存储。目前已经支持的数据源包括上海和深圳市场的：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:1;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:1;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;现货逐笔委托行情主推回调（OnRtnSecuTransactionEntrustData-&amp;gt;orders）&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:2;6:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;现货逐笔成交行情主推回调（OnRtnSecuTransactionTradeData-&amp;gt;trade）&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:3;7:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;现货深度行情主推回调（OnRtnSecuDepthMarketData-&amp;gt;snapshot）&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:2;9:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:1;9:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;注意&lt;/b&gt;：DolphinDB 仅提供对接 HSNsqApi 的 NSQ 插件，数据源和接入服务可咨询数据服务商或证券公司。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:3;11:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;NSQ 插件的版本支持情况请参考 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://marketplace.dolphindb.cn/18&#34; scope=&#34;external&#34; xtrc=&#34;xref:1;11:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;插件市场下载页&lt;/xref&gt;。本模块基于 DolphinDB 2.00.11 版本开发，请在使用本模块时确保安装了 2.00.11 及以上版本的 DolphinDB server。&lt;/p&gt;&lt;/body&gt;&lt;related-links class=&#34;- topic/related-links &#34;&gt;&lt;linkpool class=&#34;- topic/linkpool &#34; xtrc=&#34;topicref:83;115:76&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_tutorials.ditamap&#34;&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;../../tutorials/tu_modules.dita&#34; mapclass=&#34;- map/topicref &#34; role=&#34;parent&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:81;112:52&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_tutorials.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot gentext?&gt;模块&lt;/linktext&gt;&lt;/link&gt;&lt;/linkpool&gt;&lt;/related-links&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;1-安装说明&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:2;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:2;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;1. 安装说明&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:2;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:4;15:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;使用 DolphinDBModules::easyNSQ 模块前，请确保在 DolphinDB 服务器上正确安装和加载了 NSQ 插件和 DolphinDBModules::easyNSQ 模块文件。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:5;17:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:2;17:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;注意&lt;/b&gt;：对于之前从未使用过 DolphinDB 插件和模块功能的读者，推荐在阅读以下章节的同时阅读 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://docs.dolphindb.cn/zh/plugins/nsq/nsq.html&#34; scope=&#34;external&#34; xtrc=&#34;xref:2;17:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;DolphinDB NSQ 行情插件文档&lt;/xref&gt; 以及 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://docs.dolphindb.cn/zh/tutorials/tu_modules.html&#34; scope=&#34;external&#34; xtrc=&#34;xref:3;17:131&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;DolphinDB 模块说明&lt;/xref&gt;。 easyNSQ 模块依赖于 NSQ 插件，&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:3;18:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;请确保先加载 NSQ 插件，再加载 easyNSQ 模块&lt;/b&gt;。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;11-安装-nsq-插件&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:3;20:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:3;20:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;1.1 安装 NSQ 插件&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:3;20:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:2;22:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:4;22:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:4;22:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;在线安装插件&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:6;24:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户可以通过 DolphinDB 官方的插件市场在线安装 NSQ 插件，具体操作步骤如下：&lt;/p&gt;&lt;ol class=&#34;- topic/ol &#34; xtrc=&#34;ol:1;26:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:5;26:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:7;26:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;在 DolphinDB 客户端（DolphinDB GUI、Web 页面或者 Vscode 插件）中运行 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://docs.dolphindb.cn/zh/funcs/l/listRemotePlugins.html&#34; scope=&#34;external&#34; xtrc=&#34;xref:4;26:57&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;listRemotePlugins&lt;/xref&gt; 函数，查看插件市场中与当前 DolphinDB server 适配的 NSQ 插件及其版本信息。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:1;28:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;listRemotePlugins(&#34;nsq&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:8;31:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;该函数执行后会返回一个如下的表。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:9;33:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 1-1 listRemotePlugins 函数的返回结果示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/1.1.png&#34; placement=&#34;break&#34; xtrc=&#34;image:1;35:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;257&#34; dita-ot:image-height=&#34;75&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:1;35:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 1-1 listRemotePlugins 函数的返回结果示例&lt;/alt&gt;&lt;/image&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:6;37:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:10;37:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;使用 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://docs.dolphindb.cn/zh/funcs/i/installPlugin.html&#34; scope=&#34;external&#34; xtrc=&#34;xref:5;37:7&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;installPlugin&lt;/xref&gt; 函数从插件市场下载并安装 NSQ 插件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:2;39:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;installPlugin(&#34;nsq&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:11;43:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;该函数会在安装完成后返回插件的安装路径。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:12;45:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 1-2 installPlugin 函数的返回结果示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/1.2.png&#34; placement=&#34;break&#34; xtrc=&#34;image:2;47:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;393&#34; dita-ot:image-height=&#34;106&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:2;47:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 1-2 installPlugin 函数的返回结果示例&lt;/alt&gt;&lt;/image&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:3;49:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:7;49:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:5;49:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;离线安装插件&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:13;51:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;如果 DolphinDB server 所在机器与插件市场的网络不互通，用户还可以选择使用离线方式安装 NSQ 插件。&lt;/p&gt;&lt;ol class=&#34;- topic/ol &#34; xtrc=&#34;ol:2;53:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:8;53:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:14;53:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;根据 DolphinDB server 版本和及其所在机器的操作系统，从 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://marketplace.dolphindb.cn/18&#34; scope=&#34;external&#34; xtrc=&#34;xref:6;53:41&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;DolphinDB 插件市场&lt;/xref&gt; 或者 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://github.com/dolphindb/DolphinDBPlugin/tree/release200.11/nsq&#34; scope=&#34;external&#34; xtrc=&#34;xref:7;53:98&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;Github&lt;/xref&gt; 和 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://gitee.com/dolphindb/DolphinDBPlugin/tree/release200.11/nsq&#34; scope=&#34;external&#34; xtrc=&#34;xref:8;53:178&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;Gitee&lt;/xref&gt; 下载 NSQ 插件。注意，如果从 Github 或 Gitee 代码仓库下载 NSQ 插件，部分版本可能需要用户自行编译，插件编译的步骤可以参考 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://docs.dolphindb.cn/zh/2.00.11/plugins/nsq/nsq.html#%E8%87%AA%E8%A1%8C%E7%BC%96%E8%AF%91&#34; scope=&#34;external&#34; xtrc=&#34;xref:9;53:327&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;此文档&lt;/xref&gt;。&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:9;55:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:15;55:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;将 NSQ 插件的所有文件（包括动态库文件）放到 DolphinDB server 所在机器的该路径下： &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:1;55:57&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;/DolphinDB/server/plugins/nsq&lt;/i&gt;。&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:10;57:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:16;57:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;若使用 Linux 系统，还需要将 NSQ 插件的路径添加到 Linux 环境变量，然后重启 DolphinDB：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:3;59:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;export LD_LIBRARY_PATH=/DolphinDB/server/plugins/nsq/:$LD_LIBRARY_PATH&lt;/codeblock&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;12-加载-nsq-插件&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:4;63:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:4;63:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;1.2 加载 NSQ 插件&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:4;63:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:4;65:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:11;65:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:6;65:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;手动加载插件&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:17;67:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;安装 NSQ 插件完之后，可以使用 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://docs.dolphindb.cn/zh/funcs/l/loadPlugin.html&#34; scope=&#34;external&#34; xtrc=&#34;xref:10;67:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;loadPlugin&lt;/xref&gt; 函数加载插件。任意会话中成功加载插件，即可在当前 server 节点的其他会话中使用插件。若 DolphinDB server 重启，则需要重新加载插件。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:18;69:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;2.00.11 及以上版本的 server，支持使用插件名来加载插件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:4;71:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;loadPlugin(&#34;nsq&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:19;75:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;也可以使用插件描述文件的绝对路径来加载插件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:5;77:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;loadPlugin(&#34;/DolphinDB/server/plugins/nsq/PluginNsq.txt&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:20;81:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;若插件加载成功，该函数会返回一个包含所有插件函数的向量。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:21;83:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 1-3 loadPlugin 函数的返回结果示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/1.3.png&#34; placement=&#34;break&#34; xtrc=&#34;image:3;85:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1310&#34; dita-ot:image-height=&#34;64&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:3;85:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 1-3 loadPlugin 函数的返回结果示例&lt;/alt&gt;&lt;/image&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:5;87:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:12;87:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:7;87:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;自动预加载插件&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:22;89:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DolphinDB server 启动后，插件只需加载一次就会一直生效，但是如果 server 重启就需要重新加载插件。为了避免重复手动加载插件的麻烦，DolphinDB 提供了自动预加载插件的功能。可以通过配置项 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://docs.dolphindb.cn/zh/db_distr_comp/cfg/standalone.html#ariaid-title4&#34; scope=&#34;external&#34; xtrc=&#34;xref:11;89:109&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;preloadModules&lt;/xref&gt; 指定系统启动后自动加载的插件或模块。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:23;91:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;在配置文件 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:2;91:7&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dolphindb.cfg&lt;/i&gt; 中加上：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:6;93:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;preloadModules=plugins::nsq&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:24;97:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;然后启动 DolphinDB，系统自动会到 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:3;97:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;/DolphinDB/server/plugins/&lt;/i&gt; 目录下加载 NSQ 插件。&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:6;99:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:13;99:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:8;99:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;验证加载&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:25;101:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;可以运行以下代码来验证 NSQ 插件加载成功：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:7;103:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;defs(&#34;nsq::%&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:26;107:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;以上代码用于查询 DolphinDB 系统中 ”nsq“ 命名空间的函数，插件加载成功会返回如下列表：&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:27;109:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 1-4 defs 函数的返回结果示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/1.4.png&#34; placement=&#34;break&#34; xtrc=&#34;image:4;111:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;718&#34; dita-ot:image-height=&#34;212&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:4;111:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 1-4 defs 函数的返回结果示例&lt;/alt&gt;&lt;/image&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;13-安装-easynsq-模块&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:5;113:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:5;113:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;1.3 安装 easyNSQ 模块&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:5;113:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:28;115:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;以 Linux 单节点为例，将模块文件拷贝到 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:4;115:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;/DolphinDB/server/modules/&lt;/i&gt; 目录下，即模块脚本 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:5;115:63&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ.dos&lt;/i&gt; 的路径应为 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:6;115:83&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;/DolphinDB/server/modules/DolphinDBModules/easyNSQ.dos 。&lt;/i&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:29;117:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;模块文件安装好，运行以下代码加载模块：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:8;119:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;use DolphinDBModules::easyNSQ&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:30;123:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;如果没有返回错误信息，则说明 easyNSQ 模块已经成功加载。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:31;125:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;安装插件时常见的错误信息如下：&lt;/p&gt;&lt;ol class=&#34;- topic/ol &#34; xtrc=&#34;ol:3;127:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:14;127:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;插件与 DolphinDB server 版本不匹配，需要改用适配 server 版本的插件：&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:1;127:51&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;The first line must be the module name, dynamic library file name and version, separated by comma&lt;/codeph&gt; 或 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:2;127:153&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;Failed to loadPlugin file [...] for the plugin version [...] is not same to the server version [...]&lt;/codeph&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:15;128:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;没有将 NSQ 插件的路径添加到 Linux 环境变量，需要添加环境变量再重启 DolphinDB server ：&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:3;128:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;Couldn't load the dynamic library [.../libPluginNsq.so]: libHSNsqApi.so: cannot open shared object file: No such file or directory [...]&lt;/codeph&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:32;130:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;如果遇到其他问题，可以在社区中交流或者联系 DolphinDB 的技术支持工程师。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;2-使用示例&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:6;132:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:6;132:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;2. 使用示例&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:6;132:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:7;134:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:16;134:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:9;134:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第一步：&lt;/b&gt; 按照上一章节的说明，安装并加载 NSQ 行情插件和 easyNSQ 模块。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:17;135:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:10;135:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第二步&lt;/b&gt;：准备好 NSQ 行情数据服务器配置文件 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:7;135:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sdk_config.ini&lt;/i&gt;，上传到 DolphinDB server 所在的服务器上。下图中，配置文件放置在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:8;135:89&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;server/plugins/nsq/&lt;/i&gt; 路径。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:33;137:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-1 server/plugins/ 文件结构示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/2.1.png&#34; placement=&#34;break&#34; xtrc=&#34;image:5;139:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;564&#34; dita-ot:image-height=&#34;143&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:5;139:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-1 server/plugins/ 文件结构示例&lt;/alt&gt;&lt;/image&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:8;141:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:18;141:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:11;141:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第三步&lt;/b&gt;：打开浏览器，在地址栏输入 DolphinDB server 的 IP 地址与端口号，连接到该节点的 Web 管理页面。点击右上角的用户按钮进行登录。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:34;143:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-2 DolphinDB Web 管理页面示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/2.2.png&#34; placement=&#34;break&#34; xtrc=&#34;image:6;145:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1162&#34; dita-ot:image-height=&#34;355&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:6;145:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-2 DolphinDB Web 管理页面示例&lt;/alt&gt;&lt;/image&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:9;147:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:19;147:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:12;147:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第四步&lt;/b&gt;：在交互编程页面，执行以下脚本订阅行情数据和落库存储：&lt;/li&gt;&lt;/ul&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:9;149:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 加载插件 try{ loadPlugin(&#34;nsq&#34;) } catch(ex) { print(ex) } go // 调用模块 use DolphinDBModules::easyNSQ // nsq 行情配置文件路径 configFilePath = &#34;&amp;lt;your_path_to&amp;gt;/nsq_sdk_config.ini&#34;; // nsq 账号（可选参数） nsq_username = &#34;&amp;lt;your_nsq_username&amp;gt;&#34;; nsq_password = &#34;&amp;lt;your_nsq_password&amp;gt;&#34;; // 数据接收选项（可选参数） nsq_data_option = dict(STRING, ANY) nsq_data_option[&#34;receivedTime&#34;]=true // 在行情数据中增加一列接收时间 nsq_data_option[&#34;getAllFieldNames&#34;]=true // 接受 nsq 原始行情中所有字段 // 初始化环境 iniNsqEnv() iniNsqDfs() // 建立对沪深交易所L2快照、逐笔委托和逐笔成交行情数据的订阅，接收数据后自动落库存储 subscribeNsq(configFilePath, &#34;orders&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true, saveToDfs=true, options=nsq_data_option, username=nsq_username, password=nsq_password) subscribeNsq(configFilePath, &#34;trade&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true, saveToDfs=true, options=nsq_data_option, username=nsq_username, password=nsq_password) subscribeNsq(configFilePath, &#34;snapshot&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true, saveToDfs=true, options=nsq_data_option, username=nsq_username, password=nsq_password) /* // 不使用 nsq 账号和数据接收选项的订阅方式 subscribeNsq(configFilePath, &#34;orders&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true, saveToDfs=true) subscribeNsq(configFilePath, &#34;trade&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true, saveToDfs=true) subscribeNsq(configFilePath, &#34;snapshot&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true, saveToDfs=true) */&lt;/codeblock&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:10;185:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:20;185:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:13;185:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第五步&lt;/b&gt;：查询订阅状态&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:35;187:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;使用插件函数 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:4;187:8&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsq::getSubscriptionStatus()&lt;/codeph&gt; 可以获取 NSQ 行情的订阅状态。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:10;189:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsq::getSubscriptionStatus()&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:36;193:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-3 nsq::getSubscriptionStatus 函数的返回结果示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/2.3.png&#34; placement=&#34;break&#34; xtrc=&#34;image:7;195:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1353&#34; dita-ot:image-height=&#34;188&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:7;195:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-3 nsq::getSubscriptionStatus 函数的返回结果示例&lt;/alt&gt;&lt;/image&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:11;197:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:21;197:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:14;197:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第六步&lt;/b&gt;：查询流数据表。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:37;199:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;（1）逐笔委托&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:11;201:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;select * from nsqStockOrdersStream limit 10&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:38;205:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-4 逐笔委托流表的查询结果示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/2.4.png&#34; placement=&#34;break&#34; xtrc=&#34;image:8;207:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1173&#34; dita-ot:image-height=&#34;286&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:8;207:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-4 逐笔委托流表的查询结果示例&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:39;209:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;（2）逐笔成交&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:12;211:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;select * from nsqStockTradeStream limit 10&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:40;215:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-5 逐笔成交流表的查询结果示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/2.5.png&#34; placement=&#34;break&#34; xtrc=&#34;image:9;217:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1296&#34; dita-ot:image-height=&#34;284&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:9;217:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-5 逐笔成交流表的查询结果示例&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:41;219:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;（3）L2 快照&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:13;221:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;select * from nsqStockSnapshotStream limit 10&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:42;225:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-6 L2 快照流表的查询结果示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/2.6.png&#34; placement=&#34;break&#34; xtrc=&#34;image:10;227:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1359&#34; dita-ot:image-height=&#34;292&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:10;227:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-6 L2 快照流表的查询结果示例&lt;/alt&gt;&lt;/image&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:12;229:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:22;229:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:15;229:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第七步&lt;/b&gt;：查询分区表&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:43;231:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;（1）逐笔委托&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:14;233:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;select * from loadTable(&#34;dfs://nsqStockOrders&#34;, &#34;orders&#34;) limit 10&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:44;237:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-7 逐笔委托分区表的查询结果示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/2.7.png&#34; placement=&#34;break&#34; xtrc=&#34;image:11;239:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1172&#34; dita-ot:image-height=&#34;282&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:11;239:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-7 逐笔委托分区表的查询结果示例&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:45;241:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;（2）逐笔成交&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:15;243:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;select * from nsqStockTradeStream limit 10&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:46;247:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-8 逐笔成交分区表的查询结果示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/2.8.png&#34; placement=&#34;break&#34; xtrc=&#34;image:12;249:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1218&#34; dita-ot:image-height=&#34;287&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:12;249:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-8 逐笔成交分区表的查询结果示例&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:47;251:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;（3）L2 快照&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:16;253:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;select * from loadTable(&#34;dfs://nsqStockSnapshot&#34;, &#34;snapshot&#34;) limit 10&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:48;257:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-9 L2 快照分区表的查询结果示例&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/2.9.png&#34; placement=&#34;break&#34; xtrc=&#34;image:13;259:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1370&#34; dita-ot:image-height=&#34;286&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:13;259:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 2-9 L2 快照分区表的查询结果示例&lt;/alt&gt;&lt;/image&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;3-实时行情数据存储说明&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:7;261:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:7;261:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;3. 实时行情数据存储说明&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:7;261:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;31-接收行情数据到流数据表&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:8;263:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:8;263:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;3.1 接收行情数据到流数据表&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:8;263:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:49;265:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 3-1 easyNSQ 模块接收行情数据到流数据表&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/3.1.png&#34; placement=&#34;break&#34; xtrc=&#34;image:14;267:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;4096&#34; dita-ot:image-height=&#34;957&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:14;267:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 3-1 easyNSQ 模块接收行情数据到流数据表&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:50;269:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户指定希望接收的行情数据源（逐笔委托、逐笔成交或 L2 快照），easyNSQ 模块会根据用户的需要创建不同的持久化共享流表，并通过 NSQ 插件订阅交易所数据，将上海和深圳市场的实时行情数据写入持久化共享流表中。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:51;271:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;持久化共享流表是进行共享并做了持久化处理的流数据表。将流表共享是为了让该流表在连接当前节点其它会话中也可见。比如通过 C++ API 实时查询流数据表的会话与定义流表的会话不会是同一个，如果不将流表共享，查询的需求就无法实现。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:52;273:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;对流数据表进行持久化的目的主要有以下两点：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:13;275:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:23;275:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;控制该表的最大内存占用。通过设置 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:5;275:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;enableTableShareAndPersistence&lt;/codeph&gt; 函数中的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:9;275:58&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;cacheSize&lt;/i&gt; 参数，可以控制流表在内存中最多保留多少条记录，超出的部分被写入持久化数据文件、从内存中清除，进而控制该表的最大内存占用。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:24;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;在节点异常关闭的极端情况下，可以从持久化数据文件中恢复已经写入流数据表但是未消费的数据，保证流数据“至少消费一次”的需求。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:53;278:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;流数据表持久化采用异步的方式进行，对流表写入吞吐量几乎没有影响。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:54;280:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:16;280:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;注意&lt;/b&gt;：&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:55;282:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;虽然名字里带有“持久化”，但是持久化流表并不能满足行情数据持久化存储的需求。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:56;284:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;首先，流数据表持久化到磁盘上的数据的规模在增长到一定大小，或者超过一定时间之后，会触发系统的回收校验，并不能做到真正的永久化存储。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:57;286:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;其次，流数据表持久化到磁盘上的数据并没有进行结构化的存储，查询和更新的效率比不上在分区表中存储的数据，不适合用于实际生产环境。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:58;288:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;如果用户有将行情数据在磁盘上进行持久化存储的需求，请阅读本篇文档&lt;xref class=&#34;- topic/xref &#34; format=&#34;md&#34; href=&#34;https://gitee.com/dolphindb/DolphinDBModules/blob/master/easyNSQ/README.md#22-%E6%8E%A5%E6%94%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%88%B0%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%B9%B6%E6%8C%81%E4%B9%85%E5%8C%96%E5%88%B0%E5%88%86%E5%8C%BA%E8%A1%A8&#34; scope=&#34;external&#34; xtrc=&#34;xref:12;288:33&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;2.2&lt;/xref&gt;及&lt;xref class=&#34;- topic/xref &#34; format=&#34;md&#34; href=&#34;https://gitee.com/dolphindb/DolphinDBModules/blob/master/easyNSQ/README.md#23-%E5%90%88%E5%B9%B6%E5%AD%98%E5%82%A8%E4%B8%8A%E6%B5%B7%E5%92%8C%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE&#34; scope=&#34;external&#34; xtrc=&#34;xref:13;288:290&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;2.3&lt;/xref&gt;小节的方案说明。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:59;290:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户可以为这些持久化的共享流表指定名字，也可以选择使用模块默认的表名。在用户没有指定表名的情况下，模块对持久化共享流表的命名如下：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:14;292:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:25;292:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;上交所逐笔委托：流表名称为 ”nsqStockOrdersSHStream“。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:26;293:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;深交所逐笔委托：流表名称为 ”nsqStockOrdersSZStream&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:27;294:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;上交所逐笔成交：流表名称为 “nsqStockTradeSHStream&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:28;295:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;深交所逐笔成交：流表名称为 ”nsqStockTradeSZStream&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:29;296:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;上交所 L2 所快照：流表名称为 “nsqStockSnapshotSHStream&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:30;297:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;深交所 L2 所快照：流表名称为 ”nsqStockSnapshotSZStream“。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:60;299:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;基于过往项目的实践，推荐如下的持久化共享流表参数配置方案：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:1;301:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:1;301:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:1;301:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:2;301:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:1;301:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:1;301:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:1;301:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;配置项&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:2;301:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;配置值&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:1;303:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:2;303:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:3;303:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;asynWrite&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:4;303:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;true&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:3;304:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:5;304:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;compress&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:6;304:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;true&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:4;305:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:7;305:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;cacheSize&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:8;305:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;500,000&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:5;306:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:9;306:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;preCache&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:10;306:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;100,000&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:6;307:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:11;307:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;retentionMinutes&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:12;307:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;1440&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:7;308:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:13;308:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;flushMode&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:14;308:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;0&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;32-接收行情数据到流数据表并持久化到分区表&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:9;310:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:9;310:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;3.2 接收行情数据到流数据表，并持久化到分区表&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:9;310:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:61;312:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 3-2 easyNSQ 模块接收行情数据到流数据表，并持久化到分区表&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/3.2.png&#34; placement=&#34;break&#34; xtrc=&#34;image:15;314:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;4096&#34; dita-ot:image-height=&#34;1304&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:15;314:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 3-2 easyNSQ 模块接收行情数据到流数据表，并持久化到分区表&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:62;316:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ 模块还支持将实时行情数据写入分区表进行持久化的存储。在此种订阅模式下，用户指定希望接收的行情数据源（逐笔委托、逐笔成交或 L2 快照），easyNSQ 模块会通过 NSQ 插件订阅交易所数据，将上海和深圳市场的实时行情数据分别写入持久化共享流表，然后通过 DolphinDB 内置的订阅-发布功能，将流表的增量数据实时写入分区表。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:63;318:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户可以指定用于存储行情数据的数据库和分区表的名字。在用户没有指定数据库和分区表名字的情况下，模块会使用默认名字的数据库和分区表：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:15;320:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:31;320:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;上交所逐笔委托：数据库名称为 &#34;dfs://nsqStockOrders&#34;，分区表名称为 &#34;ordersSH&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:32;321:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;深交所逐笔委托：数据库名称为 &#34;dfs://nsqStockOrders&#34;，分区表名称为 &#34;ordersSZ&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:33;322:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;上交所逐笔成交：数据库名称为 &#34;dfs://nsqStockTrade&#34;，分区表名称为 &#34;tradeSH&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:34;323:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;深交所逐笔成交：数据库名称为 &#34;dfs://nsqStockTrade&#34;，分区表名称为 &#34;tradeSZ&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:35;324:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;上交所 L2 所快照：数据库名称为 &#34;dfs://nsqStockSnapshot&#34;，分区表名称为 &#34;snapshotSH&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:36;325:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;深交所 L2 所快照：数据库名称为 &#34;dfs://nsqStockSnapshot&#34;，分区表名称为 &#34;snapshotSZ&#34;。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:64;327:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;细心的读者已经注意到 easyNSQ 模块会将同一行情数据源的数据放在同一个数据库中，比如上交所逐笔委托和深交所逐笔委托数据都会存储在数据库 &#34;dfs://nsqStockOrders&#34;。这样的做法，部分是出于业务逻辑的考虑，即后续往往会对上交所和深交所的逐笔委托数据进行同样的处理操作；此外，NSQ 插件已经对上海和深圳市场的行情数据表结构做了统一处理，上交所和深交所的数据适用于同一套数据库分区规则，可以存储在同一个数据库中。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:65;329:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:17;329:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;注意&lt;/b&gt;：&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:66;331:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;出于数据安全的考虑，easyNSQ 模块在存储数据到分区表的过程中，如果发现要做写入的分区表不存在，会创建新分区表；如果发现同名分区表已存在，会直接向该分区表写入数据，而不是进行删除和重新创建。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:67;333:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;因此，用户在使用 easyNSQ 模块时，需要注意：如果已存在分区表的表结构与行情数据结构不同，写入数据的时候就会抛出异常。建议用户使用 easyNSQ 模块时，在订阅行情数据前对用于行情数据入库存储的分区表进行检查。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:68;335:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;基于过往项目的实践，对分区表确定了如下的分区方案：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:2;337:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;4&#34; xtrc=&#34;tgroup:2;337:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:3;337:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:4;337:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:5;337:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:6;337:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:2;337:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:8;337:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:15;337:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;行情数据类型&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:16;337:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;分区方案&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:17;337:56&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;分区列&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:18;337:83&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;排序列&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:2;339:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:9;339:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:19;339:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;逐笔委托（orders）&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:20;339:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;组合分区：时间维度按天分区 + 证券代码维度 HASH 25 分区&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:21;339:56&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate + InstrumentID&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:22;339:83&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID + TransactTime&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:10;340:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:23;340:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;逐笔成交（trade）&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:24;340:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;组合分区：时间维度按天分区 + 证券代码维度 HASH 25 分区&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:25;340:56&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate + InstrumentID&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:26;340:83&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID + TransactTime&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:11;341:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:27;341:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;L2 快照（snapshot）&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:28;341:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;组合分区：时间维度按天分区 + 证券代码维度 HASH 25 分区&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:29;341:56&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate + InstrumentID&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:30;341:83&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID + UpdateTime&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;33-合并存储上海和深圳市场行情数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:10;343:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:10;343:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;3.3 合并存储上海和深圳市场行情数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:10;343:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:69;345:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 3-3 easyNSQ 模块对沪深市场的行情数据进行合并处理&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/3.3.png&#34; placement=&#34;break&#34; xtrc=&#34;image:16;347:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;2764&#34; dita-ot:image-height=&#34;1324&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:16;347:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 3-3 easyNSQ 模块对沪深市场的行情数据进行合并处理&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:70;349:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ 模块支持将上海和深圳市场的实时行情数据进行合并处理。用户可以指定用于接收实时数据的流数据表的名字，以及用于存储行情数据的数据库和分区表的名字。在用户没有进行指定的情况下，模块会使用默认的名字：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:16;351:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:37;351:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;逐笔委托：流表名称为 ”nsqStockOrdersStream“， 数据库名称为 &#34;dfs://nsqStockOrders&#34;，分区表名称为 &#34;orders&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:38;352:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;逐笔成交：流表名称为 ”nsqStockTradeStream“，数据库名称为 &#34;dfs://nsqStockTrade&#34;，分区表名称为 &#34;trade&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:39;353:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;L2 所快照：流表名称为 ”nsqStockSnapshotStream“，数据库名称为 &#34;dfs://nsqStockSnapshot&#34;，分区表名称为 &#34;snapshot&#34;。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:71;355:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;对于沪深行情数据合并存储，持久化共享流表的参数配置方案同沪深行情分开存储的参数配置方案。而分区表的分区方案如下：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:3;357:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;4&#34; xtrc=&#34;tgroup:3;357:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:7;357:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:8;357:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:9;357:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:10;357:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:3;357:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:12;357:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:31;357:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;行情数据类型&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:32;357:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;分区方案&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:33;357:56&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;分区列&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:34;357:83&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;排序列&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:3;359:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:13;359:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:35;359:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;逐笔委托（orders）&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:36;359:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;组合分区：时间维度按天分区 + 证券代码维度 HASH 50 分区&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:37;359:56&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate + InstrumentID&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:38;359:83&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID + TransactTime&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:14;360:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:39;360:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;逐笔成交（trade）&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:40;360:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;组合分区：时间维度按天分区 + 证券代码维度 HASH 50 分区&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:41;360:56&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate + InstrumentID&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:42;360:83&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID + TransactTime&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:15;361:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:43;361:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;L2 快照（snapshot）&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:44;361:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;组合分区：时间维度按天分区 + 证券代码维度 HASH 50 分区&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:45;361:56&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate + InstrumentID&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:46;361:83&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID + UpdateTime&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;4-easynsq-模块接口介绍&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:11;363:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:11;363:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4. easyNSQ 模块接口介绍&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:11;363:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;41-subscribensq&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:12;365:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:12;365:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.1 subscribeNsq&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:12;365:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:72;367:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:18;367:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;语法&lt;/b&gt;&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:17;369:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ::subscribeNsq(configFilePath, dataSource, [markets], [merge], [saveToDfs], [streamTableNames], [dbPath], [tableNames], [options], [username], [password])&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:73;374:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:19;374:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;参数&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:74;376:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:10;376:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;configFilePath&lt;/i&gt; ：一个字符串，表示 NSQ 行情服务器配置文件 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:11;376:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sdk_config.ini&lt;/i&gt; 的绝对路径；若拷贝配置文件至 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:12;376:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dolphindb server&lt;/i&gt;，则可以是相对于 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:13;376:101&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dolphindb server&lt;/i&gt; 的相对路径。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:75;378:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:14;378:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dataSource&lt;/i&gt; ：一个字符串，表示行情的类型，可以是以下值：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:17;380:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:40;380:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;“orders”：表示回调函数 OnRtnSecuDepthMarketData（主推 - 现货深度行情）获取的行情数据。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:41;381:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;”trade”：表示回调函数 OnRtnSecuDepthMarketData（主推 - 现货深度行情）获取的行情数据。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:42;382:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;“snapshot”：表示回调函数 OnRtnSecuDepthMarketData（主推 - 现货深度行情）获取的行情数据。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:76;384:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:15;384:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;markets&lt;/i&gt;： 可选参数。一个字符串或字符串向量，表示行情市场，上海证券交易所用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:6;384:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sh&lt;/codeph&gt; 表示，深圳证券交易所用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:7;384:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sz&lt;/codeph&gt; 表示，参数默认值为 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:8;384:77&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;[&#34;sz&#34;, &#34;sh&#34;]&lt;/codeph&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:77;386:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:16;386:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;merge&lt;/i&gt;： 可选参数。一个布尔值，表示是否合并处理上海和深圳市场的行情数据，参数默认值为 false。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:78;388:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:17;388:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;saveToDfs&lt;/i&gt;： 可选参数。一个布尔值，表示是否持久化存储到分区表，参数默认值为 false。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:79;390:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:18;390:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;streamTableNames&lt;/i&gt;： 可选参数。一个字符串或字符串向量，表示用于接收实时数据的流数据表的名字，&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:20;390:57&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;将使用这个名字创建新的持久化共享流数据表&lt;/b&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:80;392:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:19;392:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dbPath&lt;/i&gt;： 可选参数。一个字符串，表示用于持久化存储数据的数据库的名字。若数据库不存在，将创建新数据库。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:81;394:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:20;394:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;tableNames&lt;/i&gt; ：可选参数。一个字符串或字符串向量，表示用于持久化存储数据的分区表的名字。若分区表不存在，将创建新分区表。&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:21;394:67&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;若同名分区表已存在，则直接向该表写入&lt;/b&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:82;396:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:21;396:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;options&lt;/i&gt;：可选参数。一个字典标量，表示行情订阅的扩展参数。当前版本只支持以 “receivedTime” 和 “getAllFieldNames” 作为字典的键。receivedTime 表示是否显示接收时间，对应值为布尔类型标量。 getAllFieldNames 表示是否接受所有字段数据，对应值为布尔类型标量。详见后续的 ”行情数据表结构“章节以及 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://docs.dolphindb.cn/zh/plugins/nsq/nsq.html#connect&#34; scope=&#34;external&#34; xtrc=&#34;xref:14;396:184&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;NSQ 插件函数接口文档&lt;/xref&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:83;398:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:22;398:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;username&lt;/i&gt;：可选参数。一个字符串，表示登录 NSQ 行情服务器的用户名。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:84;400:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:23;400:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;password&lt;/i&gt;：可选参数。一个字符串，表示登录 NSQ 行情服务器用户名对应的密码。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:85;402:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:22;402:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;函数详情&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:86;404:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;自动化接收和存储 NSQ 实时行情数据。对应行情市场和行情类型的实时数据会被接收到持久化共享流表，并根据用户需要，同时将数据持久化存储到分区表。 函数执行成功会返回流数据表的名字（如果 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:24;404:94&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;saveToDfs&lt;/i&gt; 为 true，还会返回数据库和分区表的名字），若执行不成功则返回 NULL。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:18;406:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;streamTableNames = subscribeNsq(configFilePath, &#34;snapshot&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true) streamTableNames, dbPath, tableNames = subscribeNsq(configFilePath, &#34;orders&#34;, &#34;sh&#34;, saveToDfs=true)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:87;411:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户没有使用可选参数 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:25;411:12&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;streamTableNames&lt;/i&gt;、&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:26;411:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dbPath&lt;/i&gt; 和 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:27;411:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;tableNames&lt;/i&gt; 时，easyNSQ 模块默认使用以下名字：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:4;413:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;5&#34; xtrc=&#34;tgroup:4;413:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:11;413:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:12;413:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:13;413:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:14;413:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col5&#34; colnum=&#34;5&#34; xtrc=&#34;colspec:15;413:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:4;413:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:16;413:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:47;413:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;行情类型&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:48;413:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;行情市场&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:49;413:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;流数据表&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:50;413:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;数据库&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:51;413:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;分区表&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:4;415:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:17;415:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:52;415:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;orders&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:53;415:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sh&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:54;415:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockOrdersSHStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:55;415:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockOrders&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:56;415:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ordersSH&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:18;416:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:57;416:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;orders&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:58;416:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sz&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:59;416:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockOrdersSZStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:60;416:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockOrders&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:61;416:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ordersSZ&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:19;417:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:62;417:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;orders&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:63;417:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;合并存储&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:64;417:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockOrdersStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:65;417:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockOrders&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:66;417:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;orders&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:20;418:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:67;418:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;trade&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:68;418:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sh&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:69;418:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockTradeSHStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:70;418:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockTrade&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:71;418:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;tradeSH&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:21;419:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:72;419:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;trade&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:73;419:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sz&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:74;419:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockTradeSZStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:75;419:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockTrade&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:76;419:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;tradeSZ&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:22;420:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:77;420:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;trade&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:78;420:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;合并存储&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:79;420:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockTradeStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:80;420:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockTrade&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:81;420:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;trade&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:23;421:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:82;421:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;snapshot&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:83;421:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sh&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:84;421:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockSnapshotSHStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:85;421:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockSnapshot&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:86;421:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;snapshotSH&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:24;422:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:87;422:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;snapshot&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:88;422:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sz&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:89;422:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockSnapshotSZStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:90;422:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockSnapshot&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:91;422:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;snapshotSZ&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:25;423:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:92;423:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;snapshot&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:93;423:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;合并存储&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:94;423:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockSnapshotStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:95;423:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockSnapshot&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:96;423:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;snapshot&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;42-closensqconnection&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:13;425:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:13;425:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.2 closeNsqConnection&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:13;425:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:88;427:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:23;427:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;语法&lt;/b&gt;&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:19;429:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ::closeNsqConnection()&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:89;433:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:24;433:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;参数&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:90;435:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;无&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:91;437:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:25;437:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;函数详情&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:92;439:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;断开与行情服务器的连接，本函数执行后会取消所有已建立的对实时行情数据的订阅。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:93;441:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;函数执行成功返回 true，若有执行异常则会返回 false。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;43-ininsqenv&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:14;443:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:14;443:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.3 iniNsqEnv&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:14;443:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:94;445:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:26;445:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;语法&lt;/b&gt;&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:20;447:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ::iniNsqEnv([streamTableNames])&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:95;451:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:27;451:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;参数&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:96;453:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:28;453:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;streamTableNames&lt;/i&gt;：可选参数。一个字符串或字符串向量，表示要清理的流数据表。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:97;455:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:28;455:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;函数详情&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:98;457:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;初始化流计算环境，清理指定的流数据表及其订阅。若用户没有使用可选参数 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:29;457:36&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;streamTableNames&lt;/i&gt;，则会根据 easyNSQ 模块默认使用的流表进行清理，请参考 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:9;457:86&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ::subscribeNsq&lt;/codeph&gt; 的函数详情说明。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:99;459:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:29;459:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;注意&lt;/b&gt;：&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:10;459:8&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;iniNsqEnv&lt;/codeph&gt; 函数在没有传入参数时，会根据 easyNSQ 模块默认使用的流表名字，对同名流表及其订阅进行清理。请用户注意这一行为可能会导致数据被误删除。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;44-ininsqdfs&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:15;461:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:15;461:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.4 iniNsqDfs&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:15;461:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:100;463:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:30;463:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;语法&lt;/b&gt;&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:21;465:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ::iniNsqDfs([dbName], [tbNames])&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:101;469:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:31;469:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;参数&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:102;471:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:30;471:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dbName&lt;/i&gt;： 可选参数。一个字符串，表示要清理的分区表的数据路径。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:103;473:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:31;473:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;tbNames&lt;/i&gt; ：可选参数。一个字符串或字符串向量，表示要清理的分区表的表名。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:104;475:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:32;475:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;函数详情&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:105;477:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;初始化环境，清理已指定的分区表。若用户没有使用可选参数 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:32;477:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dbName&lt;/i&gt; 和 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:33;477:40&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;tbNames&lt;/i&gt;，则会根据 easyNSQ 模块默认使用的分区表进行清理，请参考 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:11;477:82&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ::subscribeNsq&lt;/codeph&gt; 的函数详情说明。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:106;479:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:33;479:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;注意&lt;/b&gt;：&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:12;479:8&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;iniNsqDfs&lt;/codeph&gt; 函数在没有传入参数时，会根据 easyNSQ 模块默认使用的数据库路径和分区表名字，对分区表进行清理。请用户注意这一行为可能会导致数据被误删除。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;5-easynsq-模块使用示例&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:16;481:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:16;481:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;5. easyNSQ 模块使用示例&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:16;481:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:107;483:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;本章节为四个不同的使用场景提供了脚本示例，并在最后提供了脚本用于关闭 NSQ 连接和清理例子运行时创建的流表、分区表。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;51-例1-接收深圳市场-snapshot-实时行情数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:17;485:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:17;485:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;5.1 例1-接收深圳市场 snapshot 实时行情数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:17;485:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:22;487:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 加载插件 try{ loadPlugin(&#34;nsq&#34;) } catch(ex) { print(ex) } go // 调用模块 use DolphinDBModules::easyNSQ configFilePath = &#34;&amp;lt;your_path_to&amp;gt;/nsq_sdk_config.ini&#34;; // 初始化化境并拉起订阅 iniNsqEnv() streamTableNames = subscribeNsq(configFilePath, &#34;snapshot&#34;, &#34;sz&#34;) // 检查订阅情况 nsq::getSubscriptionStatus() select count(*) from objByName(streamTableNames[0]) select top 100 * from objByName(streamTableNames[0]) // 停止订阅 nsq::unsubscribe(&#34;snapshot&#34;, &#34;sz&#34;) nsq::getSubscriptionStatus()&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;52-例2-接收上海市场所有类型实时行情数据并持久化存储&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:18;510:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:18;510:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;5.2 例2-接收上海市场所有类型实时行情数据，并持久化存储&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:18;510:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:23;512:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 加载插件 try{ loadPlugin(&#34;nsq&#34;) } catch(ex) { print(ex) } go // 调用模块 use DolphinDBModules::easyNSQ configFilePath = &#34;&amp;lt;your_path_to&amp;gt;/nsq_sdk_config.ini&#34;; // 数据接收选项（非必填） nsq_data_option = dict(STRING, ANY) nsq_data_option[&#34;receivedTime&#34;]=true // 在行情数据中增加一列接收时间 nsq_data_option[&#34;getAllFieldNames&#34;]=true // 接受 nsq 原始行情中所有字段 // 初始化环境并拉起订阅 iniNsqEnv() iniNsqDfs() subscribeNsq(configFilePath, &#34;orders&#34;, &#34;sh&#34;, saveToDfs=true, options=nsq_data_option) subscribeNsq(configFilePath, &#34;trade&#34;, &#34;sh&#34;, saveToDfs=true, options=nsq_data_option) subscribeNsq(configFilePath, &#34;snapshot&#34;, &#34;sh&#34;, saveToDfs=true, options=nsq_data_option) // 检查订阅情况 nsq::getSubscriptionStatus() existsSubscriptionTopic(,&#34;nsqStockOrdersSHStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) existsSubscriptionTopic(,&#34;nsqStockTradeSHStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) existsSubscriptionTopic(,&#34;nsqStockSnapshotSHStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) select count(*) from objByName(&#34;nsqStockOrdersSHStream&#34;) select count(*) from loadTable(&#34;dfs://nsqStockOrders&#34;, &#34;ordersSH&#34;) select count(*) from objByName(&#34;nsqStockTradeSHStream&#34;) select count(*) from loadTable(&#34;dfs://nsqStockTrade&#34;, &#34;tradeSH&#34;) select count(*) from objByName(&#34;nsqStockSnapshotSHStream&#34;) select count(*) from loadTable(&#34;dfs://nsqStockSnapshot&#34;, &#34;snapshotSH&#34;) // 仅停止 orders 行情数据的订阅 nsq::unsubscribe(&#34;orders&#34;, &#34;sh&#34;) nsq::getSubscriptionStatus() // 停止所有订阅 closeNsqConnection() nsq::getSubscriptionStatus()&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;53-例3-停止所有订阅后重新接收上海市场-orders-数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:19;554:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:19;554:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;5.3 例3-停止所有订阅后，重新接收上海市场 orders 数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:19;554:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;保留之前持久化的数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:20;556:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:20;556:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;保留之前持久化的数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:20;556:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:24;558:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 加载插件 try{ loadPlugin(&#34;nsq&#34;) } catch(ex) { print(ex) } go // 调用模块 use DolphinDBModules::easyNSQ configFilePath = &#34;&amp;lt;your_path_to&amp;gt;/nsq_sdk_config.ini&#34;; // 数据接收选项（非必填） nsq_data_option = dict(STRING, ANY) nsq_data_option[&#34;receivedTime&#34;]=true // 在行情数据中增加一列接收时间 nsq_data_option[&#34;getAllFieldNames&#34;]=true // 接受 nsq 原始行情中所有字段 // 初始化流环境并拉起订阅 iniNsqEnv(&#34;nsqStockOrdersSHStream&#34;) streamTableNames, dbPath, tableNames = subscribeNsq(configFilePath, &#34;orders&#34;, &#34;sh&#34;, saveToDfs=true, options=nsq_data_option) // 检查订阅情况 nsq::getSubscriptionStatus() existsSubscriptionTopic(,streamTableNames[0],&#34;easyNSQ_saveToDfsTable&#34;) select count(*) from objByName(streamTableNames[0]) select count(*) from loadTable(dbPath, tableNames[0]) // 停止订阅 nsq::unsubscribe(&#34;orders&#34;, &#34;sh&#34;)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;不保留之前持久化的数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:21;586:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:21;586:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;不保留之前持久化的数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:21;586:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:25;588:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 加载插件 try{ loadPlugin(&#34;nsq&#34;) } catch(ex) { print(ex) } go // 调用模块 use DolphinDBModules::easyNSQ configFilePath = &#34;&amp;lt;your_path_to&amp;gt;/nsq_sdk_config.ini&#34;; // 数据接收选项（非必填） nsq_data_option = dict(STRING, ANY) nsq_data_option[&#34;receivedTime&#34;]=true // 在行情数据中增加一列接收时间 nsq_data_option[&#34;getAllFieldNames&#34;]=true // 接受 nsq 原始行情中所有字段 // 初始化环境并拉起订阅 iniNsqEnv(&#34;nsqStockOrdersSHStream&#34;) iniNsqDfs(&#34;dfs://nsqStockOrders&#34;, &#34;ordersSH&#34;) subscribeNsq(configFilePath, &#34;orders&#34;, &#34;sh&#34;, saveToDfs=true, options=nsq_data_option) // 检查订阅情况 nsq::getSubscriptionStatus() existsSubscriptionTopic(,&#34;nsqStockOrdersSHStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) select count(*) from objByName(&#34;nsqStockOrdersSHStream&#34;) select count(*) from loadTable(&#34;dfs://nsqStockOrders&#34;, &#34;ordersSH&#34;) // 停止订阅 nsq::unsubscribe(&#34;orders&#34;, &#34;sh&#34;)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;54-例4-接收上海和深圳市场所有类型的实时行情数据并持久化存储&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:22;617:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:22;617:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;5.4 例4-接收上海和深圳市场所有类型的实时行情数据，并持久化存储&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:22;617:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;合并处理上海和深圳市场数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:23;619:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:23;619:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;合并处理上海和深圳市场数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:23;619:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:26;621:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 加载插件 try{ loadPlugin(&#34;nsq&#34;) } catch(ex) { print(ex) } go // 调用模块 use DolphinDBModules::easyNSQ configFilePath = &#34;&amp;lt;your_path_to&amp;gt;/nsq_sdk_config.ini&#34;; // nsq 账号（非必填） nsq_username = &#34;&amp;lt;your_nsq_username&amp;gt;&#34;; nsq_password = &#34;&amp;lt;your_nsq_password&amp;gt;&#34;; // 数据接收选项（非必填） nsq_data_option = dict(STRING, ANY) nsq_data_option[&#34;receivedTime&#34;]=true // 在行情数据中增加一列接收时间 nsq_data_option[&#34;getAllFieldNames&#34;]=true // 接受 nsq 原始行情中所有字段 // 初始化环境并拉起订阅 iniNsqEnv() iniNsqDfs() subscribeNsq(configFilePath, &#34;orders&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true, saveToDfs=true, options=nsq_data_option, username=nsq_username, password=nsq_password) subscribeNsq(configFilePath, &#34;trade&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true, saveToDfs=true, options=nsq_data_option, username=nsq_username, password=nsq_password) subscribeNsq(configFilePath, &#34;snapshot&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true, saveToDfs=true, options=nsq_data_option, username=nsq_username, password=nsq_password) // 检查订阅情况 nsq::getSubscriptionStatus() existsSubscriptionTopic(,&#34;nsqStockOrdersStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) existsSubscriptionTopic(,&#34;nsqStockTradeStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) existsSubscriptionTopic(,&#34;nsqStockSnapshotStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) // 停止订阅 closeNsqConnection()&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;分开处理上海和深圳市场数据用户自定义流表和分区表名字&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:24;655:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:24;655:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;分开处理上海和深圳市场数据（用户自定义流表和分区表名字）&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:24;655:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:27;657:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 加载插件 try{ loadPlugin(&#34;nsq&#34;) } catch(ex) { print(ex) } go // 调用模块 use DolphinDBModules::easyNSQ configFilePath = &#34;&amp;lt;your_path_to&amp;gt;/nsq_sdk_config.ini&#34;; // nsq 账号（非必填） nsq_username = &#34;&amp;lt;your_nsq_username&amp;gt;&#34;; nsq_password = &#34;&amp;lt;your_nsq_password&amp;gt;&#34;; // 数据接收选项（非必填） nsq_data_option = dict(STRING, ANY) nsq_data_option[&#34;receivedTime&#34;]=true // 在行情数据中增加一列接收时间 nsq_data_option[&#34;getAllFieldNames&#34;]=true // 接受 nsq 原始行情中所有字段 // 初始化环境并拉起订阅 iniNsqEnv([&#34;myNsqOrdersSHStream&#34;, &#34;myNsqOrdersSZStream&#34;, &#34;myNsqTradeSHStream&#34;, &#34;myNsqTradeSZStream&#34;,&#34;myNsqSnapshotSHStream&#34;, &#34;myNsqSnapshotSZStream&#34;]) iniNsqDfs(&#34;dfs://myNsqOrders&#34;, `myNsqOrdersSH`myNsqOrdersSZ) iniNsqDfs(&#34;dfs://myNsqTrade&#34;, `myNsqTradeSH`myNsqTradeSZ) iniNsqDfs(&#34;dfs://myNsqSnapshot&#34;, `myNsqSnapshotSH`myNsqSnapshotSZ) subscribeNsq(configFilePath, &#34;orders&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true, streamTableNames=[&#34;myNsqOrdersSHStream&#34;, &#34;myNsqOrdersSZStream&#34;], dbPath=&#34;dfs://myNsqOrders&#34;, tableNames=[&#34;myNsqOrdersSH&#34;, &#34;myNsqOrdersSZ&#34;], options=nsq_data_option, username=nsq_username, password=nsq_password) subscribeNsq(configFilePath, &#34;trade&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true, streamTableNames=[&#34;myNsqTradeSHStream&#34;, &#34;myNsqTradeSZStream&#34;], dbPath=&#34;dfs://myNsqTrade&#34;, tableNames=[&#34;myNsqTradeSH&#34;, &#34;myNsqTradeSZ&#34;], options=nsq_data_option, username=nsq_username, password=nsq_password) subscribeNsq(configFilePath, &#34;snapshot&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true, streamTableNames=[&#34;myNsqSnapshotSHStream&#34;, &#34;myNsqSnapshotSZStream&#34;], dbPath=&#34;dfs://myNsqSnapshot&#34;, tableNames=[&#34;myNsqSnapshotSH&#34;, &#34;myNsqSnapshotSZ&#34;], options=nsq_data_option, username=nsq_username, password=nsq_password) // 检查订阅情况 nsq::getSubscriptionStatus() select * from getStreamingStat().subWorkers where topic like &#34;%easyNSQ_saveToDfsTable%&#34; // 停止订阅 closeNsqConnection()&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;关闭-nsq-连接和清理以上例子运行时创建的流表和分区表&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:25;691:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:25;691:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;关闭 NSQ 连接和清理以上例子运行时创建的流表和分区表&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:25;691:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:28;693:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 停止订阅和关闭 nsq 连接 closeNsqConnection() // 清理流表和分区表 iniNsqEnv() iniNsqDfs() iniNsqEnv([&#34;myNsqOrdersSHStream&#34;, &#34;myNsqOrdersSZStream&#34;, &#34;myNsqTradeSHStream&#34;, &#34;myNsqTradeSZStream&#34;,&#34;myNsqSnapshotSHStream&#34;, &#34;myNsqSnapshotSZStream&#34;]) iniNsqDfs(&#34;dfs://myNsqOrders&#34;, `myNsqOrdersSH`myNsqOrdersSZ) iniNsqDfs(&#34;dfs://myNsqTrade&#34;, `myNsqTradeSH`myNsqTradeSZ) iniNsqDfs(&#34;dfs://myNsqSnapshot&#34;, `myNsqSnapshotSH`myNsqSnapshotSZ)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;6-设置节点启动时自动订阅-nsq-行情数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:26;706:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:26;706:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;6. 设置节点启动时自动订阅 NSQ 行情数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:26;706:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:108;708:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;由于 DolphinDB 流数据表和流表的订阅只存在于内存中，在节点关闭后，先前创建的 DolphinDB 流数据表及其订阅会消失。所以每次节点启动时，都需要重新创建流数据表和发起订阅。如果每次重新启动后都要求用户进行手动操作，在使用上无疑是不便的。考虑到这一点，DolphinDB 实现了启动时自动执行用户指定脚本的功能。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:109;710:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DolphinDB 系统启动流程如下图所示：&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:110;712:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 6-1 DolphinDB 系统启动流程&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/6.1.png&#34; placement=&#34;break&#34; xtrc=&#34;image:17;714:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;888&#34; dita-ot:image-height=&#34;1648&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:17;714:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;图 6-1 DolphinDB 系统启动流程&lt;/alt&gt;&lt;/image&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:18;716:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:43;716:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户启动脚本（&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:34;716:10&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;startup.dos&lt;/i&gt;）&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:111;718:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户启动脚本是通过配置参数 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:35;718:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;startup&lt;/i&gt; 后才会执行，单机 single 模式在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:36;718:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dolphindb.cfg&lt;/i&gt; 中配置，集群模式在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:37;718:71&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;cluster.cfg&lt;/i&gt; 中配置，可配置绝对路径或相对路径。若配置了相对路径或者没有指定目录，系统会依次搜索本地节点的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:38;718:132&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;home&lt;/i&gt; 目录、工作目录和可执行文件所在目录。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:112;720:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;以 Linux 单节点为例，在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:39;720:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dolphindb.cfg&lt;/i&gt; 添加如下的配置项：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:29;722:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;startup=/DolphinDB/server/startup.dos&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:113;726:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;然后在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:40;726:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;/DolphinDB/server/&lt;/i&gt; 路径下创建 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:41;726:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;startup.dos&lt;/i&gt; 脚本文件即可完成配置。之后每次节点启动时，都会自动执行 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:42;726:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;/DolphinDB/server/startup.dos&lt;/i&gt; 脚本文件中的代码。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:114;728:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;假设用户希望接收上海和深证两个市场的 NSQ 行情数据、持久化存储，并对沪深行情数据做分开存储。用户的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:43;728:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;startup.dos&lt;/i&gt; 应当如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:30;730:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 登录数据库 login(`admin, `123456) go // 加载插件 try{ loadPlugin(&#34;nsq&#34;) } catch(ex) { print(ex) } go // 调用模块 use DolphinDBModules::easyNSQ go configFilePath = &#34;&amp;lt;your_path_to&amp;gt;/nsq_sdk_config.ini&#34;; // 初始化环境(不删除分区表) iniNsqEnv() // 拉起订阅 subscribeNsq(configFilePath, &#34;orders&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true) subscribeNsq(configFilePath, &#34;trade&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true) subscribeNsq(configFilePath, &#34;snapshot&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;7-行情数据表结构&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:27;752:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:27;752:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;7. 行情数据表结构&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:27;752:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:115;754:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;目前 NSQ 插件对上海和深圳市场的行情数据表结构做了统一处理，具体表结构如下：&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;71-逐笔委托orders&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:28;756:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:28;756:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;7.1 逐笔委托（orders）&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:28;756:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:5;758:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:5;758:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:16;758:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:17;758:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:5;758:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:26;758:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:97;758:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:98;758:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:5;760:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:27;760:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:99;760:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ExchangeID&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:100;760:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:28;761:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:101;761:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:102;761:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:29;762:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:103;762:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TransFlag&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:104;762:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:30;763:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:105;763:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SeqNo&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:106;763:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:31;764:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:107;764:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ChannelNo&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:108;764:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:32;765:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:109;765:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:110;765:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DATE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:33;766:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:111;766:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TransactTime&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:112;766:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TIME&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:34;767:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:113;767:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;OrdPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:114;767:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:35;768:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:115;768:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;OrdVolume&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:116;768:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:36;769:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:117;769:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;OrdSide&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:118;769:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CHAR&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:37;770:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:119;770:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;OrdType&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:120;770:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CHAR&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:38;771:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:121;771:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;OrdNo&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:122;771:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:39;772:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:123;772:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;BizIndex&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:124;772:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:19;774:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:44;774:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;开启 &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:34;774:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;receivedTime&lt;/b&gt; 订阅选项，会在行情表中增加时间戳字段，表示插件接收消息的时刻。&lt;/li&gt;&lt;/ul&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:6;776:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:6;776:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:18;776:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:19;776:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:6;776:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:40;776:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:125;776:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:126;776:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:6;778:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:41;778:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:127;778:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;receivedTime&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:128;778:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;NANOTIMESTAMP&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;72-逐笔成交trade&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:29;780:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:29;780:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;7.2 逐笔成交（trade）&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:29;780:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:20;782:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:45;782:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;默认模式&lt;/li&gt;&lt;/ul&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:7;784:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:7;784:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:20;784:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:21;784:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:7;784:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:42;784:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:129;784:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:130;784:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:7;786:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:43;786:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:131;786:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ExchangeID&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:132;786:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:44;787:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:133;787:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:134;787:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:45;788:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:135;788:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TransFlag&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:136;788:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:46;789:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:137;789:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SeqNo&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:138;789:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:47;790:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:139;790:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ChannelNo&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:140;790:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:48;791:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:141;791:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:142;791:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DATE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:49;792:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:143;792:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TransactTime&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:144;792:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TIME&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:50;793:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:145;793:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TrdPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:146;793:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:51;794:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:147;794:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TrdVolume&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:148;794:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:52;795:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:149;795:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TrdMoney&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:150;795:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:53;796:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:151;796:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TrdBuyNo&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:152;796:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:54;797:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:153;797:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TrdSellNo&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:154;797:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:55;798:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:155;798:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TrdBSFlag&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:156;798:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CHAR&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:56;799:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:157;799:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;BizIndex&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:158;799:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:21;801:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:46;801:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;开启 &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:35;801:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;receivedTime&lt;/b&gt; 订阅选项，会在行情表中增加时间戳字段，表示插件接收消息的时刻。&lt;/li&gt;&lt;/ul&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:8;803:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:8;803:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:22;803:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:23;803:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:8;803:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:57;803:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:159;803:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:160;803:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:8;805:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:58;805:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:161;805:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;receivedTime&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:162;805:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;NANOTIMESTAMP&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;73-l2-快照snapshot&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:30;807:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:30;807:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;7.3 L2 快照（snapshot）&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:30;807:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:22;809:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:47;809:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;默认模式&lt;/li&gt;&lt;/ul&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:9;811:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;6&#34; xtrc=&#34;tgroup:9;811:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:24;811:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:25;811:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:26;811:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:27;811:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col5&#34; colnum=&#34;5&#34; xtrc=&#34;colspec:28;811:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col6&#34; colnum=&#34;6&#34; xtrc=&#34;colspec:29;811:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:9;811:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:59;811:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:163;811:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:164;811:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:165;811:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:166;811:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:167;811:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:168;811:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:9;813:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:60;813:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:169;813:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ExchangeID&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:170;813:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:171;813:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;BidVolume0-9&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:172;813:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:173;813:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;EtfSellBalance&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:174;813:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:61;814:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:175;814:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:176;814:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:177;814:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;AskVolume0-9&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:178;814:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:179;814:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TotalWarrantExecVolume&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:180;814:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:62;815:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:181;815:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LastPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:182;815:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:183;815:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradesNum&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:184;815:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:185;815:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;WarrantLowerPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:186;815:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:63;816:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:187;816:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;PreClosePrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:188;816:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:189;816:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentTradeStatus&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:190;816:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CHAR&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:191;816:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;WarrantUpperPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:192;816:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:64;817:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:193;817:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;OpenPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:194;817:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:195;817:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TotalBidVolume&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:196;817:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:197;817:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CancelBuyNum&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:198;817:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:65;818:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:199;818:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;HighPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:200;818:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:201;818:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TotalAskVolume&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:202;818:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:203;818:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CancelSellNum&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:204;818:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:66;819:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:205;819:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LowPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:206;819:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:207;819:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;MaBidPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:208;819:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:209;819:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CancelBuyVolume&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:210;819:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:67;820:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:211;820:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ClosePrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:212;820:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:213;820:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;MaAskPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:214;820:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:215;820:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CancelSellVolume&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:216;820:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:68;821:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:217;821:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;UpperLimitPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:218;821:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:219;821:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;MaBondBidPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:220;821:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:221;821:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CancelBuyValue&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:222;821:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:69;822:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:223;822:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LowerLimitPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:224;822:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:225;822:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;MaBondAskPrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:226;822:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:227;822:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CancelSellValue&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:228;822:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:70;823:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:229;823:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:230;823:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DATE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:231;823:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;YieldToMaturity&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:232;823:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:233;823:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TotalBuyNum&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:234;823:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:71;824:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:235;824:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;UpdateTime&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:236;824:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TIME&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:237;824:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;IOPV&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:238;824:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:239;824:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TotalSellNum&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:240;824:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:72;825:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:241;825:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeVolume&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:242;825:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:243;825:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;EtfBuycount&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:244;825:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:245;825:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DurationAfterBuy&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:246;825:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:73;826:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:247;826:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeBalance&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:248;826:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:249;826:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;EtfSellCount&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:250;826:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:251;826:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DurationAfterSell&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:252;826:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:74;827:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:253;827:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;AveragePrice&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:254;827:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:255;827:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;EtfBuyVolume&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:256;827:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:257;827:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;BidOrdersNum&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:258;827:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:75;828:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:259;828:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;BidPrice0-9&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:260;828:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:261;828:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;EtfBuyBalance&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:262;828:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:263;828:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;AskOrdersNum&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:264;828:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:76;829:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:265;829:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;AskPrice0-9&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:266;829:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:267;829:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;EtfSellVolume&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:268;829:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:269;829:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;PreIOPV&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:270;829:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:23;831:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:48;831:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;开启 &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:36;831:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;getAllFieldNames&lt;/b&gt; 订阅选项，会在行情表中增加最优报价的50档委托等信息，如下所示。&lt;/li&gt;&lt;/ul&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:10;833:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:10;833:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:30;833:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:31;833:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:10;833:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:77;833:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:271;833:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:272;833:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:10;835:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:78;835:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:273;835:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;Bid1Count&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:274;835:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:79;836:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:275;836:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;MaxBid1Count&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:276;836:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:80;837:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:277;837:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;Ask1Count&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:278;837:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:81;838:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:279;838:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;MaxAsk1Count&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:280;838:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:82;839:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:281;839:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;Bid1Qty0-49&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:282;839:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:83;840:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:283;840:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;Ask1Qty0-49&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:284;840:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:24;842:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:49;842:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;开启 &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:37;842:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;receivedTime&lt;/b&gt; 订阅选项，会在行情表中增加时间戳字段，表示插件接收消息的时刻。&lt;/li&gt;&lt;/ul&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:11;844:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:11;844:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:32;844:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:33;844:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:11;844:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:84;844:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:285;844:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:286;844:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:11;846:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:85;846:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:287;846:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;receivedTime&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:288;846:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;NANOTIMESTAMP&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;8-附件&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:31;848:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:31;848:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;8. 附件&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:31;848:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:116;850:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;模块文件： &lt;xref class=&#34;- topic/xref &#34; format=&#34;dos&#34; href=&#34;script/easyNSQ.dos&#34; xtrc=&#34;xref:15;850:7&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;easyNSQ.dos&lt;/xref&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:117;852:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;startup脚本： &lt;xref class=&#34;- topic/xref &#34; format=&#34;dos&#34; href=&#34;script/startup.dos&#34; xtrc=&#34;xref:16;852:12&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;startup.dos&lt;/xref&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:118;854:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;使用示例：&lt;xref class=&#34;- topic/xref &#34; format=&#34;txt&#34; href=&#34;script/example.txt&#34; xtrc=&#34;xref:17;854:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;example.txt&lt;/xref&gt;&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;"/><meta name="wh-source-relpath" content="modules/easyNSQ/easynsq.md"/><meta name="wh-out-relpath" content="modules/easyNSQ/easynsq_2.html"/>

    <link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/app/commons.css?buildId=2024012323"/>
    <link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/app/topic.css?buildId=2024012323"/>

    <script src="../../oxygen-webhelp/app/options/properties.js?buildId=20250305183303"></script>
    <script src="../../oxygen-webhelp/app/localization/strings.js?buildId=2024012323"></script>
    <script src="../../oxygen-webhelp/app/search/index/keywords.js?buildId=20250305183303"></script>
    <script defer="defer" src="../../oxygen-webhelp/app/commons.js?buildId=2024012323"></script>
    <script defer="defer" src="../../oxygen-webhelp/app/topic.js?buildId=2024012323"></script>
<link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/template/styles.css?buildId=2024012323"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script></head>

    <body id="easynsq-实时行情数据接入功能模块" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            跳转到主要内容
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div xmlns:whc="http://www.oxygenxml.com/webhelp/components" class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="https://docs.dolphindb.cn/zh/index.html" class=" wh_logo d-none d-sm-block "><img src="../../logo.png" alt="  DolphinDB 文档中心  "/></a>
                    <div class=" wh_publication_title "><a href="../../index.html"><span class="booktitle">  <span class="ph mainbooktitle">DolphinDB 文档中心</span>  </span></a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../../search.html"><div><input type="search" placeholder="搜索 " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="搜索查询" required="required"/><button type="submit" class="wh_search_button" aria-label="搜索"><span class="search_input_text">搜索</span></button></div></form>
            
            <script src="/vendors/react/umd/react.production.min.js" defer="defer"></script>
<script src="/vendors/react-dom/umd/react-dom.production.min.js" defer="defer"></script>
<script src="/vendors/dayjs/dayjs.min.js" defer="defer"></script>
<script src="/vendors/antd/dist/antd.min.js" defer="defer"></script>
<script src="/vendors/@ant-design/icons/dist/index.umd.min.js" defer="defer"></script>
<script src="/zh/index.js" type="module"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" defer="defer"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer="defer"><!--


--></script>
<script defer="defer"><!--

// 从主页重定向
const currentUrl = window.location.href;

// 判断当前URL是否包含index.html并且路径最后部分是index.html
if (currentUrl.endsWith('index.html')) {
    // 处理根目录下的index.html跳转
    const baseUrl = currentUrl.split('/index.html')[0]; // 获取index.html之前的部分
    const redirectUrl = `${baseUrl}/about/ddb_intro.html`; // 构建跳转路径
    window.location.href = redirectUrl; // 执行跳转
}

--></script>
            
        </div></div>
    </div>
</header>
        
        
         
        
        
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="../../index.html"><span>主页</span></a></span></li><li><div class="topicref" data-id="about_tutorials"><div class="title"><a href="../../tutorials/about_tutorials.html"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div></li><li><div class="topicref" data-id="模块概述"><div class="title"><a href="../../tutorials/tu_modules.html">模块</a></div></div></li><li class="active"><div class="topicref" data-id="easynsq-实时行情数据接入功能模块"><div class="title"><a href="../../modules/easyNSQ/easynsq_2.html">easyNSQ 实时行情数据接入功能模块</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="切换搜索突出显示" title="切换搜索突出显示"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="折叠截面" title="折叠截面"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="打印此页" aria-label="打印此页"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem"><div data-tocid="ddb_intro-d9713e87" class="topicref" data-id="ddb_intro" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../about/ddb_intro.html" id="ddb_intro-d9713e87-link">关于DolphinDB</a></div></div></li><li role="treeitem"><div data-tocid="chap1_getstarted-d9713e136" class="topicref" data-id="chap1_getstarted" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../getstarted/chap1_getstarted.html" id="chap1_getstarted-d9713e136-link">快速上手</a><div class="wh-tooltip"><p class="shortdesc">如何快速部署 DolphinDB、建库建表、写入和查询数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="sectionddb_deployment-d9713e189" class="topicref" data-id="sectionddb_deployment" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action sectionddb_deployment-d9713e189-link" class="wh-expand-btn"></span><div class="title"><a href="../../deploy/deploy_intro.html" id="sectionddb_deployment-d9713e189-link"><span class="keyword label">部署</span></a><div class="wh-tooltip"><p class="shortdesc">如何在不同的场景中部署 DolphinDB</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259" class="topicref" data-id="new_chap_database_manage_new_chap_dbmanage_landing_page" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link" class="wh-expand-btn"></span><div class="title"><a href="../../db_distr_comp/cfg/db_intro.html" id="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link"><span class="keyword label">数据库</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 数据库的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_streaming-d9713e3760" class="topicref" data-id="chap7_tutorials_streaming" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_streaming-d9713e3760-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_intro.html" id="chap7_tutorials_streaming-d9713e3760-link"><span class="keyword label">流数据</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 流数据引擎及流数据计算的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e7513" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e7513-link" class="wh-expand-btn"></span><div class="title"><a href="../../db_distr_comp/db_oper/import_data.html" id="tocId-d9713e7513-link">数据迁移</a><div class="wh-tooltip"><p class="shortdesc">如何从不同数据源向 DolphinDB 迁移数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_system_management-d9713e7940" class="topicref" data-id="chap7_tutorials_system_management" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_system_management-d9713e7940-link" class="wh-expand-btn"></span><div class="title"><a href="../../sys_man/om_intro.html" id="chap7_tutorials_system_management-d9713e7940-link"><span class="keyword label">系统运维</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 的系统运维功能及方法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="troubleshooting-d9713e8780" class="topicref" data-id="troubleshooting" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action troubleshooting-d9713e8780-link" class="wh-expand-btn"></span><div class="title"><a href="../../error_codes/troubleshooting.html" id="troubleshooting-d9713e8780-link">故障排查</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="about_language_resources-d9713e20911" class="topicref" data-id="about_language_resources" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_language_resources-d9713e20911-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/progr_intro.html" id="about_language_resources-d9713e20911-link"><span class="keyword label">编程语言</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 编程基本概念与方法、SQL 在 DolphinDB 的应用</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="functions_references-d9713e30925" class="topicref" data-id="functions_references" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action functions_references-d9713e30925-link" class="wh-expand-btn"></span><div class="title"><a href="../../funcs/funcs_intro.html" id="functions_references-d9713e30925-link"><span class="keyword label">函数参考</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 函数分类、语法、详解及示例</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="api_protocol-d9713e94064" class="topicref" data-id="api_protocol" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action api_protocol-d9713e94064-link" class="wh-expand-btn"></span><div class="title"><a href="../../api/connapi_intro.html" id="api_protocol-d9713e94064-link"><span class="keyword label">连接器 &amp; API</span></a><div class="wh-tooltip"><p class="shortdesc">面向不同编程语言的 DolphinDB API 及连接器，相关协议和用法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap6_plugin-d9713e94210" class="topicref" data-id="chap6_plugin" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap6_plugin-d9713e94210-link" class="wh-expand-btn"></span><div class="title"><a href="../../plugins/plg_intro.html" id="chap6_plugin-d9713e94210-link"><span class="keyword label">插件</span></a><div class="wh-tooltip"><p class="shortdesc">多个应用场景的插件使用说明和插件开发指导</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="third_party-d9713e97904" class="topicref" data-id="third_party" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action third_party-d9713e97904-link" class="wh-expand-btn"></span><div class="title"><a href="../../third_party.html" id="third_party-d9713e97904-link">第三方工具</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="about_tutorials-d9713e98227" class="topicref" data-id="about_tutorials" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action about_tutorials-d9713e98227-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/about_tutorials.html" id="about_tutorials-d9713e98227-link"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e98280" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e98280-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/new_users_finance.html" id="tocId-d9713e98280-link">新用户入门</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e98327" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e98327-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/database.html" id="tocId-d9713e98327-link">数据库</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e99111" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e99111-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/std_sql_ddb.html" id="tocId-d9713e99111-link">编程</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e100448" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e100448-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/streaming-real-time-correlation-processing_2.html" id="tocId-d9713e100448-link">流数据</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e100955" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e100955-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/scheduledJob_2.html" id="tocId-d9713e100955-link">系统运维</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="模块概述-d9713e101923" class="topicref" data-id="模块概述" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action 模块概述-d9713e101923-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/tu_modules.html" id="模块概述-d9713e101923-link">模块</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="dolphindb-脚本工程化管理模块代码版本与权限管理-d9713e101969" class="topicref" data-id="dolphindb-脚本工程化管理模块代码版本与权限管理" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/module_code_versioning_and_rights_management.html" id="dolphindb-脚本工程化管理模块代码版本与权限管理-d9713e101969-link">DolphinDB 脚本工程化管理：模块代码版本与权限管理</a></div></div></li><li role="treeitem" class="active"><div data-tocid="easynsq-实时行情数据接入功能模块-d9713e102015" class="topicref" data-id="easynsq-实时行情数据接入功能模块" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../modules/easyNSQ/easynsq_2.html" id="easynsq-实时行情数据接入功能模块-d9713e102015-link">easyNSQ 实时行情数据接入功能模块</a></div></div></li><li role="treeitem"><div data-tocid="easytldataimport-通联历史数据自动化导入功能模块-d9713e102061" class="topicref" data-id="easytldataimport-通联历史数据自动化导入功能模块" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../modules/easyTLDataImport/easytl_data_import.html" id="easytldataimport-通联历史数据自动化导入功能模块-d9713e102061-link">easyTLDataImport 通联历史数据自动化导入功能模块</a></div></div></li><li role="treeitem"><div data-tocid="mytt-指标库-d9713e102107" class="topicref" data-id="mytt-指标库" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../modules/mytt/mytt.html" id="mytt-指标库-d9713e102107-link">MyTT 指标库</a></div></div></li><li role="treeitem"><div data-tocid="ops-运维函数库-d9713e102153" class="topicref" data-id="ops-运维函数库" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../modules/ops/ops.html" id="ops-运维函数库-d9713e102153-link">ops 运维函数库</a></div></div></li><li role="treeitem"><div data-tocid="worldquant-101-alpha-因子指标库-d9713e102199" class="topicref" data-id="worldquant-101-alpha-因子指标库" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../modules/wq101alpha/wq101alpha.html" id="worldquant-101-alpha-因子指标库-d9713e102199-link">WorldQuant 101 Alpha 因子指标库</a></div></div></li><li role="treeitem"><div data-tocid="国泰君安-191-alpha-因子库-d9713e102245" class="topicref" data-id="国泰君安-191-alpha-因子库" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../modules/gtja191Alpha/191alpha.html" id="国泰君安-191-alpha-因子库-d9713e102245-link">国泰君安 191 Alpha 因子库</a></div></div></li><li role="treeitem"><div data-tocid="基于-dolphindb-的-barra-多因子风险模型实践-d9713e102291" class="topicref" data-id="基于-dolphindb-的-barra-多因子风险模型实践" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/barra_multi_factor_risk_model.html" id="基于-dolphindb-的-barra-多因子风险模型实践-d9713e102291-link">基于 DolphinDB 的 Barra 多因子风险模型实践</a></div></div></li><li role="treeitem"><div data-tocid="技术分析technical-analysis指标库-d9713e102337" class="topicref" data-id="技术分析technical-analysis指标库" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../modules/ta/ta.html" id="技术分析technical-analysis指标库-d9713e102337-link">技术分析（Technical Analysis）指标库</a></div></div></li><li role="treeitem"><div data-tocid="交易日历-d9713e102383" class="topicref" data-id="交易日历" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../modules/MarketHoliday/mkt_calendar.html" id="交易日历-d9713e102383-link">交易日历</a></div></div></li><li role="treeitem"><div data-tocid="金融-mock-数据生成模块-d9713e102430" class="topicref" data-id="金融-mock-数据生成模块" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/financial_mock_data_generation_module.html" id="金融-mock-数据生成模块-d9713e102430-link">金融 Mock 数据生成模块</a></div></div></li><li role="treeitem"><div data-tocid="dolphindb-日志分析工具使用手册-d9713e102476" class="topicref" data-id="dolphindb-日志分析工具使用手册" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/log_analysis_tool_user_manual.html" id="dolphindb-日志分析工具使用手册-d9713e102476-link">DolphinDB 日志分析工具使用手册</a></div></div></li><li role="treeitem"><div data-tocid="ImportTLData_toturial-d9713e102522" class="topicref" data-id="ImportTLData_toturial" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/ImportTLData_toturial.html" id="ImportTLData_toturial-d9713e102522-link">通联历史数据导入教程</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e102568" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e102568-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/OHLC_2.html" id="tocId-d9713e102568-link">金融场景案例</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e104827" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e104827-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/streaming_engine_anomaly_alerts_2.html" id="tocId-d9713e104827-link">物联网场景案例</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105795" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105795-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/dolphindb_tensor_libtorch_tutorial.html" id="tocId-d9713e105795-link">机器学习</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105842" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105842-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/api_performance.html" id="tocId-d9713e105842-link">测试报告</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105982" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105982-link" class="wh-expand-btn"></span><div class="title"><a href="../../rn/server/3_00_2.html" id="tocId-d9713e105982-link">版本说明</a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 版本发布历史</p></div></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        <button id="wh_close_topic_toc_button" class="close-toc-button d-none" aria-label="Toggle topic table of content" aria-controls="wh_topic_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        <div class=" wh_topic_content body "><main role="main"><article class="- topic/topic topic" role="article" aria-labelledby="ariaid-title1"><h1 class="- topic/title title topictitle1" id="ariaid-title1">easyNSQ 实时行情数据接入功能模块</h1><div class="- topic/body body"><p class="- topic/p p">为了实时获取 level-2 行情数据，DolphinDB 对接恒生 NSQ 极速行情服务软件，开发了能够获取上海和深圳市场行情数据的 NSQ 插件。安装好插件后，用户需要创建用于接收实时数据的持久化共享流表和分区表，并且发起相关订阅。为了方便用户快速搭建 NSQ 实时行情数据的流计算环境，DolphinDB 开发了 DolphinDBModules::easyNSQ 模块（简称 easyNSQ 模块），主要用于 NSQ 实时行情数据的自动化接收和存储。目前已经支持的数据源包括上海和深圳市场的：</p><ul class="- topic/ul ul"><li class="- topic/li li">现货逐笔委托行情主推回调（OnRtnSecuTransactionEntrustData-&gt;orders）</li><li class="- topic/li li">现货逐笔成交行情主推回调（OnRtnSecuTransactionTradeData-&gt;trade）</li><li class="- topic/li li">现货深度行情主推回调（OnRtnSecuDepthMarketData-&gt;snapshot）</li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：DolphinDB 仅提供对接 HSNsqApi 的 NSQ 插件，数据源和接入服务可咨询数据服务商或证券公司。</p><p class="- topic/p p">NSQ 插件的版本支持情况请参考 <a class="- topic/xref xref" href="https://marketplace.dolphindb.cn/18" target="_blank" rel="external noopener">插件市场下载页</a>。本模块基于 DolphinDB 2.00.11 版本开发，请在使用本模块时确保安装了 2.00.11 及以上版本的 DolphinDB server。</p></div><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title2" id="1-安装说明"><h2 class="- topic/title title topictitle2" id="ariaid-title2">1. 安装说明</h2><div class="- topic/body body"><p class="- topic/p p">使用 DolphinDBModules::easyNSQ 模块前，请确保在 DolphinDB 服务器上正确安装和加载了 NSQ 插件和 DolphinDBModules::easyNSQ 模块文件。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：对于之前从未使用过 DolphinDB 插件和模块功能的读者，推荐在阅读以下章节的同时阅读 <a class="- topic/xref xref" href="https://docs.dolphindb.cn/zh/plugins/nsq/nsq.html" target="_blank" rel="external noopener">DolphinDB NSQ 行情插件文档</a> 以及 <a class="- topic/xref xref" href="https://docs.dolphindb.cn/zh/tutorials/tu_modules.html" target="_blank" rel="external noopener">DolphinDB 模块说明</a>。
easyNSQ 模块依赖于 NSQ 插件，<strong class="+ topic/ph hi-d/b ph b">请确保先加载 NSQ 插件，再加载 easyNSQ 模块</strong>。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title3" id="11-安装-nsq-插件"><h3 class="- topic/title title topictitle3" id="ariaid-title3">1.1 安装 NSQ 插件</h3><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">在线安装插件</strong></li></ul><p class="- topic/p p">用户可以通过 DolphinDB 官方的插件市场在线安装 NSQ 插件，具体操作步骤如下：</p><ol class="- topic/ol ol"><li class="- topic/li li"><p class="- topic/p p">在 DolphinDB 客户端（DolphinDB GUI、Web 页面或者 Vscode 插件）中运行 <a class="- topic/xref xref" href="https://docs.dolphindb.cn/zh/funcs/l/listRemotePlugins.html" target="_blank" rel="external noopener">listRemotePlugins</a> 函数，查看插件市场中与当前 DolphinDB server 适配的 NSQ 插件及其版本信息。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>listRemotePlugins("nsq")</code></pre><p class="- topic/p p">该函数执行后会返回一个如下的表。</p><p class="- topic/p p">图 1-1 listRemotePlugins 函数的返回结果示例</p><br/><img class="- topic/image image" src="images/1.1.png" alt="图 1-1 listRemotePlugins 函数的返回结果示例"/><br/></li><li class="- topic/li li"><p class="- topic/p p">使用 <a class="- topic/xref xref" href="https://docs.dolphindb.cn/zh/funcs/i/installPlugin.html" target="_blank" rel="external noopener">installPlugin</a> 函数从插件市场下载并安装 NSQ 插件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>installPlugin("nsq")</code></pre><p class="- topic/p p">该函数会在安装完成后返回插件的安装路径。</p><p class="- topic/p p">图 1-2 installPlugin 函数的返回结果示例</p><br/><img class="- topic/image image" src="images/1.2.png" alt="图 1-2 installPlugin 函数的返回结果示例"/><br/></li></ol><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">离线安装插件</strong></li></ul><p class="- topic/p p">如果 DolphinDB server 所在机器与插件市场的网络不互通，用户还可以选择使用离线方式安装 NSQ 插件。</p><ol class="- topic/ol ol"><li class="- topic/li li"><p class="- topic/p p">根据 DolphinDB server 版本和及其所在机器的操作系统，从 <a class="- topic/xref xref" href="https://marketplace.dolphindb.cn/18" target="_blank" rel="external noopener">DolphinDB 插件市场</a> 或者 <a class="- topic/xref xref" href="https://github.com/dolphindb/DolphinDBPlugin/tree/release200.11/nsq" target="_blank" rel="external noopener">Github</a> 和 <a class="- topic/xref xref" href="https://gitee.com/dolphindb/DolphinDBPlugin/tree/release200.11/nsq" target="_blank" rel="external noopener">Gitee</a> 下载 NSQ 插件。注意，如果从 Github 或 Gitee 代码仓库下载 NSQ 插件，部分版本可能需要用户自行编译，插件编译的步骤可以参考 <a class="- topic/xref xref" href="https://docs.dolphindb.cn/zh/2.00.11/plugins/nsq/nsq.html#%E8%87%AA%E8%A1%8C%E7%BC%96%E8%AF%91" target="_blank" rel="external noopener">此文档</a>。</p></li><li class="- topic/li li"><p class="- topic/p p">将 NSQ 插件的所有文件（包括动态库文件）放到 DolphinDB server 所在机器的该路径下： <em class="+ topic/ph hi-d/i ph i">/DolphinDB/server/plugins/nsq</em>。</p></li><li class="- topic/li li"><p class="- topic/p p">若使用 Linux 系统，还需要将 NSQ 插件的路径添加到 Linux 环境变量，然后重启 DolphinDB：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>export LD_LIBRARY_PATH=/DolphinDB/server/plugins/nsq/:$LD_LIBRARY_PATH</code></pre></li></ol></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title4" id="12-加载-nsq-插件"><h3 class="- topic/title title topictitle3" id="ariaid-title4">1.2 加载 NSQ 插件</h3><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">手动加载插件</strong></li></ul><p class="- topic/p p">安装 NSQ 插件完之后，可以使用 <a class="- topic/xref xref" href="https://docs.dolphindb.cn/zh/funcs/l/loadPlugin.html" target="_blank" rel="external noopener">loadPlugin</a> 函数加载插件。任意会话中成功加载插件，即可在当前 server 节点的其他会话中使用插件。若 DolphinDB server 重启，则需要重新加载插件。</p><p class="- topic/p p">2.00.11 及以上版本的 server，支持使用插件名来加载插件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>loadPlugin("nsq")</code></pre><p class="- topic/p p">也可以使用插件描述文件的绝对路径来加载插件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>loadPlugin("/DolphinDB/server/plugins/nsq/PluginNsq.txt")</code></pre><p class="- topic/p p">若插件加载成功，该函数会返回一个包含所有插件函数的向量。</p><p class="- topic/p p">图 1-3 loadPlugin 函数的返回结果示例</p><br/><img class="- topic/image image" src="images/1.3.png" alt="图 1-3 loadPlugin 函数的返回结果示例"/><br/><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">自动预加载插件</strong></li></ul><p class="- topic/p p">DolphinDB server 启动后，插件只需加载一次就会一直生效，但是如果 server 重启就需要重新加载插件。为了避免重复手动加载插件的麻烦，DolphinDB 提供了自动预加载插件的功能。可以通过配置项 <a class="- topic/xref xref" href="https://docs.dolphindb.cn/zh/db_distr_comp/cfg/standalone.html#ariaid-title4" target="_blank" rel="external noopener">preloadModules</a> 指定系统启动后自动加载的插件或模块。</p><p class="- topic/p p">在配置文件 <em class="+ topic/ph hi-d/i ph i">dolphindb.cfg</em> 中加上：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>preloadModules=plugins::nsq</code></pre><p class="- topic/p p">然后启动 DolphinDB，系统自动会到 <em class="+ topic/ph hi-d/i ph i">/DolphinDB/server/plugins/</em> 目录下加载 NSQ 插件。</p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">验证加载</strong></li></ul><p class="- topic/p p">可以运行以下代码来验证 NSQ 插件加载成功：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>defs("nsq::%")</code></pre><p class="- topic/p p">以上代码用于查询 DolphinDB 系统中 ”nsq“ 命名空间的函数，插件加载成功会返回如下列表：</p><p class="- topic/p p">图 1-4 defs 函数的返回结果示例</p><br/><img class="- topic/image image" src="images/1.4.png" alt="图 1-4 defs 函数的返回结果示例"/><br/></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title5" id="13-安装-easynsq-模块"><h3 class="- topic/title title topictitle3" id="ariaid-title5">1.3 安装 easyNSQ 模块</h3><div class="- topic/body body"><p class="- topic/p p">以 Linux 单节点为例，将模块文件拷贝到 <em class="+ topic/ph hi-d/i ph i">/DolphinDB/server/modules/</em> 目录下，即模块脚本 <em class="+ topic/ph hi-d/i ph i">easyNSQ.dos</em> 的路径应为 <em class="+ topic/ph hi-d/i ph i">/DolphinDB/server/modules/DolphinDBModules/easyNSQ.dos 。</em></p><p class="- topic/p p">模块文件安装好，运行以下代码加载模块：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>use DolphinDBModules::easyNSQ</code></pre><p class="- topic/p p">如果没有返回错误信息，则说明 easyNSQ 模块已经成功加载。</p><p class="- topic/p p">安装插件时常见的错误信息如下：</p><ol class="- topic/ol ol"><li class="- topic/li li">插件与 DolphinDB server 版本不匹配，需要改用适配 server 版本的插件：<code class="+ topic/ph pr-d/codeph ph codeph">The first line must be the module name, dynamic library file name and version, separated by comma</code> 或 <code class="+ topic/ph pr-d/codeph ph codeph">Failed to loadPlugin file [...] for the plugin version [...] is not same to the server version [...]</code></li><li class="- topic/li li">没有将 NSQ 插件的路径添加到 Linux 环境变量，需要添加环境变量再重启 DolphinDB server ：<code class="+ topic/ph pr-d/codeph ph codeph">Couldn't load the dynamic library [.../libPluginNsq.so]: libHSNsqApi.so: cannot open shared object file: No such file or directory [...]</code></li></ol><p class="- topic/p p">如果遇到其他问题，可以在社区中交流或者联系 DolphinDB 的技术支持工程师。</p></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title6" id="2-使用示例"><h2 class="- topic/title title topictitle2" id="ariaid-title6">2. 使用示例</h2><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">第一步：</strong> 按照上一章节的说明，安装并加载 NSQ 行情插件和 easyNSQ 模块。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">第二步</strong>：准备好 NSQ 行情数据服务器配置文件 <em class="+ topic/ph hi-d/i ph i">sdk_config.ini</em>，上传到 DolphinDB server 所在的服务器上。下图中，配置文件放置在 <em class="+ topic/ph hi-d/i ph i">server/plugins/nsq/</em> 路径。</li></ul><p class="- topic/p p">图 2-1 server/plugins/ 文件结构示例</p><br/><img class="- topic/image image" src="images/2.1.png" alt="图 2-1 server/plugins/ 文件结构示例"/><br/><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">第三步</strong>：打开浏览器，在地址栏输入 DolphinDB server 的 IP 地址与端口号，连接到该节点的 Web 管理页面。点击右上角的用户按钮进行登录。</li></ul><p class="- topic/p p">图 2-2 DolphinDB Web 管理页面示例</p><br/><img class="- topic/image image" src="images/2.2.png" alt="图 2-2 DolphinDB Web 管理页面示例"/><br/><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">第四步</strong>：在交互编程页面，执行以下脚本订阅行情数据和落库存储：</li></ul><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 加载插件
try{ loadPlugin("nsq") } catch(ex) { print(ex) }
go
// 调用模块
use DolphinDBModules::easyNSQ

// nsq 行情配置文件路径
configFilePath = "&lt;your_path_to&gt;/nsq_sdk_config.ini";

// nsq 账号（可选参数）
nsq_username = "&lt;your_nsq_username&gt;";
nsq_password = "&lt;your_nsq_password&gt;";

// 数据接收选项（可选参数）
nsq_data_option = dict(STRING, ANY)
nsq_data_option["receivedTime"]=true  // 在行情数据中增加一列接收时间
nsq_data_option["getAllFieldNames"]=true // 接受 nsq 原始行情中所有字段

// 初始化环境
iniNsqEnv()
iniNsqDfs()

// 建立对沪深交易所L2快照、逐笔委托和逐笔成交行情数据的订阅，接收数据后自动落库存储
subscribeNsq(configFilePath, "orders", ["sh","sz"], merge=true, saveToDfs=true, options=nsq_data_option, username=nsq_username, password=nsq_password)
subscribeNsq(configFilePath, "trade", ["sh","sz"], merge=true, saveToDfs=true, options=nsq_data_option, username=nsq_username, password=nsq_password)
subscribeNsq(configFilePath, "snapshot", ["sh","sz"], merge=true, saveToDfs=true, options=nsq_data_option, username=nsq_username, password=nsq_password)

/*
// 不使用 nsq 账号和数据接收选项的订阅方式
subscribeNsq(configFilePath, "orders", ["sh","sz"], merge=true, saveToDfs=true)
subscribeNsq(configFilePath, "trade", ["sh","sz"], merge=true, saveToDfs=true)
subscribeNsq(configFilePath, "snapshot", ["sh","sz"], merge=true, saveToDfs=true)
*/</code></pre><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">第五步</strong>：查询订阅状态</li></ul><p class="- topic/p p">使用插件函数 <code class="+ topic/ph pr-d/codeph ph codeph">nsq::getSubscriptionStatus()</code> 可以获取 NSQ 行情的订阅状态。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>nsq::getSubscriptionStatus()</code></pre><p class="- topic/p p">图 2-3 nsq::getSubscriptionStatus 函数的返回结果示例</p><br/><img class="- topic/image image" src="images/2.3.png" alt="图 2-3 nsq::getSubscriptionStatus 函数的返回结果示例"/><br/><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">第六步</strong>：查询流数据表。</li></ul><p class="- topic/p p">（1）逐笔委托</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from nsqStockOrdersStream limit 10</code></pre><p class="- topic/p p">图 2-4 逐笔委托流表的查询结果示例</p><br/><img class="- topic/image image" src="images/2.4.png" alt="图 2-4 逐笔委托流表的查询结果示例"/><br/><p class="- topic/p p">（2）逐笔成交</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from nsqStockTradeStream limit 10</code></pre><p class="- topic/p p">图 2-5 逐笔成交流表的查询结果示例</p><br/><img class="- topic/image image" src="images/2.5.png" alt="图 2-5 逐笔成交流表的查询结果示例"/><br/><p class="- topic/p p">（3）L2 快照</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from nsqStockSnapshotStream limit 10</code></pre><p class="- topic/p p">图 2-6 L2 快照流表的查询结果示例</p><br/><img class="- topic/image image" src="images/2.6.png" alt="图 2-6 L2 快照流表的查询结果示例"/><br/><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">第七步</strong>：查询分区表</li></ul><p class="- topic/p p">（1）逐笔委托</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from loadTable("dfs://nsqStockOrders", "orders") limit 10</code></pre><p class="- topic/p p">图 2-7 逐笔委托分区表的查询结果示例</p><br/><img class="- topic/image image" src="images/2.7.png" alt="图 2-7 逐笔委托分区表的查询结果示例"/><br/><p class="- topic/p p">（2）逐笔成交</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from nsqStockTradeStream limit 10</code></pre><p class="- topic/p p">图 2-8 逐笔成交分区表的查询结果示例</p><br/><img class="- topic/image image" src="images/2.8.png" alt="图 2-8 逐笔成交分区表的查询结果示例"/><br/><p class="- topic/p p">（3）L2 快照</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from loadTable("dfs://nsqStockSnapshot", "snapshot") limit 10</code></pre><p class="- topic/p p">图 2-9 L2 快照分区表的查询结果示例</p><br/><img class="- topic/image image" src="images/2.9.png" alt="图 2-9 L2 快照分区表的查询结果示例"/><br/></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title7" id="3-实时行情数据存储说明"><h2 class="- topic/title title topictitle2" id="ariaid-title7">3. 实时行情数据存储说明</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title8" id="31-接收行情数据到流数据表"><h3 class="- topic/title title topictitle3" id="ariaid-title8">3.1 接收行情数据到流数据表</h3><div class="- topic/body body"><p class="- topic/p p">图 3-1 easyNSQ 模块接收行情数据到流数据表</p><br/><img class="- topic/image image" src="images/3.1.png" alt="图 3-1 easyNSQ 模块接收行情数据到流数据表"/><br/><p class="- topic/p p">用户指定希望接收的行情数据源（逐笔委托、逐笔成交或 L2 快照），easyNSQ 模块会根据用户的需要创建不同的持久化共享流表，并通过 NSQ 插件订阅交易所数据，将上海和深圳市场的实时行情数据写入持久化共享流表中。</p><p class="- topic/p p">持久化共享流表是进行共享并做了持久化处理的流数据表。将流表共享是为了让该流表在连接当前节点其它会话中也可见。比如通过 C++ API 实时查询流数据表的会话与定义流表的会话不会是同一个，如果不将流表共享，查询的需求就无法实现。</p><p class="- topic/p p">对流数据表进行持久化的目的主要有以下两点：</p><ul class="- topic/ul ul"><li class="- topic/li li">控制该表的最大内存占用。通过设置 <code class="+ topic/ph pr-d/codeph ph codeph">enableTableShareAndPersistence</code> 函数中的 <em class="+ topic/ph hi-d/i ph i">cacheSize</em> 参数，可以控制流表在内存中最多保留多少条记录，超出的部分被写入持久化数据文件、从内存中清除，进而控制该表的最大内存占用。</li><li class="- topic/li li">在节点异常关闭的极端情况下，可以从持久化数据文件中恢复已经写入流数据表但是未消费的数据，保证流数据“至少消费一次”的需求。</li></ul><p class="- topic/p p">流数据表持久化采用异步的方式进行，对流表写入吞吐量几乎没有影响。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：</p><p class="- topic/p p">虽然名字里带有“持久化”，但是持久化流表并不能满足行情数据持久化存储的需求。</p><p class="- topic/p p">首先，流数据表持久化到磁盘上的数据的规模在增长到一定大小，或者超过一定时间之后，会触发系统的回收校验，并不能做到真正的永久化存储。</p><p class="- topic/p p">其次，流数据表持久化到磁盘上的数据并没有进行结构化的存储，查询和更新的效率比不上在分区表中存储的数据，不适合用于实际生产环境。</p><p class="- topic/p p">如果用户有将行情数据在磁盘上进行持久化存储的需求，请阅读本篇文档<a class="- topic/xref xref" href="https://gitee.com/dolphindb/DolphinDBModules/blob/master/easyNSQ/README.md#22-%E6%8E%A5%E6%94%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%88%B0%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%B9%B6%E6%8C%81%E4%B9%85%E5%8C%96%E5%88%B0%E5%88%86%E5%8C%BA%E8%A1%A8" target="_blank" rel="external noopener">2.2</a>及<a class="- topic/xref xref" href="https://gitee.com/dolphindb/DolphinDBModules/blob/master/easyNSQ/README.md#23-%E5%90%88%E5%B9%B6%E5%AD%98%E5%82%A8%E4%B8%8A%E6%B5%B7%E5%92%8C%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE" target="_blank" rel="external noopener">2.3</a>小节的方案说明。</p><p class="- topic/p p">用户可以为这些持久化的共享流表指定名字，也可以选择使用模块默认的表名。在用户没有指定表名的情况下，模块对持久化共享流表的命名如下：</p><ul class="- topic/ul ul"><li class="- topic/li li">上交所逐笔委托：流表名称为 ”nsqStockOrdersSHStream“。</li><li class="- topic/li li">深交所逐笔委托：流表名称为 ”nsqStockOrdersSZStream"。</li><li class="- topic/li li">上交所逐笔成交：流表名称为 “nsqStockTradeSHStream"。</li><li class="- topic/li li">深交所逐笔成交：流表名称为 ”nsqStockTradeSZStream"。</li><li class="- topic/li li">上交所 L2 所快照：流表名称为 “nsqStockSnapshotSHStream"。</li><li class="- topic/li li">深交所 L2 所快照：流表名称为 ”nsqStockSnapshotSZStream“。</li></ul><p class="- topic/p p">基于过往项目的实践，推荐如下的持久化共享流表参数配置方案：</p><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="31-接收行情数据到流数据表__entry__1">配置项</th><th class="- topic/entry entry colsep-0 rowsep-0" id="31-接收行情数据到流数据表__entry__2">配置值</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-接收行情数据到流数据表__entry__1">asynWrite</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-接收行情数据到流数据表__entry__2">true</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-接收行情数据到流数据表__entry__1">compress</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-接收行情数据到流数据表__entry__2">true</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-接收行情数据到流数据表__entry__1">cacheSize</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-接收行情数据到流数据表__entry__2">500,000</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-接收行情数据到流数据表__entry__1">preCache</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-接收行情数据到流数据表__entry__2">100,000</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-接收行情数据到流数据表__entry__1">retentionMinutes</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-接收行情数据到流数据表__entry__2">1440</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-接收行情数据到流数据表__entry__1">flushMode</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-接收行情数据到流数据表__entry__2">0</td></tr></tbody></table></div></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title9" id="32-接收行情数据到流数据表并持久化到分区表"><h3 class="- topic/title title topictitle3" id="ariaid-title9">3.2 接收行情数据到流数据表，并持久化到分区表</h3><div class="- topic/body body"><p class="- topic/p p">图 3-2 easyNSQ 模块接收行情数据到流数据表，并持久化到分区表</p><br/><img class="- topic/image image" src="images/3.2.png" alt="图 3-2 easyNSQ 模块接收行情数据到流数据表，并持久化到分区表"/><br/><p class="- topic/p p">easyNSQ 模块还支持将实时行情数据写入分区表进行持久化的存储。在此种订阅模式下，用户指定希望接收的行情数据源（逐笔委托、逐笔成交或 L2 快照），easyNSQ 模块会通过 NSQ 插件订阅交易所数据，将上海和深圳市场的实时行情数据分别写入持久化共享流表，然后通过 DolphinDB 内置的订阅-发布功能，将流表的增量数据实时写入分区表。</p><p class="- topic/p p">用户可以指定用于存储行情数据的数据库和分区表的名字。在用户没有指定数据库和分区表名字的情况下，模块会使用默认名字的数据库和分区表：</p><ul class="- topic/ul ul"><li class="- topic/li li">上交所逐笔委托：数据库名称为 "dfs://nsqStockOrders"，分区表名称为 "ordersSH"。</li><li class="- topic/li li">深交所逐笔委托：数据库名称为 "dfs://nsqStockOrders"，分区表名称为 "ordersSZ"。</li><li class="- topic/li li">上交所逐笔成交：数据库名称为 "dfs://nsqStockTrade"，分区表名称为 "tradeSH"。</li><li class="- topic/li li">深交所逐笔成交：数据库名称为 "dfs://nsqStockTrade"，分区表名称为 "tradeSZ"。</li><li class="- topic/li li">上交所 L2 所快照：数据库名称为 "dfs://nsqStockSnapshot"，分区表名称为 "snapshotSH"。</li><li class="- topic/li li">深交所 L2 所快照：数据库名称为 "dfs://nsqStockSnapshot"，分区表名称为 "snapshotSZ"。</li></ul><p class="- topic/p p">细心的读者已经注意到 easyNSQ 模块会将同一行情数据源的数据放在同一个数据库中，比如上交所逐笔委托和深交所逐笔委托数据都会存储在数据库 "dfs://nsqStockOrders"。这样的做法，部分是出于业务逻辑的考虑，即后续往往会对上交所和深交所的逐笔委托数据进行同样的处理操作；此外，NSQ 插件已经对上海和深圳市场的行情数据表结构做了统一处理，上交所和深交所的数据适用于同一套数据库分区规则，可以存储在同一个数据库中。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：</p><p class="- topic/p p">出于数据安全的考虑，easyNSQ 模块在存储数据到分区表的过程中，如果发现要做写入的分区表不存在，会创建新分区表；如果发现同名分区表已存在，会直接向该分区表写入数据，而不是进行删除和重新创建。</p><p class="- topic/p p">因此，用户在使用 easyNSQ 模块时，需要注意：如果已存在分区表的表结构与行情数据结构不同，写入数据的时候就会抛出异常。建议用户使用 easyNSQ 模块时，在订阅行情数据前对用于行情数据入库存储的分区表进行检查。</p><p class="- topic/p p">基于过往项目的实践，对分区表确定了如下的分区方案：</p><div class="table-container"><table class="- topic/table table" data-cols="4"><caption></caption><colgroup><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="32-接收行情数据到流数据表并持久化到分区表__entry__1">行情数据类型</th><th class="- topic/entry entry colsep-0 rowsep-0" id="32-接收行情数据到流数据表并持久化到分区表__entry__2">分区方案</th><th class="- topic/entry entry colsep-0 rowsep-0" id="32-接收行情数据到流数据表并持久化到分区表__entry__3">分区列</th><th class="- topic/entry entry colsep-0 rowsep-0" id="32-接收行情数据到流数据表并持久化到分区表__entry__4">排序列</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="32-接收行情数据到流数据表并持久化到分区表__entry__1">逐笔委托（orders）</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="32-接收行情数据到流数据表并持久化到分区表__entry__2">组合分区：时间维度按天分区 + 证券代码维度 HASH 25 分区</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="32-接收行情数据到流数据表并持久化到分区表__entry__3">TradeDate + InstrumentID</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="32-接收行情数据到流数据表并持久化到分区表__entry__4">InstrumentID + TransactTime</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="32-接收行情数据到流数据表并持久化到分区表__entry__1">逐笔成交（trade）</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="32-接收行情数据到流数据表并持久化到分区表__entry__2">组合分区：时间维度按天分区 + 证券代码维度 HASH 25 分区</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="32-接收行情数据到流数据表并持久化到分区表__entry__3">TradeDate + InstrumentID</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="32-接收行情数据到流数据表并持久化到分区表__entry__4">InstrumentID + TransactTime</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="32-接收行情数据到流数据表并持久化到分区表__entry__1">L2 快照（snapshot）</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="32-接收行情数据到流数据表并持久化到分区表__entry__2">组合分区：时间维度按天分区 + 证券代码维度 HASH 25 分区</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="32-接收行情数据到流数据表并持久化到分区表__entry__3">TradeDate + InstrumentID</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="32-接收行情数据到流数据表并持久化到分区表__entry__4">InstrumentID + UpdateTime</td></tr></tbody></table></div></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title10" id="33-合并存储上海和深圳市场行情数据"><h3 class="- topic/title title topictitle3" id="ariaid-title10">3.3 合并存储上海和深圳市场行情数据</h3><div class="- topic/body body"><p class="- topic/p p">图 3-3 easyNSQ 模块对沪深市场的行情数据进行合并处理</p><br/><img class="- topic/image image" src="images/3.3.png" alt="图 3-3 easyNSQ 模块对沪深市场的行情数据进行合并处理"/><br/><p class="- topic/p p">easyNSQ 模块支持将上海和深圳市场的实时行情数据进行合并处理。用户可以指定用于接收实时数据的流数据表的名字，以及用于存储行情数据的数据库和分区表的名字。在用户没有进行指定的情况下，模块会使用默认的名字：</p><ul class="- topic/ul ul"><li class="- topic/li li">逐笔委托：流表名称为 ”nsqStockOrdersStream“， 数据库名称为 "dfs://nsqStockOrders"，分区表名称为 "orders"。</li><li class="- topic/li li">逐笔成交：流表名称为 ”nsqStockTradeStream“，数据库名称为 "dfs://nsqStockTrade"，分区表名称为 "trade"。</li><li class="- topic/li li">L2 所快照：流表名称为 ”nsqStockSnapshotStream“，数据库名称为 "dfs://nsqStockSnapshot"，分区表名称为 "snapshot"。</li></ul><p class="- topic/p p">对于沪深行情数据合并存储，持久化共享流表的参数配置方案同沪深行情分开存储的参数配置方案。而分区表的分区方案如下：</p><div class="table-container"><table class="- topic/table table" data-cols="4"><caption></caption><colgroup><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="33-合并存储上海和深圳市场行情数据__entry__1">行情数据类型</th><th class="- topic/entry entry colsep-0 rowsep-0" id="33-合并存储上海和深圳市场行情数据__entry__2">分区方案</th><th class="- topic/entry entry colsep-0 rowsep-0" id="33-合并存储上海和深圳市场行情数据__entry__3">分区列</th><th class="- topic/entry entry colsep-0 rowsep-0" id="33-合并存储上海和深圳市场行情数据__entry__4">排序列</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-合并存储上海和深圳市场行情数据__entry__1">逐笔委托（orders）</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-合并存储上海和深圳市场行情数据__entry__2">组合分区：时间维度按天分区 + 证券代码维度 HASH 50 分区</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-合并存储上海和深圳市场行情数据__entry__3">TradeDate + InstrumentID</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-合并存储上海和深圳市场行情数据__entry__4">InstrumentID + TransactTime</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-合并存储上海和深圳市场行情数据__entry__1">逐笔成交（trade）</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-合并存储上海和深圳市场行情数据__entry__2">组合分区：时间维度按天分区 + 证券代码维度 HASH 50 分区</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-合并存储上海和深圳市场行情数据__entry__3">TradeDate + InstrumentID</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-合并存储上海和深圳市场行情数据__entry__4">InstrumentID + TransactTime</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-合并存储上海和深圳市场行情数据__entry__1">L2 快照（snapshot）</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-合并存储上海和深圳市场行情数据__entry__2">组合分区：时间维度按天分区 + 证券代码维度 HASH 50 分区</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-合并存储上海和深圳市场行情数据__entry__3">TradeDate + InstrumentID</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-合并存储上海和深圳市场行情数据__entry__4">InstrumentID + UpdateTime</td></tr></tbody></table></div></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title11" id="4-easynsq-模块接口介绍"><h2 class="- topic/title title topictitle2" id="ariaid-title11">4. easyNSQ 模块接口介绍</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title12" id="41-subscribensq"><h3 class="- topic/title title topictitle3" id="ariaid-title12">4.1 subscribeNsq</h3><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">语法</strong></p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>easyNSQ::subscribeNsq(configFilePath, dataSource, [markets], [merge], [saveToDfs], [streamTableNames], 
  [dbPath], [tableNames], [options], [username], [password])</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">参数</strong></p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">configFilePath</em> ：一个字符串，表示 NSQ 行情服务器配置文件 <em class="+ topic/ph hi-d/i ph i">sdk_config.ini</em> 的绝对路径；若拷贝配置文件至 <em class="+ topic/ph hi-d/i ph i">dolphindb server</em>，则可以是相对于 <em class="+ topic/ph hi-d/i ph i">dolphindb server</em> 的相对路径。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">dataSource</em> ：一个字符串，表示行情的类型，可以是以下值：</p><ul class="- topic/ul ul"><li class="- topic/li li">“orders”：表示回调函数 OnRtnSecuDepthMarketData（主推 - 现货深度行情）获取的行情数据。</li><li class="- topic/li li">”trade”：表示回调函数 OnRtnSecuDepthMarketData（主推 - 现货深度行情）获取的行情数据。</li><li class="- topic/li li">“snapshot”：表示回调函数 OnRtnSecuDepthMarketData（主推 - 现货深度行情）获取的行情数据。</li></ul><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">markets</em>： 可选参数。一个字符串或字符串向量，表示行情市场，上海证券交易所用 <code class="+ topic/ph pr-d/codeph ph codeph">sh</code> 表示，深圳证券交易所用 <code class="+ topic/ph pr-d/codeph ph codeph">sz</code> 表示，参数默认值为 <code class="+ topic/ph pr-d/codeph ph codeph">["sz", "sh"]</code>。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">merge</em>： 可选参数。一个布尔值，表示是否合并处理上海和深圳市场的行情数据，参数默认值为 false。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">saveToDfs</em>： 可选参数。一个布尔值，表示是否持久化存储到分区表，参数默认值为 false。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">streamTableNames</em>： 可选参数。一个字符串或字符串向量，表示用于接收实时数据的流数据表的名字，<strong class="+ topic/ph hi-d/b ph b">将使用这个名字创建新的持久化共享流数据表</strong>。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">dbPath</em>： 可选参数。一个字符串，表示用于持久化存储数据的数据库的名字。若数据库不存在，将创建新数据库。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">tableNames</em> ：可选参数。一个字符串或字符串向量，表示用于持久化存储数据的分区表的名字。若分区表不存在，将创建新分区表。<strong class="+ topic/ph hi-d/b ph b">若同名分区表已存在，则直接向该表写入</strong>。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">options</em>：可选参数。一个字典标量，表示行情订阅的扩展参数。当前版本只支持以 “receivedTime” 和 “getAllFieldNames” 作为字典的键。receivedTime 表示是否显示接收时间，对应值为布尔类型标量。 getAllFieldNames 表示是否接受所有字段数据，对应值为布尔类型标量。详见后续的 ”行情数据表结构“章节以及 <a class="- topic/xref xref" href="https://docs.dolphindb.cn/zh/plugins/nsq/nsq.html#connect" target="_blank" rel="external noopener">NSQ 插件函数接口文档</a>。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">username</em>：可选参数。一个字符串，表示登录 NSQ 行情服务器的用户名。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">password</em>：可选参数。一个字符串，表示登录 NSQ 行情服务器用户名对应的密码。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">函数详情</strong></p><p class="- topic/p p">自动化接收和存储 NSQ 实时行情数据。对应行情市场和行情类型的实时数据会被接收到持久化共享流表，并根据用户需要，同时将数据持久化存储到分区表。 函数执行成功会返回流数据表的名字（如果 <em class="+ topic/ph hi-d/i ph i">saveToDfs</em> 为 true，还会返回数据库和分区表的名字），若执行不成功则返回 NULL。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>streamTableNames = subscribeNsq(configFilePath, "snapshot", ["sh","sz"], merge=true)
streamTableNames, dbPath, tableNames = subscribeNsq(configFilePath, "orders", "sh", saveToDfs=true)</code></pre><p class="- topic/p p">用户没有使用可选参数 <em class="+ topic/ph hi-d/i ph i">streamTableNames</em>、<em class="+ topic/ph hi-d/i ph i">dbPath</em> 和 <em class="+ topic/ph hi-d/i ph i">tableNames</em> 时，easyNSQ 模块默认使用以下名字：</p><div class="table-container"><table class="- topic/table table" data-cols="5"><caption></caption><colgroup><col/><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="41-subscribensq__entry__1">行情类型</th><th class="- topic/entry entry colsep-0 rowsep-0" id="41-subscribensq__entry__2">行情市场</th><th class="- topic/entry entry colsep-0 rowsep-0" id="41-subscribensq__entry__3">流数据表</th><th class="- topic/entry entry colsep-0 rowsep-0" id="41-subscribensq__entry__4">数据库</th><th class="- topic/entry entry colsep-0 rowsep-0" id="41-subscribensq__entry__5">分区表</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__1">orders</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__2">sh</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__3">nsqStockOrdersSHStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__4">dfs://nsqStockOrders</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__5">ordersSH</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__1">orders</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__2">sz</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__3">nsqStockOrdersSZStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__4">dfs://nsqStockOrders</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__5">ordersSZ</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__1">orders</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__2">合并存储</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__3">nsqStockOrdersStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__4">dfs://nsqStockOrders</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__5">orders</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__1">trade</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__2">sh</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__3">nsqStockTradeSHStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__4">dfs://nsqStockTrade</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__5">tradeSH</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__1">trade</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__2">sz</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__3">nsqStockTradeSZStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__4">dfs://nsqStockTrade</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__5">tradeSZ</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__1">trade</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__2">合并存储</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__3">nsqStockTradeStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__4">dfs://nsqStockTrade</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__5">trade</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__1">snapshot</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__2">sh</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__3">nsqStockSnapshotSHStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__4">dfs://nsqStockSnapshot</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__5">snapshotSH</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__1">snapshot</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__2">sz</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__3">nsqStockSnapshotSZStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__4">dfs://nsqStockSnapshot</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__5">snapshotSZ</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__1">snapshot</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__2">合并存储</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__3">nsqStockSnapshotStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__4">dfs://nsqStockSnapshot</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="41-subscribensq__entry__5">snapshot</td></tr></tbody></table></div></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title13" id="42-closensqconnection"><h3 class="- topic/title title topictitle3" id="ariaid-title13">4.2 closeNsqConnection</h3><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">语法</strong></p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>easyNSQ::closeNsqConnection()</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">参数</strong></p><p class="- topic/p p">无</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">函数详情</strong></p><p class="- topic/p p">断开与行情服务器的连接，本函数执行后会取消所有已建立的对实时行情数据的订阅。</p><p class="- topic/p p">函数执行成功返回 true，若有执行异常则会返回 false。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title14" id="43-ininsqenv"><h3 class="- topic/title title topictitle3" id="ariaid-title14">4.3 iniNsqEnv</h3><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">语法</strong></p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>easyNSQ::iniNsqEnv([streamTableNames])</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">参数</strong></p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">streamTableNames</em>：可选参数。一个字符串或字符串向量，表示要清理的流数据表。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">函数详情</strong></p><p class="- topic/p p">初始化流计算环境，清理指定的流数据表及其订阅。若用户没有使用可选参数 <em class="+ topic/ph hi-d/i ph i">streamTableNames</em>，则会根据 easyNSQ 模块默认使用的流表进行清理，请参考 <code class="+ topic/ph pr-d/codeph ph codeph">easyNSQ::subscribeNsq</code> 的函数详情说明。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：<code class="+ topic/ph pr-d/codeph ph codeph">iniNsqEnv</code> 函数在没有传入参数时，会根据 easyNSQ 模块默认使用的流表名字，对同名流表及其订阅进行清理。请用户注意这一行为可能会导致数据被误删除。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title15" id="44-ininsqdfs"><h3 class="- topic/title title topictitle3" id="ariaid-title15">4.4 iniNsqDfs</h3><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">语法</strong></p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>easyNSQ::iniNsqDfs([dbName], [tbNames])</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">参数</strong></p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">dbName</em>： 可选参数。一个字符串，表示要清理的分区表的数据路径。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">tbNames</em> ：可选参数。一个字符串或字符串向量，表示要清理的分区表的表名。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">函数详情</strong></p><p class="- topic/p p">初始化环境，清理已指定的分区表。若用户没有使用可选参数 <em class="+ topic/ph hi-d/i ph i">dbName</em> 和 <em class="+ topic/ph hi-d/i ph i">tbNames</em>，则会根据 easyNSQ 模块默认使用的分区表进行清理，请参考 <code class="+ topic/ph pr-d/codeph ph codeph">easyNSQ::subscribeNsq</code> 的函数详情说明。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：<code class="+ topic/ph pr-d/codeph ph codeph">iniNsqDfs</code> 函数在没有传入参数时，会根据 easyNSQ 模块默认使用的数据库路径和分区表名字，对分区表进行清理。请用户注意这一行为可能会导致数据被误删除。</p></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title16" id="5-easynsq-模块使用示例"><h2 class="- topic/title title topictitle2" id="ariaid-title16">5. easyNSQ 模块使用示例</h2><div class="- topic/body body"><p class="- topic/p p">本章节为四个不同的使用场景提供了脚本示例，并在最后提供了脚本用于关闭 NSQ 连接和清理例子运行时创建的流表、分区表。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title17" id="51-例1-接收深圳市场-snapshot-实时行情数据"><h3 class="- topic/title title topictitle3" id="ariaid-title17">5.1 例1-接收深圳市场 snapshot 实时行情数据</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 加载插件
try{ loadPlugin("nsq") } catch(ex) { print(ex) }
go
// 调用模块
use DolphinDBModules::easyNSQ

configFilePath = "&lt;your_path_to&gt;/nsq_sdk_config.ini";

// 初始化化境并拉起订阅
iniNsqEnv()
streamTableNames = subscribeNsq(configFilePath, "snapshot", "sz")

// 检查订阅情况
nsq::getSubscriptionStatus()
select count(*) from objByName(streamTableNames[0])
select top 100 * from objByName(streamTableNames[0])

// 停止订阅
nsq::unsubscribe("snapshot", "sz")
nsq::getSubscriptionStatus()</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title18" id="52-例2-接收上海市场所有类型实时行情数据并持久化存储"><h3 class="- topic/title title topictitle3" id="ariaid-title18">5.2 例2-接收上海市场所有类型实时行情数据，并持久化存储</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 加载插件
try{ loadPlugin("nsq") } catch(ex) { print(ex) }
go
// 调用模块
use DolphinDBModules::easyNSQ

configFilePath = "&lt;your_path_to&gt;/nsq_sdk_config.ini";

// 数据接收选项（非必填）
nsq_data_option = dict(STRING, ANY)
nsq_data_option["receivedTime"]=true  // 在行情数据中增加一列接收时间
nsq_data_option["getAllFieldNames"]=true // 接受 nsq 原始行情中所有字段

// 初始化环境并拉起订阅
iniNsqEnv()
iniNsqDfs()
subscribeNsq(configFilePath, "orders", "sh", saveToDfs=true, options=nsq_data_option)
subscribeNsq(configFilePath, "trade", "sh", saveToDfs=true, options=nsq_data_option)
subscribeNsq(configFilePath, "snapshot", "sh", saveToDfs=true, options=nsq_data_option)

// 检查订阅情况
nsq::getSubscriptionStatus()
existsSubscriptionTopic(,"nsqStockOrdersSHStream","easyNSQ_saveToDfsTable")
existsSubscriptionTopic(,"nsqStockTradeSHStream","easyNSQ_saveToDfsTable")
existsSubscriptionTopic(,"nsqStockSnapshotSHStream","easyNSQ_saveToDfsTable")
select count(*) from objByName("nsqStockOrdersSHStream")
select count(*) from loadTable("dfs://nsqStockOrders", "ordersSH")
select count(*) from objByName("nsqStockTradeSHStream")
select count(*) from loadTable("dfs://nsqStockTrade", "tradeSH")
select count(*) from objByName("nsqStockSnapshotSHStream")
select count(*) from loadTable("dfs://nsqStockSnapshot", "snapshotSH")

// 仅停止 orders 行情数据的订阅
nsq::unsubscribe("orders", "sh")
nsq::getSubscriptionStatus()

// 停止所有订阅
closeNsqConnection()
nsq::getSubscriptionStatus()</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title19" id="53-例3-停止所有订阅后重新接收上海市场-orders-数据"><h3 class="- topic/title title topictitle3" id="ariaid-title19">5.3 例3-停止所有订阅后，重新接收上海市场 orders 数据</h3><div class="- topic/body body"></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title20" id="保留之前持久化的数据"><h4 class="- topic/title title topictitle4" id="ariaid-title20">保留之前持久化的数据</h4><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 加载插件
try{ loadPlugin("nsq") } catch(ex) { print(ex) }
go
// 调用模块
use DolphinDBModules::easyNSQ

configFilePath = "&lt;your_path_to&gt;/nsq_sdk_config.ini";

// 数据接收选项（非必填）
nsq_data_option = dict(STRING, ANY)
nsq_data_option["receivedTime"]=true  // 在行情数据中增加一列接收时间
nsq_data_option["getAllFieldNames"]=true // 接受 nsq 原始行情中所有字段

// 初始化流环境并拉起订阅
iniNsqEnv("nsqStockOrdersSHStream")
streamTableNames, dbPath, tableNames = subscribeNsq(configFilePath, "orders", "sh", saveToDfs=true, options=nsq_data_option)

// 检查订阅情况
nsq::getSubscriptionStatus()
existsSubscriptionTopic(,streamTableNames[0],"easyNSQ_saveToDfsTable")
select count(*) from objByName(streamTableNames[0])
select count(*) from loadTable(dbPath, tableNames[0])

// 停止订阅
nsq::unsubscribe("orders", "sh")</code></pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title21" id="不保留之前持久化的数据"><h4 class="- topic/title title topictitle4" id="ariaid-title21">不保留之前持久化的数据</h4><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 加载插件
try{ loadPlugin("nsq") } catch(ex) { print(ex) }
go
// 调用模块
use DolphinDBModules::easyNSQ

configFilePath = "&lt;your_path_to&gt;/nsq_sdk_config.ini";

// 数据接收选项（非必填）
nsq_data_option = dict(STRING, ANY)
nsq_data_option["receivedTime"]=true  // 在行情数据中增加一列接收时间
nsq_data_option["getAllFieldNames"]=true // 接受 nsq 原始行情中所有字段

// 初始化环境并拉起订阅
iniNsqEnv("nsqStockOrdersSHStream")
iniNsqDfs("dfs://nsqStockOrders", "ordersSH")
subscribeNsq(configFilePath, "orders", "sh", saveToDfs=true, options=nsq_data_option)

// 检查订阅情况
nsq::getSubscriptionStatus()
existsSubscriptionTopic(,"nsqStockOrdersSHStream","easyNSQ_saveToDfsTable")
select count(*) from objByName("nsqStockOrdersSHStream")
select count(*) from loadTable("dfs://nsqStockOrders", "ordersSH")

// 停止订阅
nsq::unsubscribe("orders", "sh")</code></pre></div></article></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title22" id="54-例4-接收上海和深圳市场所有类型的实时行情数据并持久化存储"><h3 class="- topic/title title topictitle3" id="ariaid-title22">5.4 例4-接收上海和深圳市场所有类型的实时行情数据，并持久化存储</h3><div class="- topic/body body"></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title23" id="合并处理上海和深圳市场数据"><h4 class="- topic/title title topictitle4" id="ariaid-title23">合并处理上海和深圳市场数据</h4><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 加载插件
try{ loadPlugin("nsq") } catch(ex) { print(ex) }
go
// 调用模块
use DolphinDBModules::easyNSQ

configFilePath = "&lt;your_path_to&gt;/nsq_sdk_config.ini";
// nsq 账号（非必填）
nsq_username = "&lt;your_nsq_username&gt;";
nsq_password = "&lt;your_nsq_password&gt;";

// 数据接收选项（非必填）
nsq_data_option = dict(STRING, ANY)
nsq_data_option["receivedTime"]=true  // 在行情数据中增加一列接收时间
nsq_data_option["getAllFieldNames"]=true // 接受 nsq 原始行情中所有字段

// 初始化环境并拉起订阅
iniNsqEnv()
iniNsqDfs()
subscribeNsq(configFilePath, "orders", ["sh","sz"], merge=true, saveToDfs=true, options=nsq_data_option, username=nsq_username, password=nsq_password)
subscribeNsq(configFilePath, "trade", ["sh","sz"], merge=true, saveToDfs=true, options=nsq_data_option, username=nsq_username, password=nsq_password)
subscribeNsq(configFilePath, "snapshot", ["sh","sz"], merge=true, saveToDfs=true, options=nsq_data_option, username=nsq_username, password=nsq_password)

// 检查订阅情况
nsq::getSubscriptionStatus()
existsSubscriptionTopic(,"nsqStockOrdersStream","easyNSQ_saveToDfsTable")
existsSubscriptionTopic(,"nsqStockTradeStream","easyNSQ_saveToDfsTable")
existsSubscriptionTopic(,"nsqStockSnapshotStream","easyNSQ_saveToDfsTable")

// 停止订阅
closeNsqConnection()</code></pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title24" id="分开处理上海和深圳市场数据用户自定义流表和分区表名字"><h4 class="- topic/title title topictitle4" id="ariaid-title24">分开处理上海和深圳市场数据（用户自定义流表和分区表名字）</h4><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 加载插件
try{ loadPlugin("nsq") } catch(ex) { print(ex) }
go
// 调用模块
use DolphinDBModules::easyNSQ

configFilePath = "&lt;your_path_to&gt;/nsq_sdk_config.ini";
// nsq 账号（非必填）
nsq_username = "&lt;your_nsq_username&gt;";
nsq_password = "&lt;your_nsq_password&gt;";

// 数据接收选项（非必填）
nsq_data_option = dict(STRING, ANY)
nsq_data_option["receivedTime"]=true  // 在行情数据中增加一列接收时间
nsq_data_option["getAllFieldNames"]=true // 接受 nsq 原始行情中所有字段

// 初始化环境并拉起订阅
iniNsqEnv(["myNsqOrdersSHStream", "myNsqOrdersSZStream", "myNsqTradeSHStream", "myNsqTradeSZStream","myNsqSnapshotSHStream", "myNsqSnapshotSZStream"])
iniNsqDfs("dfs://myNsqOrders", `myNsqOrdersSH`myNsqOrdersSZ)
iniNsqDfs("dfs://myNsqTrade", `myNsqTradeSH`myNsqTradeSZ)
iniNsqDfs("dfs://myNsqSnapshot", `myNsqSnapshotSH`myNsqSnapshotSZ)
subscribeNsq(configFilePath, "orders", ["sh","sz"], saveToDfs=true, streamTableNames=["myNsqOrdersSHStream", "myNsqOrdersSZStream"], dbPath="dfs://myNsqOrders", tableNames=["myNsqOrdersSH", "myNsqOrdersSZ"], options=nsq_data_option, username=nsq_username, password=nsq_password)
subscribeNsq(configFilePath, "trade", ["sh","sz"], saveToDfs=true, streamTableNames=["myNsqTradeSHStream", "myNsqTradeSZStream"], dbPath="dfs://myNsqTrade", tableNames=["myNsqTradeSH", "myNsqTradeSZ"], options=nsq_data_option, username=nsq_username, password=nsq_password)
subscribeNsq(configFilePath, "snapshot", ["sh","sz"], saveToDfs=true, streamTableNames=["myNsqSnapshotSHStream", "myNsqSnapshotSZStream"], dbPath="dfs://myNsqSnapshot", tableNames=["myNsqSnapshotSH", "myNsqSnapshotSZ"], options=nsq_data_option, username=nsq_username, password=nsq_password)

// 检查订阅情况
nsq::getSubscriptionStatus()
select * from getStreamingStat().subWorkers where topic like "%easyNSQ_saveToDfsTable%"

// 停止订阅
closeNsqConnection()</code></pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title25" id="关闭-nsq-连接和清理以上例子运行时创建的流表和分区表"><h4 class="- topic/title title topictitle4" id="ariaid-title25">关闭 NSQ 连接和清理以上例子运行时创建的流表和分区表</h4><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 停止订阅和关闭 nsq 连接
closeNsqConnection()

// 清理流表和分区表
iniNsqEnv()
iniNsqDfs()
iniNsqEnv(["myNsqOrdersSHStream", "myNsqOrdersSZStream", "myNsqTradeSHStream", "myNsqTradeSZStream","myNsqSnapshotSHStream", "myNsqSnapshotSZStream"])
iniNsqDfs("dfs://myNsqOrders", `myNsqOrdersSH`myNsqOrdersSZ)
iniNsqDfs("dfs://myNsqTrade", `myNsqTradeSH`myNsqTradeSZ)
iniNsqDfs("dfs://myNsqSnapshot", `myNsqSnapshotSH`myNsqSnapshotSZ)</code></pre></div></article></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title26" id="6-设置节点启动时自动订阅-nsq-行情数据"><h2 class="- topic/title title topictitle2" id="ariaid-title26">6. 设置节点启动时自动订阅 NSQ 行情数据</h2><div class="- topic/body body"><p class="- topic/p p">由于 DolphinDB 流数据表和流表的订阅只存在于内存中，在节点关闭后，先前创建的 DolphinDB 流数据表及其订阅会消失。所以每次节点启动时，都需要重新创建流数据表和发起订阅。如果每次重新启动后都要求用户进行手动操作，在使用上无疑是不便的。考虑到这一点，DolphinDB 实现了启动时自动执行用户指定脚本的功能。</p><p class="- topic/p p">DolphinDB 系统启动流程如下图所示：</p><p class="- topic/p p">图 6-1 DolphinDB 系统启动流程</p><br/><img class="- topic/image image" src="images/6.1.png" alt="图 6-1 DolphinDB 系统启动流程"/><br/><ul class="- topic/ul ul"><li class="- topic/li li">用户启动脚本（<em class="+ topic/ph hi-d/i ph i">startup.dos</em>）</li></ul><p class="- topic/p p">用户启动脚本是通过配置参数 <em class="+ topic/ph hi-d/i ph i">startup</em> 后才会执行，单机 single 模式在 <em class="+ topic/ph hi-d/i ph i">dolphindb.cfg</em> 中配置，集群模式在 <em class="+ topic/ph hi-d/i ph i">cluster.cfg</em> 中配置，可配置绝对路径或相对路径。若配置了相对路径或者没有指定目录，系统会依次搜索本地节点的 <em class="+ topic/ph hi-d/i ph i">home</em> 目录、工作目录和可执行文件所在目录。</p><p class="- topic/p p">以 Linux 单节点为例，在 <em class="+ topic/ph hi-d/i ph i">dolphindb.cfg</em> 添加如下的配置项：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>startup=/DolphinDB/server/startup.dos</code></pre><p class="- topic/p p">然后在 <em class="+ topic/ph hi-d/i ph i">/DolphinDB/server/</em> 路径下创建 <em class="+ topic/ph hi-d/i ph i">startup.dos</em> 脚本文件即可完成配置。之后每次节点启动时，都会自动执行 <em class="+ topic/ph hi-d/i ph i">/DolphinDB/server/startup.dos</em> 脚本文件中的代码。</p><p class="- topic/p p">假设用户希望接收上海和深证两个市场的 NSQ 行情数据、持久化存储，并对沪深行情数据做分开存储。用户的 <em class="+ topic/ph hi-d/i ph i">startup.dos</em> 应当如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 登录数据库
login(`admin, `123456)
go
// 加载插件
try{ loadPlugin("nsq") } catch(ex) { print(ex) }
go
// 调用模块
use DolphinDBModules::easyNSQ
go

configFilePath = "&lt;your_path_to&gt;/nsq_sdk_config.ini";

// 初始化环境(不删除分区表)
iniNsqEnv()

// 拉起订阅
subscribeNsq(configFilePath, "orders", ["sh","sz"], saveToDfs=true)
subscribeNsq(configFilePath, "trade", ["sh","sz"], saveToDfs=true)
subscribeNsq(configFilePath, "snapshot", ["sh","sz"], saveToDfs=true)</code></pre></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title27" id="7-行情数据表结构"><h2 class="- topic/title title topictitle2" id="ariaid-title27">7. 行情数据表结构</h2><div class="- topic/body body"><p class="- topic/p p">目前 NSQ 插件对上海和深圳市场的行情数据表结构做了统一处理，具体表结构如下：</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title28" id="71-逐笔委托orders"><h3 class="- topic/title title topictitle3" id="ariaid-title28">7.1 逐笔委托（orders）</h3><div class="- topic/body body"><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="71-逐笔委托orders__entry__1">name</th><th class="- topic/entry entry colsep-0 rowsep-0" id="71-逐笔委托orders__entry__2">type</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">ExchangeID</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">SYMBOL</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">InstrumentID</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">SYMBOL</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">TransFlag</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">SeqNo</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">ChannelNo</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">TradeDate</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">DATE</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">TransactTime</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">TIME</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">OrdPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">OrdVolume</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">OrdSide</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">CHAR</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">OrdType</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">CHAR</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">OrdNo</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__1">BizIndex</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__2">LONG</td></tr></tbody></table></div><ul class="- topic/ul ul"><li class="- topic/li li">开启 <strong class="+ topic/ph hi-d/b ph b">receivedTime</strong> 订阅选项，会在行情表中增加时间戳字段，表示插件接收消息的时刻。</li></ul><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="71-逐笔委托orders__entry__29">name</th><th class="- topic/entry entry colsep-0 rowsep-0" id="71-逐笔委托orders__entry__30">type</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__29">receivedTime</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="71-逐笔委托orders__entry__30">NANOTIMESTAMP</td></tr></tbody></table></div></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title29" id="72-逐笔成交trade"><h3 class="- topic/title title topictitle3" id="ariaid-title29">7.2 逐笔成交（trade）</h3><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li">默认模式</li></ul><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="72-逐笔成交trade__entry__1">name</th><th class="- topic/entry entry colsep-0 rowsep-0" id="72-逐笔成交trade__entry__2">type</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">ExchangeID</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">SYMBOL</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">InstrumentID</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">SYMBOL</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">TransFlag</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">SeqNo</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">ChannelNo</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">TradeDate</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">DATE</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">TransactTime</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">TIME</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">TrdPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">TrdVolume</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">TrdMoney</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">TrdBuyNo</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">TrdSellNo</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">TrdBSFlag</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">CHAR</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__1">BizIndex</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__2">LONG</td></tr></tbody></table></div><ul class="- topic/ul ul"><li class="- topic/li li">开启 <strong class="+ topic/ph hi-d/b ph b">receivedTime</strong> 订阅选项，会在行情表中增加时间戳字段，表示插件接收消息的时刻。</li></ul><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="72-逐笔成交trade__entry__31">name</th><th class="- topic/entry entry colsep-0 rowsep-0" id="72-逐笔成交trade__entry__32">type</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__31">receivedTime</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="72-逐笔成交trade__entry__32">NANOTIMESTAMP</td></tr></tbody></table></div></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title30" id="73-l2-快照snapshot"><h3 class="- topic/title title topictitle3" id="ariaid-title30">7.3 L2 快照（snapshot）</h3><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li">默认模式</li></ul><div class="table-container"><table class="- topic/table table" data-cols="6"><caption></caption><colgroup><col/><col/><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="73-l2-快照snapshot__entry__1">name</th><th class="- topic/entry entry colsep-0 rowsep-0" id="73-l2-快照snapshot__entry__2">type</th><th class="- topic/entry entry colsep-0 rowsep-0" id="73-l2-快照snapshot__entry__3">name</th><th class="- topic/entry entry colsep-0 rowsep-0" id="73-l2-快照snapshot__entry__4">type</th><th class="- topic/entry entry colsep-0 rowsep-0" id="73-l2-快照snapshot__entry__5">name</th><th class="- topic/entry entry colsep-0 rowsep-0" id="73-l2-快照snapshot__entry__6">type</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">ExchangeID</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">SYMBOL</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">BidVolume0-9</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">EtfSellBalance</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">InstrumentID</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">SYMBOL</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">AskVolume0-9</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">TotalWarrantExecVolume</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">LastPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">TradesNum</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">WarrantLowerPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">PreClosePrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">InstrumentTradeStatus</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">CHAR</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">WarrantUpperPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">OpenPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">TotalBidVolume</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">CancelBuyNum</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">HighPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">TotalAskVolume</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">CancelSellNum</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">LowPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">MaBidPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">CancelBuyVolume</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">ClosePrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">MaAskPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">CancelSellVolume</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">UpperLimitPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">MaBondBidPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">CancelBuyValue</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">LowerLimitPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">MaBondAskPrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">CancelSellValue</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">TradeDate</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DATE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">YieldToMaturity</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">TotalBuyNum</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">UpdateTime</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">TIME</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">IOPV</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">TotalSellNum</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">TradeVolume</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">LONG</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">EtfBuycount</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">INT</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">DurationAfterBuy</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">TradeBalance</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">EtfSellCount</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">INT</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">DurationAfterSell</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">AveragePrice</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">EtfBuyVolume</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">BidOrdersNum</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">BidPrice0-9</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">EtfBuyBalance</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">AskOrdersNum</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__1">AskPrice0-9</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__3">EtfSellVolume</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__5">PreIOPV</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__6">DOUBLE</td></tr></tbody></table></div><ul class="- topic/ul ul"><li class="- topic/li li">开启 <strong class="+ topic/ph hi-d/b ph b">getAllFieldNames</strong> 订阅选项，会在行情表中增加最优报价的50档委托等信息，如下所示。</li></ul><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="73-l2-快照snapshot__entry__109">name</th><th class="- topic/entry entry colsep-0 rowsep-0" id="73-l2-快照snapshot__entry__110">type</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__109">Bid1Count</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__110">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__109">MaxBid1Count</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__110">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__109">Ask1Count</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__110">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__109">MaxAsk1Count</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__110">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__109">Bid1Qty0-49</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__110">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__109">Ask1Qty0-49</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__110">LONG</td></tr></tbody></table></div><ul class="- topic/ul ul"><li class="- topic/li li">开启 <strong class="+ topic/ph hi-d/b ph b">receivedTime</strong> 订阅选项，会在行情表中增加时间戳字段，表示插件接收消息的时刻。</li></ul><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="73-l2-快照snapshot__entry__123">name</th><th class="- topic/entry entry colsep-0 rowsep-0" id="73-l2-快照snapshot__entry__124">type</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__123">receivedTime</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="73-l2-快照snapshot__entry__124">NANOTIMESTAMP</td></tr></tbody></table></div></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title31" id="8-附件"><h2 class="- topic/title title topictitle2" id="ariaid-title31">8. 附件</h2><div class="- topic/body body"><p class="- topic/p p">模块文件： <a class="- topic/xref xref" href="script/easyNSQ.dos">easyNSQ.dos</a></p><p class="- topic/p p">startup脚本： <a class="- topic/xref xref" href="script/startup.dos">startup.dos</a></p><p class="- topic/p p">使用示例：<a class="- topic/xref xref" href="script/example.txt">example.txt</a></p></div></article></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div id="wh_topic_toc_content">
		                        
	                            <div class=" wh_topic_toc "><div class="wh_topic_label">在本页上</div><ul><li class="topic-item"><a href="#1-%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E" data-tocid="1-安装说明">1. 安装说明</a><ul><li class="topic-item"><a href="#11-%E5%AE%89%E8%A3%85-nsq-%E6%8F%92%E4%BB%B6" data-tocid="11-安装-nsq-插件">1.1 安装 NSQ 插件</a></li><li class="topic-item"><a href="#12-%E5%8A%A0%E8%BD%BD-nsq-%E6%8F%92%E4%BB%B6" data-tocid="12-加载-nsq-插件">1.2 加载 NSQ 插件</a></li><li class="topic-item"><a href="#13-%E5%AE%89%E8%A3%85-easynsq-%E6%A8%A1%E5%9D%97" data-tocid="13-安装-easynsq-模块">1.3 安装 easyNSQ 模块</a></li></ul></li><li class="topic-item"><a href="#2-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B" data-tocid="2-使用示例">2. 使用示例</a></li><li class="topic-item"><a href="#3-%E5%AE%9E%E6%97%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E8%AF%B4%E6%98%8E" data-tocid="3-实时行情数据存储说明">3. 实时行情数据存储说明</a><ul><li class="topic-item"><a href="#31-%E6%8E%A5%E6%94%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%88%B0%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8" data-tocid="31-接收行情数据到流数据表">3.1 接收行情数据到流数据表</a></li><li class="topic-item"><a href="#32-%E6%8E%A5%E6%94%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%88%B0%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%B9%B6%E6%8C%81%E4%B9%85%E5%8C%96%E5%88%B0%E5%88%86%E5%8C%BA%E8%A1%A8" data-tocid="32-接收行情数据到流数据表并持久化到分区表">3.2 接收行情数据到流数据表，并持久化到分区表</a></li><li class="topic-item"><a href="#33-%E5%90%88%E5%B9%B6%E5%AD%98%E5%82%A8%E4%B8%8A%E6%B5%B7%E5%92%8C%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE" data-tocid="33-合并存储上海和深圳市场行情数据">3.3 合并存储上海和深圳市场行情数据</a></li></ul></li><li class="topic-item"><a href="#4-easynsq-%E6%A8%A1%E5%9D%97%E6%8E%A5%E5%8F%A3%E4%BB%8B%E7%BB%8D" data-tocid="4-easynsq-模块接口介绍">4. easyNSQ 模块接口介绍</a><ul><li class="topic-item"><a href="#41-subscribensq" data-tocid="41-subscribensq">4.1 subscribeNsq</a></li><li class="topic-item"><a href="#42-closensqconnection" data-tocid="42-closensqconnection">4.2 closeNsqConnection</a></li><li class="topic-item"><a href="#43-ininsqenv" data-tocid="43-ininsqenv">4.3 iniNsqEnv</a></li><li class="topic-item"><a href="#44-ininsqdfs" data-tocid="44-ininsqdfs">4.4 iniNsqDfs</a></li></ul></li><li class="topic-item"><a href="#5-easynsq-%E6%A8%A1%E5%9D%97%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B" data-tocid="5-easynsq-模块使用示例">5. easyNSQ 模块使用示例</a><ul><li class="topic-item"><a href="#51-%E4%BE%8B1-%E6%8E%A5%E6%94%B6%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA-snapshot-%E5%AE%9E%E6%97%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE" data-tocid="51-例1-接收深圳市场-snapshot-实时行情数据">5.1 例1-接收深圳市场 snapshot 实时行情数据</a></li><li class="topic-item"><a href="#52-%E4%BE%8B2-%E6%8E%A5%E6%94%B6%E4%B8%8A%E6%B5%B7%E5%B8%82%E5%9C%BA%E6%89%80%E6%9C%89%E7%B1%BB%E5%9E%8B%E5%AE%9E%E6%97%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%B9%B6%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8" data-tocid="52-例2-接收上海市场所有类型实时行情数据并持久化存储">5.2 例2-接收上海市场所有类型实时行情数据，并持久化存储</a></li><li class="topic-item"><a href="#53-%E4%BE%8B3-%E5%81%9C%E6%AD%A2%E6%89%80%E6%9C%89%E8%AE%A2%E9%98%85%E5%90%8E%E9%87%8D%E6%96%B0%E6%8E%A5%E6%94%B6%E4%B8%8A%E6%B5%B7%E5%B8%82%E5%9C%BA-orders-%E6%95%B0%E6%8D%AE" data-tocid="53-例3-停止所有订阅后重新接收上海市场-orders-数据">5.3 例3-停止所有订阅后，重新接收上海市场 orders 数据</a><ul><li class="topic-item"><a href="#%E4%BF%9D%E7%95%99%E4%B9%8B%E5%89%8D%E6%8C%81%E4%B9%85%E5%8C%96%E7%9A%84%E6%95%B0%E6%8D%AE" data-tocid="保留之前持久化的数据">保留之前持久化的数据</a></li><li class="topic-item"><a href="#%E4%B8%8D%E4%BF%9D%E7%95%99%E4%B9%8B%E5%89%8D%E6%8C%81%E4%B9%85%E5%8C%96%E7%9A%84%E6%95%B0%E6%8D%AE" data-tocid="不保留之前持久化的数据">不保留之前持久化的数据</a></li></ul></li><li class="topic-item"><a href="#54-%E4%BE%8B4-%E6%8E%A5%E6%94%B6%E4%B8%8A%E6%B5%B7%E5%92%8C%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA%E6%89%80%E6%9C%89%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%AE%9E%E6%97%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%B9%B6%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8" data-tocid="54-例4-接收上海和深圳市场所有类型的实时行情数据并持久化存储">5.4 例4-接收上海和深圳市场所有类型的实时行情数据，并持久化存储</a><ul><li class="topic-item"><a href="#%E5%90%88%E5%B9%B6%E5%A4%84%E7%90%86%E4%B8%8A%E6%B5%B7%E5%92%8C%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA%E6%95%B0%E6%8D%AE" data-tocid="合并处理上海和深圳市场数据">合并处理上海和深圳市场数据</a></li><li class="topic-item"><a href="#%E5%88%86%E5%BC%80%E5%A4%84%E7%90%86%E4%B8%8A%E6%B5%B7%E5%92%8C%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA%E6%95%B0%E6%8D%AE%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B5%81%E8%A1%A8%E5%92%8C%E5%88%86%E5%8C%BA%E8%A1%A8%E5%90%8D%E5%AD%97" data-tocid="分开处理上海和深圳市场数据用户自定义流表和分区表名字">分开处理上海和深圳市场数据（用户自定义流表和分区表名字）</a></li><li class="topic-item"><a href="#%E5%85%B3%E9%97%AD-nsq-%E8%BF%9E%E6%8E%A5%E5%92%8C%E6%B8%85%E7%90%86%E4%BB%A5%E4%B8%8A%E4%BE%8B%E5%AD%90%E8%BF%90%E8%A1%8C%E6%97%B6%E5%88%9B%E5%BB%BA%E7%9A%84%E6%B5%81%E8%A1%A8%E5%92%8C%E5%88%86%E5%8C%BA%E8%A1%A8" data-tocid="关闭-nsq-连接和清理以上例子运行时创建的流表和分区表">关闭 NSQ 连接和清理以上例子运行时创建的流表和分区表</a></li></ul></li></ul></li><li class="topic-item"><a href="#6-%E8%AE%BE%E7%BD%AE%E8%8A%82%E7%82%B9%E5%90%AF%E5%8A%A8%E6%97%B6%E8%87%AA%E5%8A%A8%E8%AE%A2%E9%98%85-nsq-%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE" data-tocid="6-设置节点启动时自动订阅-nsq-行情数据">6. 设置节点启动时自动订阅 NSQ 行情数据</a></li><li class="topic-item"><a href="#7-%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%BB%93%E6%9E%84" data-tocid="7-行情数据表结构">7. 行情数据表结构</a><ul><li class="topic-item"><a href="#71-%E9%80%90%E7%AC%94%E5%A7%94%E6%89%98orders" data-tocid="71-逐笔委托orders">7.1 逐笔委托（orders）</a></li><li class="topic-item"><a href="#72-%E9%80%90%E7%AC%94%E6%88%90%E4%BA%A4trade" data-tocid="72-逐笔成交trade">7.2 逐笔成交（trade）</a></li><li class="topic-item"><a href="#73-l2-%E5%BF%AB%E7%85%A7snapshot" data-tocid="73-l2-快照snapshot">7.3 L2 快照（snapshot）</a></li></ul></li><li class="topic-item"><a href="#8-%E9%99%84%E4%BB%B6" data-tocid="8-附件">8. 附件</a></li></ul></div>
	                        	
                        	</div>
                        </nav>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
<title>Copyright</title><p><b> ©2025 浙江智臾科技有限公司 浙ICP备18048711号-3</b></p>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>