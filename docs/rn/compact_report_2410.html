<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" data-whc_version="26.0">
    <head><link rel="shortcut icon" href="../favicon.ico"/><link rel="icon" href="../favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="使用 append! 追加元组数据的行为发生变化。新版本中建议使用新增函数 memberModify! 来修改元组数据。 在之前版本中， append! 可以向元组追加数据，并会改变元组成员的数据。 在当前版本中，不支持使用 append! 向元组追加数据。 //创建一个元组 tp a = [1, 2, 3, 4] b = [6, 7, 8] tp = [a, b] tp //output: ..."/><meta name="DC.rights.owner" content="(C) 版权 2025"/><meta name="copyright" content="(C) 版权 2025"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="topic"/><meta name="DC.coverage" content=""/><meta name="prodname" content="DolphinDB"/><meta name="brand" content="DolphinDB"/><meta name="DC.creator" content="DolphinDB"/><meta name="DC.publisher" content="DDB N/A DDB 200"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="compat_report_3002"/><title>3.00.2</title><!--  Generated with Oxygen version 26.0, build number 2024012323.  --><meta name="wh-path2root" content="../"/><meta name="wh-toc-id" content="compat_report_3002-d9713e107119"/><meta name="wh-source-relpath" content="rn/compact_report_2410.dita"/><meta name="wh-out-relpath" content="rn/compact_report_2410.html"/>

    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/commons.css?buildId=2024012323"/>
    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic.css?buildId=2024012323"/>

    <script src="../oxygen-webhelp/app/options/properties.js?buildId=20250305183303"></script>
    <script src="../oxygen-webhelp/app/localization/strings.js?buildId=2024012323"></script>
    <script src="../oxygen-webhelp/app/search/index/keywords.js?buildId=20250305183303"></script>
    <script defer="defer" src="../oxygen-webhelp/app/commons.js?buildId=2024012323"></script>
    <script defer="defer" src="../oxygen-webhelp/app/topic.js?buildId=2024012323"></script>
<link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/styles.css?buildId=2024012323"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script></head>

    <body id="compat_report_3002" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            跳转到主要内容
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div xmlns:whc="http://www.oxygenxml.com/webhelp/components" class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="https://docs.dolphindb.cn/zh/index.html" class=" wh_logo d-none d-sm-block "><img src="../logo.png" alt="  DolphinDB 文档中心  "/></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="booktitle">  <span class="ph mainbooktitle">DolphinDB 文档中心</span>  </span></a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="搜索 " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="搜索查询" required="required"/><button type="submit" class="wh_search_button" aria-label="搜索"><span class="search_input_text">搜索</span></button></div></form>
            
            <script src="/vendors/react/umd/react.production.min.js" defer="defer"></script>
<script src="/vendors/react-dom/umd/react-dom.production.min.js" defer="defer"></script>
<script src="/vendors/dayjs/dayjs.min.js" defer="defer"></script>
<script src="/vendors/antd/dist/antd.min.js" defer="defer"></script>
<script src="/vendors/@ant-design/icons/dist/index.umd.min.js" defer="defer"></script>
<script src="/zh/index.js" type="module"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" defer="defer"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer="defer"><!--


--></script>
<script defer="defer"><!--

// 从主页重定向
const currentUrl = window.location.href;

// 判断当前URL是否包含index.html并且路径最后部分是index.html
if (currentUrl.endsWith('index.html')) {
    // 处理根目录下的index.html跳转
    const baseUrl = currentUrl.split('/index.html')[0]; // 获取index.html之前的部分
    const redirectUrl = `${baseUrl}/about/ddb_intro.html`; // 构建跳转路径
    window.location.href = redirectUrl; // 执行跳转
}

--></script>
            
        </div></div>
    </div>
</header>
        
        
         
        
        
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="../index.html"><span>主页</span></a></span></li><li><div class="topicref"><div class="title"><a href="../rn/server/3_00_2.html">版本说明</a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 版本发布历史</p></div></div></div></li><li><div class="topicref"><div class="title"><a href="../rn/compact_report_2410.html">版本兼容性列表</a></div></div></li><li class="active"><div class="topicref" data-id="compat_report_3002"><div class="title"><a href="../rn/compact_report_2410.html"><span class="ph">3.00.2</span></a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="切换搜索突出显示" title="切换搜索突出显示"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="折叠截面" title="折叠截面"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="打印此页" aria-label="打印此页"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem"><div data-tocid="ddb_intro-d9713e87" class="topicref" data-id="ddb_intro" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../about/ddb_intro.html" id="ddb_intro-d9713e87-link">关于DolphinDB</a></div></div></li><li role="treeitem"><div data-tocid="chap1_getstarted-d9713e136" class="topicref" data-id="chap1_getstarted" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../getstarted/chap1_getstarted.html" id="chap1_getstarted-d9713e136-link">快速上手</a><div class="wh-tooltip"><p class="shortdesc">如何快速部署 DolphinDB、建库建表、写入和查询数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="sectionddb_deployment-d9713e189" class="topicref" data-id="sectionddb_deployment" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action sectionddb_deployment-d9713e189-link" class="wh-expand-btn"></span><div class="title"><a href="../deploy/deploy_intro.html" id="sectionddb_deployment-d9713e189-link"><span class="keyword label">部署</span></a><div class="wh-tooltip"><p class="shortdesc">如何在不同的场景中部署 DolphinDB</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259" class="topicref" data-id="new_chap_database_manage_new_chap_dbmanage_landing_page" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link" class="wh-expand-btn"></span><div class="title"><a href="../db_distr_comp/cfg/db_intro.html" id="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link"><span class="keyword label">数据库</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 数据库的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_streaming-d9713e3760" class="topicref" data-id="chap7_tutorials_streaming" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_streaming-d9713e3760-link" class="wh-expand-btn"></span><div class="title"><a href="../stream/str_intro.html" id="chap7_tutorials_streaming-d9713e3760-link"><span class="keyword label">流数据</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 流数据引擎及流数据计算的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e7513" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e7513-link" class="wh-expand-btn"></span><div class="title"><a href="../db_distr_comp/db_oper/import_data.html" id="tocId-d9713e7513-link">数据迁移</a><div class="wh-tooltip"><p class="shortdesc">如何从不同数据源向 DolphinDB 迁移数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_system_management-d9713e7940" class="topicref" data-id="chap7_tutorials_system_management" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_system_management-d9713e7940-link" class="wh-expand-btn"></span><div class="title"><a href="../sys_man/om_intro.html" id="chap7_tutorials_system_management-d9713e7940-link"><span class="keyword label">系统运维</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 的系统运维功能及方法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="troubleshooting-d9713e8780" class="topicref" data-id="troubleshooting" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action troubleshooting-d9713e8780-link" class="wh-expand-btn"></span><div class="title"><a href="../error_codes/troubleshooting.html" id="troubleshooting-d9713e8780-link">故障排查</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="about_language_resources-d9713e20911" class="topicref" data-id="about_language_resources" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_language_resources-d9713e20911-link" class="wh-expand-btn"></span><div class="title"><a href="../progr/progr_intro.html" id="about_language_resources-d9713e20911-link"><span class="keyword label">编程语言</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 编程基本概念与方法、SQL 在 DolphinDB 的应用</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="functions_references-d9713e30925" class="topicref" data-id="functions_references" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action functions_references-d9713e30925-link" class="wh-expand-btn"></span><div class="title"><a href="../funcs/funcs_intro.html" id="functions_references-d9713e30925-link"><span class="keyword label">函数参考</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 函数分类、语法、详解及示例</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="api_protocol-d9713e94064" class="topicref" data-id="api_protocol" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action api_protocol-d9713e94064-link" class="wh-expand-btn"></span><div class="title"><a href="../api/connapi_intro.html" id="api_protocol-d9713e94064-link"><span class="keyword label">连接器 &amp; API</span></a><div class="wh-tooltip"><p class="shortdesc">面向不同编程语言的 DolphinDB API 及连接器，相关协议和用法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap6_plugin-d9713e94210" class="topicref" data-id="chap6_plugin" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap6_plugin-d9713e94210-link" class="wh-expand-btn"></span><div class="title"><a href="../plugins/plg_intro.html" id="chap6_plugin-d9713e94210-link"><span class="keyword label">插件</span></a><div class="wh-tooltip"><p class="shortdesc">多个应用场景的插件使用说明和插件开发指导</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="third_party-d9713e97904" class="topicref" data-id="third_party" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action third_party-d9713e97904-link" class="wh-expand-btn"></span><div class="title"><a href="../third_party.html" id="third_party-d9713e97904-link">第三方工具</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="about_tutorials-d9713e98227" class="topicref" data-id="about_tutorials" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_tutorials-d9713e98227-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/about_tutorials.html" id="about_tutorials-d9713e98227-link"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="tocId-d9713e105982" class="topicref" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action tocId-d9713e105982-link" class="wh-expand-btn"></span><div class="title"><a href="../rn/server/3_00_2.html" id="tocId-d9713e105982-link">版本说明</a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 版本发布历史</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e106047" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e106047-link" class="wh-expand-btn"></span><div class="title"><a href="../rn/server/3_00_2.html" id="tocId-d9713e106047-link">Server</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="api-d9713e106186" class="topicref" data-id="api" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action api-d9713e106186-link" class="wh-expand-btn"></span><div class="title"><a href="../rn/server/api.html" id="api-d9713e106186-link">API 和连接器</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e106288" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e106288-link" class="wh-expand-btn"></span><div class="title"><a href="../rn/plugin/3_00_2.html" id="tocId-d9713e106288-link">插件</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e106473" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e106473-link" class="wh-expand-btn"></span><div class="title"><a href="../rn/rn_web.html" id="tocId-d9713e106473-link">客户端</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="third_party_rn-d9713e106612" class="topicref" data-id="third_party_rn" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action third_party_rn-d9713e106612-link" class="wh-expand-btn"></span><div class="title"><a href="../rn/server/third_party_rn.html" id="third_party_rn-d9713e106612-link">第三方工具</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="compatibility_def-d9713e106796" class="topicref" data-id="compatibility_def" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action compatibility_def-d9713e106796-link" class="wh-expand-btn"></span><div class="title"><a href="../rn/compat_def.html" id="compatibility_def-d9713e106796-link">版本兼容性说明</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="tocId-d9713e107118" class="topicref" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action tocId-d9713e107118-link" class="wh-expand-btn"></span><div class="title"><a href="../rn/compact_report_2410.html" id="tocId-d9713e107118-link">版本兼容性列表</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" class="active"><div data-tocid="compat_report_3002-d9713e107119" class="topicref" data-id="compat_report_3002" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../rn/compact_report_2410.html" id="compat_report_3002-d9713e107119-link"><span class="ph">3.00.2</span></a></div></div></li><li role="treeitem"><div data-tocid="_3_00_1-d9713e107166" class="topicref" data-id="_3_00_1" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../rn/compat_report_3001.html" id="_3_00_1-d9713e107166-link">3.00.1</a></div></div></li><li role="treeitem"><div data-tocid="compat_report_3000-d9713e107212" class="topicref" data-id="compat_report_3000" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../rn/compat_report_3000.html" id="compat_report_3000-d9713e107212-link">3.00.0</a></div></div></li></ul></li></ul></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-9 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        
                        <div class=" wh_topic_content body "><main role="main"><article class="- topic/topic topic" role="article" aria-labelledby="ariaid-title1">
    <h1 class="- topic/title title topictitle1" id="ariaid-title1"><span class="- topic/ph ph">3.00.2</span></h1>
    <article class="- topic/topic topic nested1" aria-labelledby="ariaid-title2" id="topic_qq2_pvl_cdc">
        <h2 class="- topic/title title topictitle2" id="ariaid-title2">缺陷修复带来的系统影响</h2>
        <div class="- topic/body body">
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_mnv_qvl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_mnv_qvl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p">使用 <code class="+ topic/ph pr-d/codeph ph codeph">append!</code>追加元组数据的行为发生变化。新版本中建议使用新增函数
                            <code class="+ topic/ph pr-d/codeph ph codeph">memberModify!</code> 来修改元组数据。</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_nnv_qvl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_nnv_qvl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，<code class="+ topic/ph pr-d/codeph ph codeph">append!</code>可以向元组追加数据，并会改变元组成员的数据。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，不支持使用 <code class="+ topic/ph pr-d/codeph ph codeph">append!</code> 向元组追加数据。</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_onv_qvl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_onv_qvl_cdc"><code>//创建一个元组 tp
a = [1, 2, 3, 4]
b = [6, 7, 8]
tp = [a, b]
tp
//output: [[1, 2, 3, 4], [6, 7, 8]]

//修改元组数据
tp[0].append!(5)
tp
//老版本：[[1, 2, 3, 4, 5], [6, 7, 8]]，修改成功
//新版本：[[1, 2, 3, 4], [6, 7, 8]]，修改失败
a
//老版本：[1, 2, 3, 4, 5]，a的值也被修改
//新版本：[1, 2, 3, 4]，a的值不变

//新版本中建议使用 memberModify! 修改元组数据
//修改第一个元组元素的数据
memberModify!(tp, append!, 0, 5)
tp
//output: [[1, 2, 3, 4, 5], [6, 7, 8]]
//继续修改第二个元组元素的数据
memberModify!(tp, append!, 1, 9)
tp
//output: [[1, 2, 3, 4, 5], [6, 7, 8, 9]]</code></pre>
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_uvm_svl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_uvm_svl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">dropPartition</code> 函数的 <em class="+ topic/ph hi-d/i ph i">partitionPaths</em> 参数为空时：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_vvm_svl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_vvm_svl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，删除整表。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，报错：Please use truncate instead of dropPartition to delete the
                                entire table.</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_wvm_svl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_wvm_svl_cdc"><code>//建库建表
n = 1000000;
t = table(2020.01.01T00:00:00 + 0..(n-1) as timestamp, rand(`IBM`MS`APPL`AMZN,n) as symbol, rand(10.0, n) as value)
db = database("dfs://rangedb_tradedata", RANGE, `A`F`M`S`ZZZZ)
Trades = db.createPartitionedTable(table=t, tableName="Trades", partitionColumns="symbol", compressMethods={timestamp:"delta"});
Trades.append!(t)
t1 = loadTable(db, "Trades")
select count(*) from t1
//返回为100万


//删除库中指定分区数据，不传入partitionPaths参数
dropPartition(db, , tableName="t")
//老版本：报错，None of the specified partitions exist. RefId: S01056'
//新版本：报错，Please use truncate instead of dropPartition to delete the entire table.

//查看表 Trades 数据量
select count(*) from t1
//老版本：返回为0，整表被删除
//新版本：返回为100万，表无删减</code></pre>
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_mxt_tvl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_mxt_tvl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">unsubscribeTable</code> 函数增加订阅不存在情况下的检查：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_nxt_tvl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_nxt_tvl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，执行不报错。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，将根据具体情况报错。</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_oxt_tvl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_oxt_tvl_cdc"><code>//创建输入表并写入模拟数据
n = 1000
sym = take(`IBM,n)
date = take(2012.06.12,n)
time = take(temporalAdd(09:30:12.000,1..500,'s'),n)
volume = rand(100,n)
trades = table(sym, date, time, volume)
trades.sortBy!(`time)
//创建流表
share streamTable(100:0,`sym`date`time`volume,[SYMBOL, DATE, TIME, INT]) as st

unsubscribeTable(,"st1","sub1")
//老版本：正常执行
//新版本：报错，The shared table st1 doesn't exist.</code></pre>
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_oq5_5vl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_oq5_5vl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">poly1d</code> 函数修改函数名和参数名：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_pq5_5vl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_pq5_5vl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，语法为 <code class="+ topic/ph pr-d/codeph ph codeph">poly1d(z,x)</code> 。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，语法为 <code class="+ topic/ph pr-d/codeph ph codeph">polyPredict(model,X)</code>，且
                                    <code class="+ topic/ph pr-d/codeph ph codeph">poly1d(model,X)</code> 将作为别名函数。</p>
                        </li>
                    </ul>
                </li>
                <li class="- topic/li li">
                    <p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">kroghInterpolate</code> 修改参数名：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_qq5_5vl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_qq5_5vl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，语法为 <code class="+ topic/ph pr-d/codeph ph codeph">kroghInterpolate(Xi,Yi,X,[der=0])</code>。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，语法为 <code class="+ topic/ph pr-d/codeph ph codeph">kroghInterpolate(X,Y,newX,[der=0])</code>。</p>
                        </li>
                    </ul>
                </li>
                <li class="- topic/li li">
                    <p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">percentChange</code>在 X 为标量时：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_rq5_5vl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_rq5_5vl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，执行不报错。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，报错 X must be a vector or a matrix.</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_sq5_5vl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_sq5_5vl_cdc"><code>percentChange(1,1)
// 之前版本返回：[NULL]
// 当前版本报错：Usage: move(X, steps). X must be a vector or a matrix.</code></pre>
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_fzw_vvl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_fzw_vvl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">keyedTable</code> 的 <em class="+ topic/ph hi-d/i ph i">keyColumns</em> 多于一列时，若插入的数据中
                            <em class="+ topic/ph hi-d/i ph i">keyColumns</em> 列的数据类型与表字段类型不一致：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_gzw_vvl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_gzw_vvl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，相同组合的 key 不会去重。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，相同组合的 key 会去重。</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_s3w_xvl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_s3w_xvl_cdc"><code>sym = `A`B`C
id = 1 2 3
val = 11 22 33
t=keyedTable(`id`sym,sym,id,val)
insert into t values ("A", 1.0, 55)
t</code></pre>
            <p class="- topic/p p">之前版本结果：</p>
            <div class="table-container"><table class="- topic/table table frame-all" id="topic_qq2_pvl_cdc__table_hzw_vvl_cdc" data-ofbid="topic_qq2_pvl_cdc__table_hzw_vvl_cdc" data-cols="3"><caption></caption><colgroup><col/><col/><col/></colgroup><thead class="- topic/thead thead">
                        <tr class="- topic/row">
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__1">
                                <p class="- topic/p p">sym</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__2">
                                <p class="- topic/p p">id</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-0 rowsep-1" id="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__3">
                                <p class="- topic/p p">val</p>
                            </th>
                        </tr>
                    </thead><tbody class="- topic/tbody tbody">
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__1">A</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__2">1</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__3">11</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__1">B</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__2">2</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__3">22</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__1">C</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__2">3</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__3">33</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__1">A</td>
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__2">1</td>
                            <td class="- topic/entry entry colsep-0 rowsep-0" headers="topic_qq2_pvl_cdc__table_hzw_vvl_cdc__entry__3">55</td>
                        </tr>
                    </tbody></table></div>
            <p class="- topic/p p">当前版本结果：</p>
            <div class="table-container"><table class="- topic/table table frame-all" id="topic_qq2_pvl_cdc__table_lzw_vvl_cdc" data-ofbid="topic_qq2_pvl_cdc__table_lzw_vvl_cdc" data-cols="3"><caption></caption><colgroup><col/><col/><col/></colgroup><thead class="- topic/thead thead">
                        <tr class="- topic/row">
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_lzw_vvl_cdc__entry__1">
                                <p class="- topic/p p">sym</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_lzw_vvl_cdc__entry__2">
                                <p class="- topic/p p">id</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-0 rowsep-1" id="topic_qq2_pvl_cdc__table_lzw_vvl_cdc__entry__3">
                                <p class="- topic/p p">val</p>
                            </th>
                        </tr>
                    </thead><tbody class="- topic/tbody tbody">
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_lzw_vvl_cdc__entry__1">A</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_lzw_vvl_cdc__entry__2">1</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_lzw_vvl_cdc__entry__3">55</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_lzw_vvl_cdc__entry__1">B</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_lzw_vvl_cdc__entry__2">2</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_lzw_vvl_cdc__entry__3">22</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_lzw_vvl_cdc__entry__1">C</td>
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_lzw_vvl_cdc__entry__2">3</td>
                            <td class="- topic/entry entry colsep-0 rowsep-0" headers="topic_qq2_pvl_cdc__table_lzw_vvl_cdc__entry__3">33</td>
                        </tr>
                    </tbody></table></div>
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_axs_1wl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_axs_1wl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">wj</code> 函数的 <em class="+ topic/ph hi-d/i ph i">aggs 中包含</em><code class="+ topic/ph pr-d/codeph ph codeph">sum</code> 嵌套
                            <code class="+ topic/ph pr-d/codeph ph codeph">first</code>、<code class="+ topic/ph pr-d/codeph ph codeph">last</code> 等顺序相关的函数时：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_bxs_1wl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_bxs_1wl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中：sum(first(col)) 取 col 分组中第一个元素参与 sum 计算。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中：sum(first(col)) 取 col 分组中每个窗口的第一个元素参与 sum 计算。</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_cxs_1wl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_cxs_1wl_cdc"><code>t = table(["A","B","A","B","B","A"] as sym,[1,2,3,4,5,6] as id,[8, 2, 3, 6, 6, 4] as val)
wj(t, t, 1:10, &lt;[first(val),sum((first(val))+val)]&gt;,`sym`id)</code></pre>
            <p class="- topic/p p">之前版本结果：</p>
            <div class="table-container"><table class="- topic/table table frame-all" id="topic_qq2_pvl_cdc__table_dxs_1wl_cdc" data-ofbid="topic_qq2_pvl_cdc__table_dxs_1wl_cdc" data-cols="5"><caption></caption><colgroup><col/><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead">
                        <tr class="- topic/row">
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__1">
                                <p class="- topic/p p">sym</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__2">
                                <p class="- topic/p p">id</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__3">
                                <p class="- topic/p p">val</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__4">
                                <p class="- topic/p p">first_val</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-0 rowsep-1" id="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__5">
                                <p class="- topic/p p">sum</p>
                            </th>
                        </tr>
                    </thead><tbody class="- topic/tbody tbody">
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__1">A</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__2">1</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__3">8</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__4">3</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__5">23</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__1">B</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__2">2</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__3">2</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__4">6</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__5">16</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__1">A</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__2">3</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__3">3</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__4">4</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__5">12</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__1">B</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__2">4</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__3">6</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__4">6</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__5">8</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__1">B</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__2">5</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__3">6</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__4"> </td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__5"> </td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__1">A</td>
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__2">6</td>
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__3">4</td>
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__4"> </td>
                            <td class="- topic/entry entry colsep-0 rowsep-0" headers="topic_qq2_pvl_cdc__table_dxs_1wl_cdc__entry__5"> </td>
                        </tr>
                    </tbody></table></div>
            <p class="- topic/p p">第一行数据在计算 sum 时，first(val) 取值为分组 A 中的第一个值 8，窗口中的两条数据分别对应第 3 行（val=3）和第 6 行(val=4)，故
                    <code class="+ topic/ph pr-d/codeph ph codeph">sum=（8+3）+（8+4）= 23</code>。</p>
            <p class="- topic/p p">当前版本结果：</p>
            <div class="table-container"><table class="- topic/table table frame-all" id="topic_qq2_pvl_cdc__table_jxs_1wl_cdc" data-ofbid="topic_qq2_pvl_cdc__table_jxs_1wl_cdc" data-cols="5"><caption></caption><colgroup><col/><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead">
                        <tr class="- topic/row">
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__1">
                                <p class="- topic/p p">sym</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__2">
                                <p class="- topic/p p">id</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__3">
                                <p class="- topic/p p">val</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__4">
                                <p class="- topic/p p">first_val</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-0 rowsep-1" id="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__5">
                                <p class="- topic/p p">sum</p>
                            </th>
                        </tr>
                    </thead><tbody class="- topic/tbody tbody">
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__1">A</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__2">1</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__3">8</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__4">3</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__5">13</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__1">B</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__2">2</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__3">2</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__4">6</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__5">24</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__1">A</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__2">3</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__3">3</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__4">4</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__5">8</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__1">B</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__2">4</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__3">6</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__4">6</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__5">12</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__1">B</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__2">5</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__3">6</td>
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__4"> </td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__5"> </td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__1">A</td>
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__2">6</td>
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__3">4</td>
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__4"> </td>
                            <td class="- topic/entry entry colsep-0 rowsep-0" headers="topic_qq2_pvl_cdc__table_jxs_1wl_cdc__entry__5"> </td>
                        </tr>
                    </tbody></table></div>
            <p class="- topic/p p">第一行数据在计算 sum 时，first(val) 取值为分组 A 中该数据对应窗口的第一个值 3，窗口中的两条数据分别对应第 3 行（val=3）和第 6
                    行(val=4)，故<code class="+ topic/ph pr-d/codeph ph codeph"> sum=（3+3）+（3+4）= 13</code>。</p>
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_pxs_1wl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_pxs_1wl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p">使用 <code class="+ topic/ph pr-d/codeph ph codeph">group by</code> 进行分组时，若聚合函数作用于外部变量，结果发生变化：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_qxs_1wl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_qxs_1wl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，会对该外部变量进行分组计算。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，每个分组的结果相等，都是聚合函数直接计算的结果。</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <p class="- topic/p p">以 <code class="+ topic/ph pr-d/codeph ph codeph">avg</code> 为例</p>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_rxs_1wl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_rxs_1wl_cdc"><code>t = table( [1,2,1,2,3] as id, [1,3,5,7,9] as val)
v = [1,2,3,4,5]
select avg(v) from t group by id</code></pre>
            <p class="- topic/p p">之前版本结果如下，id 为 1 的组对应表 t 的第 1 行和第 3 行，故 avg_v 为 v 的第 1 个与第 3 个元素之平均值；同理 id 为 2 的组对应 v
                的第 2 个 和第 4 个元素之平均值。</p>
            <div class="table-container"><table class="- topic/table table frame-all" id="topic_qq2_pvl_cdc__table_sxs_1wl_cdc" data-ofbid="topic_qq2_pvl_cdc__table_sxs_1wl_cdc" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead">
                        <tr class="- topic/row">
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_sxs_1wl_cdc__entry__1">
                                <p class="- topic/p p">id</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-0 rowsep-1" id="topic_qq2_pvl_cdc__table_sxs_1wl_cdc__entry__2">
                                <p class="- topic/p p">avg_v</p>
                            </th>
                        </tr>
                    </thead><tbody class="- topic/tbody tbody">
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_sxs_1wl_cdc__entry__1">1</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_sxs_1wl_cdc__entry__2">2</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_sxs_1wl_cdc__entry__1">2</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_sxs_1wl_cdc__entry__2">3</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_sxs_1wl_cdc__entry__1">3</td>
                            <td class="- topic/entry entry colsep-0 rowsep-0" headers="topic_qq2_pvl_cdc__table_sxs_1wl_cdc__entry__2">5</td>
                        </tr>
                    </tbody></table></div>
            <p class="- topic/p p">当前版本结果如下，avg(v) 的结果为 3，每个分组对应的 avg_v 均为该值。</p>
            <div class="table-container"><table class="- topic/table table frame-all" id="topic_qq2_pvl_cdc__table_vxs_1wl_cdc" data-ofbid="topic_qq2_pvl_cdc__table_vxs_1wl_cdc" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead">
                        <tr class="- topic/row">
                            <th class="- topic/entry entry align-left colsep-1 rowsep-1" id="topic_qq2_pvl_cdc__table_vxs_1wl_cdc__entry__1">
                                <p class="- topic/p p">id</p>
                            </th>
                            <th class="- topic/entry entry align-left colsep-0 rowsep-1" id="topic_qq2_pvl_cdc__table_vxs_1wl_cdc__entry__2">
                                <p class="- topic/p p">avg_v</p>
                            </th>
                        </tr>
                    </thead><tbody class="- topic/tbody tbody">
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_vxs_1wl_cdc__entry__1">1</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_vxs_1wl_cdc__entry__2">3</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-1" headers="topic_qq2_pvl_cdc__table_vxs_1wl_cdc__entry__1">2</td>
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_vxs_1wl_cdc__entry__2">3</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-1 rowsep-0" headers="topic_qq2_pvl_cdc__table_vxs_1wl_cdc__entry__1">3</td>
                            <td class="- topic/entry entry colsep-0 rowsep-0" headers="topic_qq2_pvl_cdc__table_vxs_1wl_cdc__entry__2">3</td>
                        </tr>
                    </tbody></table></div>
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_p52_3wl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_p52_3wl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p">使用 <code class="+ topic/ph pr-d/codeph ph codeph">context by</code> 分组后计算 <code class="+ topic/ph pr-d/codeph ph codeph">isortTop</code> ，结果变化：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_q52_3wl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_q52_3wl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，<code class="+ topic/ph pr-d/codeph ph codeph">context by</code> 未生效。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，<code class="+ topic/ph pr-d/codeph ph codeph">context by</code> 分组后在组内计算
                                <code class="+ topic/ph pr-d/codeph ph codeph">isortTop</code>。 </p>
                        </li>
                    </ul>
                </li>
            </ul>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_r52_3wl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_r52_3wl_cdc"><code>t = table([1,1,2,2,3,3,4,4,5,5] as id, 1..10 as val)
select isortTop(val,2) from t context by id</code></pre>
            <p class="- topic/p p">之前版本结果：</p>
            <div class="table-container"><table class="- topic/table table frame-all" id="topic_qq2_pvl_cdc__table_s52_3wl_cdc" data-ofbid="topic_qq2_pvl_cdc__table_s52_3wl_cdc" data-cols="1"><caption></caption><colgroup><col/></colgroup><thead class="- topic/thead thead">
                        <tr class="- topic/row">
                            <th class="- topic/entry entry align-left colsep-0 rowsep-1" id="topic_qq2_pvl_cdc__table_s52_3wl_cdc__entry__1">
                                <p class="- topic/p p">isortTop_val</p>
                            </th>
                        </tr>
                    </thead><tbody class="- topic/tbody tbody">
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_s52_3wl_cdc__entry__1">0</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-0" headers="topic_qq2_pvl_cdc__table_s52_3wl_cdc__entry__1">1</td>
                        </tr>
                    </tbody></table></div>
            <p class="- topic/p p">当前版本结果：</p>
            <div class="table-container"><table class="- topic/table table frame-all" id="topic_qq2_pvl_cdc__table_u52_3wl_cdc" data-ofbid="topic_qq2_pvl_cdc__table_u52_3wl_cdc" data-cols="1"><caption></caption><colgroup><col/></colgroup><thead class="- topic/thead thead">
                        <tr class="- topic/row">
                            <th class="- topic/entry entry align-left colsep-0 rowsep-1" id="topic_qq2_pvl_cdc__table_u52_3wl_cdc__entry__1">
                                <p class="- topic/p p">isortTop_val</p>
                            </th>
                        </tr>
                    </thead><tbody class="- topic/tbody tbody">
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_u52_3wl_cdc__entry__1">0</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_u52_3wl_cdc__entry__1">1</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_u52_3wl_cdc__entry__1">0</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_u52_3wl_cdc__entry__1">1</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_u52_3wl_cdc__entry__1">0</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_u52_3wl_cdc__entry__1">1</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_u52_3wl_cdc__entry__1">0</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_u52_3wl_cdc__entry__1">1</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_u52_3wl_cdc__entry__1">0</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-0" headers="topic_qq2_pvl_cdc__table_u52_3wl_cdc__entry__1">1</td>
                        </tr>
                    </tbody></table></div>
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_eq5_kwl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_eq5_kwl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p">分布式查询中，<code class="+ topic/ph pr-d/codeph ph codeph">subarray</code> 行为发生变化：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_fq5_kwl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_fq5_kwl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，在每个分区内分别取 <code class="+ topic/ph pr-d/codeph ph codeph">subarray</code>，再将各分区结果合并组成最终结果。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，将所有数据查询到内存计算一次 <code class="+ topic/ph pr-d/codeph ph codeph">subarray</code>。</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_wwn_mwl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_wwn_mwl_cdc"><code>db = database("dfs://test",VALUE,1..3)
t = table(take(1..3,15) as id,1..15 as val)
pt = db.createPartitionedTable(t,"pt",`id)
pt.append!(t)

select subarray(val,0:3) from pt</code></pre>
            <p class="- topic/p p">之前版本结果：</p>
            <div class="table-container"><table class="- topic/table table frame-all" id="topic_qq2_pvl_cdc__table_gq5_kwl_cdc" data-ofbid="topic_qq2_pvl_cdc__table_gq5_kwl_cdc" data-cols="1"><caption></caption><colgroup><col/></colgroup><thead class="- topic/thead thead">
                        <tr class="- topic/row">
                            <th class="- topic/entry entry align-left colsep-0 rowsep-1" id="topic_qq2_pvl_cdc__table_gq5_kwl_cdc__entry__1">
                                <p class="- topic/p p">result</p>
                            </th>
                        </tr>
                    </thead><tbody class="- topic/tbody tbody">
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_gq5_kwl_cdc__entry__1">1</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_gq5_kwl_cdc__entry__1">4</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_gq5_kwl_cdc__entry__1">7</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_gq5_kwl_cdc__entry__1">2</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_gq5_kwl_cdc__entry__1">5</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_gq5_kwl_cdc__entry__1">8</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_gq5_kwl_cdc__entry__1">3</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_gq5_kwl_cdc__entry__1">6</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-0" headers="topic_qq2_pvl_cdc__table_gq5_kwl_cdc__entry__1">9</td>
                        </tr>
                    </tbody></table></div>
            <p class="- topic/p p">当前版本结果：</p>
            <div class="table-container"><table class="- topic/table table frame-all" id="topic_qq2_pvl_cdc__table_iq5_kwl_cdc" data-ofbid="topic_qq2_pvl_cdc__table_iq5_kwl_cdc" data-cols="1"><caption></caption><colgroup><col/></colgroup><thead class="- topic/thead thead">
                        <tr class="- topic/row">
                            <th class="- topic/entry entry align-left colsep-0 rowsep-1" id="topic_qq2_pvl_cdc__table_iq5_kwl_cdc__entry__1">
                                <p class="- topic/p p">result</p>
                            </th>
                        </tr>
                    </thead><tbody class="- topic/tbody tbody">
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_iq5_kwl_cdc__entry__1">1</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-1" headers="topic_qq2_pvl_cdc__table_iq5_kwl_cdc__entry__1">4</td>
                        </tr>
                        <tr class="- topic/row">
                            <td class="- topic/entry entry colsep-0 rowsep-0" headers="topic_qq2_pvl_cdc__table_iq5_kwl_cdc__entry__1">7</td>
                        </tr>
                    </tbody></table></div>
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_cp3_4wl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_cp3_4wl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p">分布式查询中，聚合函数嵌套 <code class="+ topic/ph pr-d/codeph ph codeph">distinct</code> 时的行为发生变化：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_dp3_4wl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_dp3_4wl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，可以执行，返回结果错误。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，执行会报错。</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_ep3_4wl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_ep3_4wl_cdc"><code>dbName = "dfs://test_distinct"
if(existsDatabase(dbName)){
	dropDB(dbName)
}
db = database(dbName,RANGE,0 100 200 300 400,,`TSDB)
x = table(take(10..15 join 105..120 join 255..260 join 360..380,10000) as id,take(1 2 4 2 3,10000) as val)
pt = createPartitionedTable(db, x, 'pt', `id,,`id).append!(x)

select funcByName(`first)(distinct val) from pt

// 当前版本执行报错：
Cannot nest aggregate function. RefId: S02032</code></pre>
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_fp3_4wl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_fp3_4wl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p">在 pivot by 查询中，使用除 <code class="+ topic/ph pr-d/codeph ph codeph">rowSum</code>, <code class="+ topic/ph pr-d/codeph ph codeph">rowMin</code>,
                            <code class="+ topic/ph pr-d/codeph ph codeph">rowMax</code>, <code class="+ topic/ph pr-d/codeph ph codeph">rowCount</code>,
                            <code class="+ topic/ph pr-d/codeph ph codeph">rowSum2</code>, <code class="+ topic/ph pr-d/codeph ph codeph">rowAnd</code>,
                            <code class="+ topic/ph pr-d/codeph ph codeph">rowOr</code>, <code class="+ topic/ph pr-d/codeph ph codeph">rowXor</code>,
                            <code class="+ topic/ph pr-d/codeph ph codeph">rowProd</code>, <code class="+ topic/ph pr-d/codeph ph codeph">rowWsum</code> 之外的 row
                        系列函数时，行为发生变化：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_hp3_4wl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_hp3_4wl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，可以执行，返回结果错误。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，执行出现报错。</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_ip3_4wl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_ip3_4wl_cdc"><code>arr = 1..10
id = take(1..5,10)
type1 = take(1..2, 10)
type2 = take(1..3, 10)

t = table(arr, id, type1, type2)

select rowAvg(arr, id) from t pivot by type1, type2

// 当前版本，出现报错：
Row reduction operation [rowAvg] cannot be used with PIVOT BY. RefId: S02029</code></pre>
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_kf5_twl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_kf5_twl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p">equi join 引擎、时间序列聚合引擎和日级时间序列聚合引擎，在写入的列类型与 dummyTable 指定的列类型不一致时，行为发生变化：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_lf5_twl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_lf5_twl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，可以执行，不输出数据。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，执行出现报错。</p>
                            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_mf5_twl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_mf5_twl_cdc"><code>share streamTable(1000:0, `time`sym`qty`price, [TIMESTAMP, SYMBOL, INT, INT]) as trades
output1=streamTable(1:0,`time`sym`avg_qty`avg_price,[TIMESTAMP,SYMBOL,DOUBLE,DOUBLE])
agg1=createTimeSeriesAggregator(name="agg1",windowSize=30000, step=30000, metrics=&lt;[avg(qty),avg(price)]&gt;, 
dummyTable=trades, outputTable=output1, timeColumn=`time, keyColumn=`sym)

n = 10000
insert into agg1 values(2024.02.01T00:00:00.000+1000*(1..n),take(`A,n),take(`A,n),take(`A,n))

// 当前版本，出现报错：
insert into agg1 values (2024.02.01T00:00:00.000 + 1000 * (1 .. n), take("A", n), take("A", n), take("A", n)) =&gt; Failed to append data to column 'price' </code></pre>
                        </li>
                    </ul>
                </li>
                <li class="- topic/li li">
                    <p class="- topic/p p">在指定 <em class="+ topic/ph hi-d/i ph i">chunkGranularity=”</em>TABLE” 的数据库中，在进行分布式表连接（仅 <code class="+ topic/ph pr-d/codeph ph codeph">ej</code> 和
                            <code class="+ topic/ph pr-d/codeph ph codeph">lj</code>，且左右表都是分布式表）时删除表数据的行为发生变化：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_nf5_twl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_nf5_twl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，可以执行，结果不正确。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，执行出现报错。</p>
                            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_of5_twl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_of5_twl_cdc"><code>dbName ="dfs://test_pointManagement_append"
if(existsDatabase(dbName)) {dropDB(dbName)}
dbvalue = database(, VALUE, 1..10)
dbtime = database(, VALUE, 2012.01.01..2012.01.10)
db = database(dbName, COMPO, [dbvalue, dbtime],,`TSDB)
create table "dfs://test_pointManagement_append"."pt1"(
	par1 INT, par2 TIMESTAMP, intv INT
) 
partitioned by par1, par2, 
sortColumns=[`par1, `par2],
keepDuplicates = ALL
go
create table "dfs://test_pointManagement_append"."pt2"(
	par1 INT, par2 TIMESTAMP, intv INT
) 
partitioned by par1, par2, 
sortColumns=[`par1, `par2],
keepDuplicates = ALL
go

t1 = table(1..10 as par1, 2012.01.01..2012.01.10 as par2, 1..10 as intv)
t2 = table(1..10 as par1, 2012.01.01..2012.01.10 as par2, 1..10 as intv)

pt1 = loadTable("dfs://test_pointManagement_append","pt1")
pt2 = loadTable("dfs://test_pointManagement_append","pt2")
pt1.append!(t1)
pt2.append!(t2)

delete pt1 from ej(pt1, pt2, `par1`par2)
// 当前版本，出现报错：
Joiner doesn't support both tables are distributed tables when left tablet type is SINGLE.</code></pre>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_wly_vwl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_wly_vwl_cdc">
                <li class="- topic/li li">
                    <p class="- topic/p p">在分布式查询中，当 select 语句中某个列是局部变量，且该变量是向量时，查询的行为发生变化：</p>
                    <ul class="- topic/ul ul" id="topic_qq2_pvl_cdc__ul_xly_vwl_cdc" data-ofbid="topic_qq2_pvl_cdc__ul_xly_vwl_cdc">
                        <li class="- topic/li li">
                            <p class="- topic/p p">在之前版本中，可以执行，结果不正确。</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">在当前版本中，执行出现报错。</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="topic_qq2_pvl_cdc__codeblock_yly_vwl_cdc" data-ofbid="topic_qq2_pvl_cdc__codeblock_yly_vwl_cdc"><code>dbName = "dfs://test_analytical_function"
if(existsDatabase(dbName)){
	dropDatabase(dbName)
}
db=database(dbName, VALUE, 1..100)
n = 1000
t = table(take(1..10,n) as id,rand(100,n) as value)
pt = db.createPartitionedTable(t, "pt", ["id"]).append!(t)
m = 1
re = select *, row_number() OVER (partition by 1 order by m) as row_col from loadTable(dbName, "pt")
select *, 1..size(re)  from loadTable(dbName, "pt")
// 当前版本，出现报错：
All columns must be of the same length.</code></pre>
        </div>
    </article>
</article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
<title>Copyright</title><p><b> ©2025 浙江智臾科技有限公司 浙ICP备18048711号-3</b></p>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>