<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" data-whc_version="26.0">
    <head><link rel="shortcut icon" href="../favicon.ico"/><link rel="icon" href="../favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="DolphinDB支持流数据的发布、订阅、预处理、实时内存计算、复杂指标的滚动窗口计算等，既能处理分析实时数据，也能对历史数据进行计算分析，帮助用户利用、发挥这些数据的价值。为满足流数据服务不中断的需求，DolphinDB提供了流数据的高可用功能。 一个发布订阅流数据系统包含三个角色: ..."/><meta name="DC.rights.owner" content="(C) 版权 2025"/><meta name="copyright" content="(C) 版权 2025"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="topic"/><meta name="DC.coverage" content=""/><meta name="DC.relation" content="../tutorials/about_tutorials.html"/><meta name="prodname" content="DolphinDB"/><meta name="brand" content="DolphinDB"/><meta name="DC.creator" content="DolphinDB"/><meta name="DC.publisher" content="DDB N/A DDB 200"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="流数据高可用"/><title>流数据高可用</title><!--  Generated with Oxygen version 26.0, build number 2024012323.  --><meta name="wh-path2root" content="../"/><meta name="wh-toc-id" content="&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;&lt;?workdir /tmp/temp20250305183303418/tutorials?&gt;&lt;?workdir-uri file:/tmp/temp20250305183303418/tutorials/?&gt;&lt;?path2project ../?&gt;&lt;?path2project-uri ../?&gt;&lt;?path2rootmap-uri ../?&gt;&lt;topic xmlns:dita-ot=&#34;http://dita-ot.sourceforge.net/ns/201007/dita-ot&#34; xmlns:ditaarch=&#34;http://dita.oasis-open.org/architecture/2005/&#34; class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;流数据高可用&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;流数据高可用&lt;/title&gt;&lt;prolog class=&#34;- topic/prolog &#34;&gt;&lt;author class=&#34;- topic/author &#34; xtrc=&#34;author:1;12:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/author&gt;&lt;publisherinformation class=&#34;- topic/publisher bookmap/publisherinformation &#34; xtrc=&#34;publisherinformation:1;14:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:1;15:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;printlocation class=&#34;- topic/data bookmap/printlocation &#34; xtrc=&#34;printlocation:1;16:28&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;N/A&lt;/printlocation&gt; &lt;published class=&#34;- topic/data bookmap/published &#34; xtrc=&#34;published:1;17:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:2;18:25&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;publishtype class=&#34;- topic/data bookmap/publishtype &#34; value=&#34;HTML&#34; xtrc=&#34;publishtype:1;19:44&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;revisionid class=&#34;- topic/ph bookmap/revisionid &#34; xtrc=&#34;revisionid:1;20:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;200&lt;/revisionid&gt; &lt;summary class=&#34;- topic/ph bookmap/summary &#34; xtrc=&#34;summary:1;22:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:1;23:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/published&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:2;25:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/publisherinformation&gt;&lt;metadata class=&#34;- topic/metadata &#34;&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:2;39:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:1;28:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;category class=&#34;- topic/category &#34; xtrc=&#34;category:1;29:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;prodinfo class=&#34;- topic/prodinfo &#34; xtrc=&#34;prodinfo:1;34:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;prodname class=&#34;- topic/prodname &#34; xtrc=&#34;prodname:1;35:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/prodname&gt; &lt;brand class=&#34;- topic/brand &#34; xtrc=&#34;brand:1;36:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/brand&gt; &lt;/prodinfo&gt;&lt;/metadata&gt;&lt;/prolog&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;related-links class=&#34;- topic/related-links &#34;&gt;&lt;linkpool class=&#34;- topic/linkpool &#34; xtrc=&#34;topicref:51;74:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_tutorials.ditamap&#34;&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;../tutorials/about_tutorials.dita&#34; mapclass=&#34;- map/topicref bookmap/chapter &#34; role=&#34;parent&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:1;5:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_tutorials.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot usertext?&gt;教程&lt;/linktext&gt;&lt;?ditaot usershortdesc?&gt;&lt;desc class=&#34;- topic/desc &#34;&gt;DolphinDB 产品使用教程&lt;/desc&gt;&lt;/link&gt;&lt;/linkpool&gt;&lt;/related-links&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;1-概述&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:2;3:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:2;3:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1. 概述&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:2;3:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:1;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;DolphinDB支持流数据的发布、订阅、预处理、实时内存计算、复杂指标的滚动窗口计算等，既能处理分析实时数据，也能对历史数据进行计算分析，帮助用户利用、发挥这些数据的价值。为满足流数据服务不中断的需求，DolphinDB提供了流数据的高可用功能。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:2;7:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;一个发布订阅流数据系统包含三个角色: Publisher（生产者），Broker和Subscriber（消费者）。在DolphinDB流数据框架中，Broker由DolphinDB的数据节点担任，Publisher和Subscriber由DolphinDB数据节点或第三方API程序担任。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/haStream.png&#34; placement=&#34;break&#34; xtrc=&#34;image:1;9:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34; dita-ot:image-width=&#34;684&#34; dita-ot:image-height=&#34;287&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:3;11:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;如上图所示，DolphinDB流数据高可用功能采用了基于Raft协议的高可用多副本架构。相同流数据的副本存储在Raft组内不同的数据节点上，Raft协议用来维护多个副本的一致性。Raft组具有自动恢复的性质，当少数节点失效的时候不影响Raft组的正常工作，当大多数节点失效的时候，Raft组则会停止服务。Raft组能够容忍小于半数的节点宕机，例如包含三个节点的组，可以容忍一个节点出现故障；包含五个节点的组，可以容忍两个节点出现故障。正常情况下Raft组内只有一个Leader（领导节点）负责响应来自所有客户端的请求、为客户端提供服务，其他节点都是Follower（追随节点）。DolphinDB流数据的高可用包括Broker的高可用、生产者和消费者的高可用，并具有以下特性：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:1;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:1;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;每个节点上可以定义一个或多个Raft组，一个Raft组可以接纳多个流数据表。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:2;14:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;一个流数据表创建时可指定一个Raft组，表明该表为高可用的流数据表。如果没有指定Raft组，就是普通的流数据表。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:3;15:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;Publisher向Leader写入数据。若写入失败或者收到非Leader异常，就自动切换到新的Leader节点写入。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:4;16:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;Subscriber从Leader订阅流数据。Leader重新选举后，从Leader变换为Follower时，Broker会主动断开这个Raft组内所有的流数据表对应的订阅端连接。Subscriber连接被断开，或者收到新的Leader选出的通知后，会自动向新的Leader发起订阅。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:4;18:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;本教程说明如何使用Broker的高可用功能、生产者和消费者的高可用功能，以及如何提高高可用流数据流数据表的写入性能。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;2-broker的高可用&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:3;20:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:3;20:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;2. Broker的高可用&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:3;20:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;21-集群配置&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:4;22:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:4;22:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;2.1. 集群配置&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:4;22:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:5;24:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;在启用流数据高可用功能前，需要先在多个服务器上部署DolphinDB集群（目前高可用功能仅在集群中支持，在单节点模式中不支持)，然后根据&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;md&#34; format=&#34;dita&#34; href=&#34;streaming_tutorial.md&#34; xtrc=&#34;xref:1;24:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;流数据教程&lt;/xref&gt;配置相关参数，再创建高可用流数据表。高可用相关的配置项主要的有：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:2;26:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:5;26:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;streamingHAMode：高可用功能采用的协议，目前固定配置为raft，表明流数据高可用功能采用了Raft协议。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:6;27:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;streamingRaftGroups：配置Raft组。格式为:&#34;groupId:data_node+&#34;，其中groupId表示Raft组号，为大于等于2的整数，data_node为数据节点，须配置至少3个，中间用冒号分隔。系统支持配置多组，用逗号分隔。建议每组的数据节点分别位于不同的服务器上，以防止一台服务器宕机，组内数据节点都不可用。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:7;28:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;persistenceDir：流数据表的保存路径。高可用流数据表数据要保存到磁盘上，必须配置persistenceDir。在集群模式中，需要保证同一机器上的数据节点配置了不同的persistenceDir。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:8;29:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;streamingHADir：流数据Raft日志文件的存储目录。Raft日志包括注册表、删除表、append（追加）数据等信息。为保证断电后不丢失数据，DolphinDB会调用fsync把日志刷到磁盘上。一般HDD硬盘上fsync性能比较差，例如有的HDD硬盘刷一次要10-30毫秒，为了保证性能，建议这个目录配置在SSD硬盘上。如果不配置，系统默认值为 &amp;lt;HomeDir&amp;gt;/log/streamLog。如果在同一个服务器上部署了多个数据节点，每个节点应当配置不同的streamingHADir。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:9;30:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;streamingHAPurgeInterval：Raft日志垃圾回收周期。在系统运行时，节点中的Raft日志信息若不断增长，会影响节点恢复时状态回放的效率。Raft采用Checkpoint（检查点）的方式来截断日志。做Checkpoint有一些需要注意的性能点：不要做得太频繁，否则消耗磁盘带宽；也不要做得太不频繁，否则一旦节点重启需要回放大量日志，影响可用性。系统默认值300，单位为秒。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:6;32:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;用户需要在集群cluster.cfg配置文件中配置上述参数。以下例子配置了2个Raft组，组2包含3个数据节点，分别为DataNode1、DataNode3和DataNode5。组3包含3个数据节点，分别为DataNode2、DataNode4和DataNode6。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:1;34:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;streamingHAMode=raft streamingRaftGroups=2:DataNode1:DataNode3:DataNode5,3:DataNode2:DataNode4:DataNode6&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;22-获取raft组&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:5;39:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:5;39:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;2.2. 获取Raft组&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:5;39:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:7;41:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;可使用&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:1;41:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;getStreamingRaftGroups&lt;/codeph&gt;函数以获取与验证用户在集群配置的Raft组。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:8;43:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;此函数只能获取当前数据节点上配置的Raft组。例如在上述例子中配置的DataNode1上运行&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:2;43:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;getStreamingRaftGroups()&lt;/codeph&gt;，结果如下：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:1;45:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:1;45:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:1;45:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:2;45:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:1;45:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:1;45:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:1;45:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;id&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:2;45:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;sites&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:1;47:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:2;47:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:3;47:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;2&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:4;47:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;192.168.1.11:19151:DataNode1,192.168.1.12:19153:DataNode3,192.168.1.13:19155:DataNode5&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;23-获取raft组的leader&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:6;49:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:6;49:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;2.3. 获取Raft组的Leader&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:6;49:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:9;51:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;在集群中配置Raft组后，每个Raft组会自动选出Leader，组中其他节点为Follower，由Leader为客户端提供流数据订阅服务。当Leader出现故障不可用时，系统会自动选举出新的Leader来提供流数据服务。获取指定raft组的Leader，可以调用函数&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:3;51:134&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;getStreamingLeader&lt;/codeph&gt;。函数语法如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:2;52:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;getStreamingLeader(groupId)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:10;56:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;其中参数groupId是Raft组的编号。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:11;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;需要注意的是，要获取指定Raft组的Leader，只能在该组配置的数据节点上运行该函数。例如要获取上述例子配置的Raft组2的Leader，可以在DataNode1、DataNode3或DataNode5上运行下列代码：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:3;60:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;getStreamingLeader(2)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:12;64:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;若要在其他节点上获取组2的Leader，需要先获取配置了该组的任意节点，然后使用&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:4;64:41&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;rpc&lt;/codeph&gt;函数到该节点获取Leader。例子如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:4;66:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;t=exec top 1 id,node from pnodeRun(getStreamingRaftGroups) where id =2 leader=rpc(t.node[0],getStreamingLeader,t.id[0])&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;24-创建高可用流数据表&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:7;71:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:7;71:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;2.4. 创建高可用流数据表&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:7;71:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:13;73:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;创建高可用流数据表使用函数&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:5;73:14&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;haStreamTable&lt;/codeph&gt;。语法如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:5;75:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;haStreamTable(raftGroup, table, tableName, cacheLimit, [keyColumn], [retentionMinutes=1440])&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:14;78:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;参数raftGroup是一个大于1的整数，表示Raft组的ID，它必须是通过streamingRaftGroups配置的Raft组中的一个成员。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:15;80:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;可选参数keyColumn是一个字符串，表示主键。设置了keyColumn后，系统能根据keyColumn自动过滤重复数据。比如从设备采集的流数据，这个keyColumn产生规则可以是设备编号+每个设备的消息唯一号；从股市获取的股票信息，keyColumn可以是股票编码+每个股票消息的唯一号，这样从多个采集源采集入库或重复入库，都能保证数据不重复。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:16;82:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;一个Raft组可以包含多个高可用流数据表。这里要注意以下几点：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:3;83:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:10;83:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;高可用流数据表在日志中持久化了表结构信息，重启后不需要重新建表。普通流数据表在节点重启后，需要重新创建流数据表。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:11;84:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;客户端只需订阅Raft组中任意一个数据节点上的高可用流数据表，并启用订阅的自动重连功能。Leader上的高可用流数据表会向客户端发布数据。如果Raft组中的Leader宕机，系统会选举出新的Leader继续发布数据，客户端会自动切换订阅到新的Leader上的高可用流数据表。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:12;85:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;在启动高可用流数据功能后，普通流数据表和高可用流数据表可共存于同一个数据节点上。普通流数据表与高可用流数据表也可互相兼容，但从普通流数据表转化为同名高可用流数据表时，要注意清除之前普通流数据表的数据和日志（使用&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:6;85:108&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;dropStreamTable&lt;/codeph&gt;命令进行删除）。与普通流数据表一样，查看高可用流数据表的元数据信息可使用&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:7;85:161&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;getPersistenceMeta&lt;/codeph&gt;函数。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:17;87:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;下面的例子在Raft组2上创建了一个高可用流数据表haDevSt，其中cacheLimit是100000，keyColumn是id。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:6;88:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;t1=table(1:0, [&#34;id&#34;,&#34;source_address&#34;,&#34;source_port&#34;,&#34;destination_address&#34;,&#34;destination_port&#34;], [STRING,INT,INT,INT,INT] ) haStreamTable(2,t1,&#34;haDevSt&#34;,100000,&#34;id&#34;) &lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;25-删除高可用流数据表&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:8;93:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:8;93:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;2.5. 删除高可用流数据表&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:8;93:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:18;95:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;删除高可用流数据表可调用命令&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:8;95:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;dropStreamTable&lt;/codeph&gt;。语法如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:7;97:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;dropStreamTable(tableName)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:19;101:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;用户需要在取消所有订阅客户端后才能删除流数据表。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:20;103:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;注意：&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:9;103:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;dropStreamTable&lt;/codeph&gt;也支持删除普通流数据表。普通流数据表还可以用&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:10;103:43&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;clearTablePersistence(objByName(tableName))&lt;/codeph&gt;（若有持久化）和&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:11;103:96&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;undef(tableName,SHARED)&lt;/codeph&gt;命令删除。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;3-生产者和消费者的高可用&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:9;105:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:9;105:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;3. 生产者和消费者的高可用&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:9;105:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;31-写入流数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:10;107:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:10;107:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;3.1. 写入流数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:10;107:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:21;109:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;生产者向流数据表写入数据，只能向Leader节点写入，向Follower节点写数据会抛出NotLeader异常。目前JAVA API、C++ API和Python API已支持流数据生产者的高可用，能自动捕获这个异常，并获取异常中携带的新Leader的节点信息，然后向新Leader继续写入数据。在API中，要求在connect函数中指定highAvailabilitySites参数。highAvailabilitySites是一个String类型的Array，每个String都是host:port格式。这样在Leader切换时，就能自动切换到highAvailabilitySites中的另一个节点，即新的Leader。JAVA API代码举例如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:8;111:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;String[] haSites = new String[]{&#34;192.168.1.11:19151&#34;,&#34;192.168.1.12:19153&#34;,&#34;192.168.1.13:19155&#34;}; conn.connect(host,port,&#34;admin&#34;, &#34;123456&#34;, initScript, true,haSites);&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:22;116:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;Python API代码举例如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:9;118:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;conn.connect(host, port, &#34;admin&#34;,&#34;123456&#34;, initScript, True, [&#34;192.168.1.2:9921&#34;, &#34;192.168.1.3:9921&#34;,&#34;192.168.1.4:9921&#34;])&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;32-订阅流数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:11;122:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:11;122:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;3.2. 订阅流数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:11;122:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:23;124:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;客户端只需订阅Raft组中任意一个数据节点上的高可用流数据表，并启用订阅的自动重连功能（即把&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:12;124:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;subscribeTable&lt;/codeph&gt;的reconnect参数设置为true）。Leader上的高可用流数据表会向订阅端发布数据。如果Raft组中的Leader宕机，系统会选举出新的Leader继续发布数据，客户端会自动切换订阅到新Leader上的高可用流数据表。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:24;126:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;同时针对高可用流数据表，&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:13;126:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;subscribeTable&lt;/codeph&gt;提供了持久化保存最新一条已经处理过的订阅数据的偏移量的功能，以避免在重订阅时部分未处理的数据丢失，通过设置参数persistOffset=true可开启该功能。偏移量可以通过&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:14;126:116&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;getTopicProcessedOffset&lt;/codeph&gt;函数获取。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:25;128:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;下面的例子在Raft组2上创建了一个高可用流数据表haDevSt。然后在集群中的某个节点上执行&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:15;128:48&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;subscribeTable&lt;/codeph&gt;，向Leader节点订阅haDevSt。&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:16;128:84&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;subscribeTable&lt;/codeph&gt;的参数reconnect和persistOffset设为true。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:10;130:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;t1=table(1:0, [&#34;id&#34;,&#34;source_address&#34;,&#34;source_port&#34;,&#34;destination_address&#34;,&#34;destination_port&#34;], [STRING,INT,INT,INT,INT] ) haStreamTable(2,t1,&#34;haDevSt&#34;,100000,&#34;id&#34;) t=select id,node from pnodeRun(getStreamingRaftGroups) where id =2 def msgProc(msg){ //todo } subscribeTable(server=t.node[0], tableName=&#34;haDevSt&#34;, handler=msgProc, reconnect=true, persistOffset=true)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:26;140:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;当流数据表启用高可用时，API客户端连接必须启用重连功能。目前JAVA API、C++ API和Python API已支持流数据消费者的高可用。其实现原理如下：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:4;142:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:13;142:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;客户端订阅时，保存raftGroup中所有节点的site（节点信息）。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:14;143:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;Leader变为Follower时，Broker会主动关闭这个组中所有的流数据表对应的订阅，所以客户端就会发起重连。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:15;144:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;客户端重连时如果连接到了Follower上，会收到Not Leader Exception的异常，这个异常中还携带了目前新Leader的信息（如果Leader尚未被选出，Follower就返回自身节点信息）。客户端收到这个异常之后，等待一段时间后再尝试连接新的Leader。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:16;145:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;客户端重连一个节点多次都失败时，则开始尝试连接其他配置的节点。&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;4-流数据高可用的设计&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:12;147:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:12;147:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;4. 流数据高可用的设计&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:12;147:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:27;149:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;流数据高可用架构采用Raft协议实现一致性。Raft采用分而治之的办法，将复杂问题分解为三个子问题：选举（Leader election）、日志复制（Log replication）和安全性（Safety）。Raft开始时先在组内选举出Leader负责日志复制的管理，Leader接受来自客户端的事务请求（日志），并将它们复制给组内其它节点，然后负责通知组内其它节点提交日志，Leader负责保证其它节点与它的日志同步，当Leader宕机后组内其它节点会发起选举选出新的Leader。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:28;151:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;DolphinDB的Raft日志内容包含流数据表的增删信息和流数据表记录的添加信息，系统对Raft日志采取同步顺序写的方式保存到磁盘。当流数据表较大时，为了避免内存不足，系统会把流数据表中较旧的数据从内存中清理，保存到磁盘。因此消费者订阅比较旧的数据时，就需要从数据文件中加载。Raft日志顺序存放，获取流数据时就需要从头回放，不能满足快速订阅的需求，所以流数据存储时引入了数据日志并建立索引，发布时用索引来帮助系统快速定位到订阅的起始行。系统对每个Raft日志记录一个LSN（Log Sequence Number），对每个数据文件也记录一个LSN（表示对数据文件进行修改的最新Raft日志记录），每次异步写入数据文件之后更新LSN。在恢复的时候，对比日志记录的LSN与数据文件的LSN, 若Raft日志的LSN小于数据文件的LSN，那么表明这个日志已经写入数据文件，可以不用重做（Redo），否则需要重做。Raft日志会不断增长，当Raft日志达到一定大小时，系统采用Checkpoint（检查点）的方式截断日志，以免日志膨胀。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:29;153:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;流数据生产者写入流数据时，把数据发送到Leader，Leader收到之后，先写入log记录到Raft日志，然后一边复制Raft日志到Follower，一边异步写入数据文件，等复制Raft日志和写数据文件都完成后，再回复生产者写入成功。收到Leader发来的日志后，Follower节点直接异步把日志写入数据文件。通过Raft日志、数据日志和Raft一致性协议，保证了生产者成功写入的流数据是不会丢失的。当一个节点宕机或重启时，Raft协议能保证Leader把Follower离线时写入的数据同步更新到这个节点，最终保持与组内其他副本的一致，以保证数据不丢失。但这个同步过程可能耗时过长，影响正常日志条目的复制，所以当这个节点离线时间较长、写入流数据量已很大时，建议在系统空闲时再重新加入Raft组。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:30;155:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;流数据写入和订阅都不是事务的，所以不能保证不写入重复数据，比如在Leader向生产者发送成功写入确认消息时，因网络或其他原因，生产者没收到这个消息，那生产者就可能重写这些数据导致重复。订阅者收到消息并处理后会把消息编号记录下来，下次重订阅时会根据记录的消息编号，订阅下一个消息。若在处理消息的过程中出了异常，导致数据已入库，但消息编号还没记录下来，那就可能重复订阅这个消息。DolphinDB系统提供了流数据表的主键功能，设置主键后，系统能根据主键自动过滤重复数据，以免在生产端写入重复数据。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;5-高可用流数据表的性能&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:13;157:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:13;157:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;5. 高可用流数据表的性能&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:13;157:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:31;159:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;高可用流数据表因为需要向Follower节点复制副本，难免会影响写入性能。那这个影响有多大呢？我们在三台服务器上部署一个集群进行了比较测试。为减少网络传输、磁盘IO对性能的影响，三台服务器之间用万兆网卡连接，流数据Raft日志文件的存储目录配置在固态硬盘上，流数据表的记录保存路径配置在机械硬盘上。高可用流数据表、普通流数据表的保存模式、压缩模式保持一致，都设为同步保存和不压缩。写入流数据的API客户端与Leader节点运行在同一台服务器上。在测试时，我们让高可用表的Leader节点写入和普通流数据表的写入都在同一台服务器的同一个磁盘上进行，每次测试前，把流数据表及数据都清除干净以保持环境一致。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:32;161:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;流数据表定义详见附件，其中普通流数据表和高可用流数据表的列数保持一致，每列的数据类型也保持一致，为了测试每行记录字节总数对性能的影响，我们测了列数较少（11列）和列数较多（211列）两种情况。因为每写入一批都要对Raft日志刷盘一次，增加单批写入的记录数可提高系统吞吐量，所以还测试了不同单批数量的情况。一般用多线程能提升整体处理性能，所以还测了4个线程的情况。列数较少时测试结果如下表：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:2;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;9&#34; xtrc=&#34;tgroup:2;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:3;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:4;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:5;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:6;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col5&#34; colnum=&#34;5&#34; xtrc=&#34;colspec:7;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col6&#34; colnum=&#34;6&#34; xtrc=&#34;colspec:8;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col7&#34; colnum=&#34;7&#34; xtrc=&#34;colspec:9;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col8&#34; colnum=&#34;8&#34; xtrc=&#34;colspec:10;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col9&#34; colnum=&#34;9&#34; xtrc=&#34;colspec:11;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:2;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:3;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:5;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;总写入记录数&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:6;163:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;线程数&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:7;163:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;单批数量/线程&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:8;163:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;写入次数/线程&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:9;163:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;高可用写入耗时ms&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:10;163:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;高可用写入速率（条/秒）&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:11;163:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;普通写入耗时&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:12;163:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;普通写入速率（条/秒）&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:13;163:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;高可用/普通速率比&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:2;165:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:4;165:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:14;165:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:15;165:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:16;165:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:17;165:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:18;165:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;14,884&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:19;165:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;671.9&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:20;165:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;6,597&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:21;165:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1,515.8&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:22;165:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;44.3%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:5;166:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:23;166:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1,000,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:24;166:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:25;166:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;100&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:26;166:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:27;166:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;419,572&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:28;166:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;2,383.4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:29;166:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;407,980&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:30;166:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;2,451.1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:31;166:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;97.2%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:6;167:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:32;167:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:33;167:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:34;167:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:35;167:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:36;167:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;440,250&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:37;167:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;22,714.4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:38;167:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;421,990&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:39;167:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;23,697.2&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:40;167:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;95.9%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:7;168:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:41;168:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:42;168:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:43;168:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:44;168:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:45;168:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;26,382&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:46;168:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;379,046.3&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:47;168:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;18,868&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:48;168:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;529,997.9&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:49;168:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;71.5%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:8;169:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:50;169:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;40,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:51;169:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:52;169:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:53;169:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:54;169:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;45,213&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:55;169:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;884.7&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:56;169:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;7,120&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:57;169:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;5,618.0&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:58;169:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;15.7%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:9;170:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:59;170:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;4,000,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:60;170:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:61;170:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;100&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:62;170:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:63;170:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;421,568&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:64;170:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;9,488.4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:65;170:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;40,150&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:66;170:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;9,776.4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:67;170:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;97.1%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:10;171:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:68;171:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;40,000,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:69;171:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:70;171:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:71;171:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:72;171:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;446,746&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:73;171:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;89,536.3&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:74;171:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;427,825&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:75;171:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;93,496.2&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:76;171:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;95.8%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:11;172:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:77;172:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;40,000,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:78;172:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:79;172:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:80;172:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:81;172:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;59,203&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:82;172:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;675,641.4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:83;172:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;35,509&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:84;172:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1,126,475.0&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:85;172:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;60.0%&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:33;174:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;列数较多时测试结果如下表：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:3;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;9&#34; xtrc=&#34;tgroup:3;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:12;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:13;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:14;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:15;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col5&#34; colnum=&#34;5&#34; xtrc=&#34;colspec:16;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col6&#34; colnum=&#34;6&#34; xtrc=&#34;colspec:17;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col7&#34; colnum=&#34;7&#34; xtrc=&#34;colspec:18;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col8&#34; colnum=&#34;8&#34; xtrc=&#34;colspec:19;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col9&#34; colnum=&#34;9&#34; xtrc=&#34;colspec:20;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:3;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:12;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:86;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;总写入记录数&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:87;176:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;线程数&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:88;176:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;单批数量/线程&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:89;176:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;写入次数/线程&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:90;176:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;高可用写入耗时ms&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:91;176:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;高可用写入速率（条/秒）&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:92;176:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;普通写入耗时&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:93;176:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;普通写入速率（条/秒）&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:94;176:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;高可用/普通速率比%&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:3;178:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:13;178:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:95;178:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:96;178:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:97;178:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:98;178:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:99;178:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;427,502&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:100;178:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;23.4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:101;178:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;419,282&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:102;178:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;23.9&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:103;178:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;98.1%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:14;179:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:104;179:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1,000,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:105;179:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:106;179:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;100&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:107;179:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:108;179:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;256,728&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:109;179:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;3,895.2&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:110;179:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;242,651&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:111;179:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;4,121.1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:112;179:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;94.5%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:15;180:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:113;180:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:114;180:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:115;180:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:116;180:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:117;180:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;458,010&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:118;180:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;2,1833.6&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:119;180:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;339,780&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:120;180:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;29,430.8&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:121;180:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;74.2%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:16;181:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:122;181:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:123;181:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:124;181:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:125;181:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:126;181:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;167,349&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:127;181:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;59,755.4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:128;181:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;112,188&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:129;181:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;89,136.1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:130;181:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;67.0%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:17;182:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:131;182:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;40,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:132;182:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:133;182:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:134;182:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:135;182:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;429,201&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:136;182:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;93.2&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:137;182:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;415,907&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:138;182:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;96.2&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:139;182:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;96.9%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:18;183:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:140;183:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;4,000,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:141;183:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:142;183:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;100&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:143;183:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:144;183:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;295,807&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:145;183:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;13,522.3&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:146;183:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;171,150&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:147;183:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;23,371.3&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:148;183:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;57.9%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:19;184:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:149;184:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;40,000,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:150;184:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:151;184:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:152;184:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:153;184:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;519,405&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:154;184:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;77,011.2&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:155;184:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;372,236&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:156;184:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;107,458.7&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:157;184:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;71.7%&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:20;185:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:158;185:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;40,000,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:159;185:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;4&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:160;185:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:161;185:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;1,000&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:162;185:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;589,830&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:163;185:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;67,816.2&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col7&#34; dita-ot:x=&#34;7&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:164;185:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;327,665&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col8&#34; dita-ot:x=&#34;8&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:165;185:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;122,075.9&lt;/entry&gt;&lt;entry align=&#34;right&#34; class=&#34;- topic/entry &#34; colname=&#34;col9&#34; dita-ot:x=&#34;9&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:166;185:93&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;55.6%&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:34;187:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;从上述测试结果中可以发现，当列数较少、每批量特别小（如每批写记录为个位数）时，由于高可用流数据表Raft日志网络传输的开销在整个处理时间中占比相对较大，所以对高可用流数据表的写入性能影响较大。当列数较多或批量较大（如100-1000）时，刷盘需要的时间增加，而因为万兆网卡的高性能传输，其对性能的影响相比刷盘的较大开销，有所减弱，所以高可用流数据表与普通流数据表的写入性能差别就不太明显。从测试结果也可以发现，通过增加线程数和单批写入数，可以提高写入的吞吐量。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;6-总结&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:14;189:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:14;189:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;6. 总结&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:14;189:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:35;191:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;DolphinDB流数据内置框架采用基于Raft协议的高可用多副本架构，实现了Broker的高可用、生产者和消费者的高可用。性能测试结果显示，当列数较少、每批量特别小（如每批写记录为个位数）时，对高可用流数据表的写入性能影响较大。当列数较多或批量较大（如100-1000）时，高可用流数据表与普通流数据表的写入性能差别就不太明显。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:36;193:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; format=&#34;dos&#34; href=&#34;script/hastreaming.dos&#34; xtrc=&#34;xref:2;193:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/haStreaming.md&#34;&gt;&lt;?ditaot usertext?&gt;附录脚本&lt;/xref&gt;&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;"/><meta name="wh-source-relpath" content="tutorials/haStreaming.md"/><meta name="wh-out-relpath" content="tutorials/haStreaming.html"/>

    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/commons.css?buildId=2024012323"/>
    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic.css?buildId=2024012323"/>

    <script src="../oxygen-webhelp/app/options/properties.js?buildId=20250305183303"></script>
    <script src="../oxygen-webhelp/app/localization/strings.js?buildId=2024012323"></script>
    <script src="../oxygen-webhelp/app/search/index/keywords.js?buildId=20250305183303"></script>
    <script defer="defer" src="../oxygen-webhelp/app/commons.js?buildId=2024012323"></script>
    <script defer="defer" src="../oxygen-webhelp/app/topic.js?buildId=2024012323"></script>
<link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/styles.css?buildId=2024012323"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script></head>

    <body id="流数据高可用" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            跳转到主要内容
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div xmlns:whc="http://www.oxygenxml.com/webhelp/components" class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="https://docs.dolphindb.cn/zh/index.html" class=" wh_logo d-none d-sm-block "><img src="../logo.png" alt="  DolphinDB 文档中心  "/></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="booktitle">  <span class="ph mainbooktitle">DolphinDB 文档中心</span>  </span></a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="搜索 " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="搜索查询" required="required"/><button type="submit" class="wh_search_button" aria-label="搜索"><span class="search_input_text">搜索</span></button></div></form>
            
            <script src="/vendors/react/umd/react.production.min.js" defer="defer"></script>
<script src="/vendors/react-dom/umd/react-dom.production.min.js" defer="defer"></script>
<script src="/vendors/dayjs/dayjs.min.js" defer="defer"></script>
<script src="/vendors/antd/dist/antd.min.js" defer="defer"></script>
<script src="/vendors/@ant-design/icons/dist/index.umd.min.js" defer="defer"></script>
<script src="/zh/index.js" type="module"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" defer="defer"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer="defer"><!--


--></script>
<script defer="defer"><!--

// 从主页重定向
const currentUrl = window.location.href;

// 判断当前URL是否包含index.html并且路径最后部分是index.html
if (currentUrl.endsWith('index.html')) {
    // 处理根目录下的index.html跳转
    const baseUrl = currentUrl.split('/index.html')[0]; // 获取index.html之前的部分
    const redirectUrl = `${baseUrl}/about/ddb_intro.html`; // 构建跳转路径
    window.location.href = redirectUrl; // 执行跳转
}

--></script>
            
        </div></div>
    </div>
</header>
        
        
         
        
        
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="../index.html"><span>主页</span></a></span></li><li><div class="topicref" data-id="about_tutorials"><div class="title"><a href="../tutorials/about_tutorials.html"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div></li><li><div class="topicref"><div class="title"><a href="../tutorials/streaming-real-time-correlation-processing_2.html">流数据</a></div></div></li><li class="active"><div class="topicref" data-id="流数据高可用"><div class="title"><a href="../tutorials/haStreaming.html">流数据高可用</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="切换搜索突出显示" title="切换搜索突出显示"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="折叠截面" title="折叠截面"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="打印此页" aria-label="打印此页"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem"><div data-tocid="ddb_intro-d9713e87" class="topicref" data-id="ddb_intro" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../about/ddb_intro.html" id="ddb_intro-d9713e87-link">关于DolphinDB</a></div></div></li><li role="treeitem"><div data-tocid="chap1_getstarted-d9713e136" class="topicref" data-id="chap1_getstarted" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../getstarted/chap1_getstarted.html" id="chap1_getstarted-d9713e136-link">快速上手</a><div class="wh-tooltip"><p class="shortdesc">如何快速部署 DolphinDB、建库建表、写入和查询数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="sectionddb_deployment-d9713e189" class="topicref" data-id="sectionddb_deployment" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action sectionddb_deployment-d9713e189-link" class="wh-expand-btn"></span><div class="title"><a href="../deploy/deploy_intro.html" id="sectionddb_deployment-d9713e189-link"><span class="keyword label">部署</span></a><div class="wh-tooltip"><p class="shortdesc">如何在不同的场景中部署 DolphinDB</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259" class="topicref" data-id="new_chap_database_manage_new_chap_dbmanage_landing_page" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link" class="wh-expand-btn"></span><div class="title"><a href="../db_distr_comp/cfg/db_intro.html" id="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link"><span class="keyword label">数据库</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 数据库的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_streaming-d9713e3760" class="topicref" data-id="chap7_tutorials_streaming" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_streaming-d9713e3760-link" class="wh-expand-btn"></span><div class="title"><a href="../stream/str_intro.html" id="chap7_tutorials_streaming-d9713e3760-link"><span class="keyword label">流数据</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 流数据引擎及流数据计算的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e7513" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e7513-link" class="wh-expand-btn"></span><div class="title"><a href="../db_distr_comp/db_oper/import_data.html" id="tocId-d9713e7513-link">数据迁移</a><div class="wh-tooltip"><p class="shortdesc">如何从不同数据源向 DolphinDB 迁移数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_system_management-d9713e7940" class="topicref" data-id="chap7_tutorials_system_management" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_system_management-d9713e7940-link" class="wh-expand-btn"></span><div class="title"><a href="../sys_man/om_intro.html" id="chap7_tutorials_system_management-d9713e7940-link"><span class="keyword label">系统运维</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 的系统运维功能及方法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="troubleshooting-d9713e8780" class="topicref" data-id="troubleshooting" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action troubleshooting-d9713e8780-link" class="wh-expand-btn"></span><div class="title"><a href="../error_codes/troubleshooting.html" id="troubleshooting-d9713e8780-link">故障排查</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="about_language_resources-d9713e20911" class="topicref" data-id="about_language_resources" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_language_resources-d9713e20911-link" class="wh-expand-btn"></span><div class="title"><a href="../progr/progr_intro.html" id="about_language_resources-d9713e20911-link"><span class="keyword label">编程语言</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 编程基本概念与方法、SQL 在 DolphinDB 的应用</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="functions_references-d9713e30925" class="topicref" data-id="functions_references" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action functions_references-d9713e30925-link" class="wh-expand-btn"></span><div class="title"><a href="../funcs/funcs_intro.html" id="functions_references-d9713e30925-link"><span class="keyword label">函数参考</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 函数分类、语法、详解及示例</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="api_protocol-d9713e94064" class="topicref" data-id="api_protocol" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action api_protocol-d9713e94064-link" class="wh-expand-btn"></span><div class="title"><a href="../api/connapi_intro.html" id="api_protocol-d9713e94064-link"><span class="keyword label">连接器 &amp; API</span></a><div class="wh-tooltip"><p class="shortdesc">面向不同编程语言的 DolphinDB API 及连接器，相关协议和用法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap6_plugin-d9713e94210" class="topicref" data-id="chap6_plugin" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap6_plugin-d9713e94210-link" class="wh-expand-btn"></span><div class="title"><a href="../plugins/plg_intro.html" id="chap6_plugin-d9713e94210-link"><span class="keyword label">插件</span></a><div class="wh-tooltip"><p class="shortdesc">多个应用场景的插件使用说明和插件开发指导</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="third_party-d9713e97904" class="topicref" data-id="third_party" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action third_party-d9713e97904-link" class="wh-expand-btn"></span><div class="title"><a href="../third_party.html" id="third_party-d9713e97904-link">第三方工具</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="about_tutorials-d9713e98227" class="topicref" data-id="about_tutorials" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action about_tutorials-d9713e98227-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/about_tutorials.html" id="about_tutorials-d9713e98227-link"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e98280" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e98280-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/new_users_finance.html" id="tocId-d9713e98280-link">新用户入门</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e98327" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e98327-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/database.html" id="tocId-d9713e98327-link">数据库</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e99111" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e99111-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/std_sql_ddb.html" id="tocId-d9713e99111-link">编程</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="tocId-d9713e100448" class="topicref" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action tocId-d9713e100448-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming-real-time-correlation-processing_2.html" id="tocId-d9713e100448-link">流数据</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="多数据源流式实时关联处理-d9713e100449" class="topicref" data-id="多数据源流式实时关联处理" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming-real-time-correlation-processing_2.html" id="多数据源流式实时关联处理-d9713e100449-link">多数据源流式实时关联处理</a></div></div></li><li role="treeitem"><div data-tocid="流数据引擎解析器-d9713e100495" class="topicref" data-id="流数据引擎解析器" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/StreamEngineParser.html" id="流数据引擎解析器-d9713e100495-link">流数据引擎解析器</a></div></div></li><li role="treeitem" class="active"><div data-tocid="流数据高可用-d9713e100541" class="topicref" data-id="流数据高可用" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/haStreaming.html" id="流数据高可用-d9713e100541-link">流数据高可用</a></div></div></li><li role="treeitem"><div data-tocid="节点启动时的流计算自动订阅-d9713e100587" class="topicref" data-id="节点启动时的流计算自动订阅" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming_auto_sub_2.html" id="节点启动时的流计算自动订阅-d9713e100587-link">节点启动时的流计算自动订阅</a></div></div></li><li role="treeitem"><div data-tocid="cep-引擎入门初级高频量价因子策略的实现-d9713e100633" class="topicref" data-id="cep-引擎入门初级高频量价因子策略的实现" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/getting_started_with_cep_engine.html" id="cep-引擎入门初级高频量价因子策略的实现-d9713e100633-link">CEP 引擎入门：初级高频量价因子策略的实现</a></div></div></li><li role="treeitem"><div data-tocid="cep-引擎应用股票中高频-cta-策略实现与并行回测-d9713e100679" class="topicref" data-id="cep-引擎应用股票中高频-cta-策略实现与并行回测" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/cta_strategy_implementation_and_backtesting.html" id="cep-引擎应用股票中高频-cta-策略实现与并行回测-d9713e100679-link">CEP 引擎应用：股票中高频 CTA 策略实现与并行回测</a></div></div></li><li role="treeitem"><div data-tocid="流计算时延统计与性能优化-d9713e100725" class="topicref" data-id="流计算时延统计与性能优化" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming_timer.html" id="流计算时延统计与性能优化-d9713e100725-link">流计算时延统计与性能优化</a></div></div></li><li role="treeitem"><div data-tocid="响应式状态引擎-d9713e100771" class="topicref" data-id="响应式状态引擎" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/reactive_state_engine.html" id="响应式状态引擎-d9713e100771-link">响应式状态引擎</a></div></div></li><li role="treeitem"><div data-tocid="流数据功能应用-d9713e100817" class="topicref" data-id="流数据功能应用" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming_tutorial.html" id="流数据功能应用-d9713e100817-link">流数据功能应用</a></div></div></li><li role="treeitem"><div data-tocid="数据回放-d9713e100863" class="topicref" data-id="数据回放" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/data_replay.html" id="数据回放-d9713e100863-link">数据回放</a></div></div></li><li role="treeitem"><div data-tocid="使用-dolphindb-class-来开发流计算状态算子-d9713e100909" class="topicref" data-id="使用-dolphindb-class-来开发流计算状态算子" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/stateful_stream_operators.html" id="使用-dolphindb-class-来开发流计算状态算子-d9713e100909-link">使用 DolphinDB Class 来开发流计算状态算子</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e100955" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e100955-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/scheduledJob_2.html" id="tocId-d9713e100955-link">系统运维</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="模块概述-d9713e101923" class="topicref" data-id="模块概述" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action 模块概述-d9713e101923-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/tu_modules.html" id="模块概述-d9713e101923-link">模块</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e102568" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e102568-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/OHLC_2.html" id="tocId-d9713e102568-link">金融场景案例</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e104827" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e104827-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming_engine_anomaly_alerts_2.html" id="tocId-d9713e104827-link">物联网场景案例</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105795" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105795-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/dolphindb_tensor_libtorch_tutorial.html" id="tocId-d9713e105795-link">机器学习</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105842" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105842-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/api_performance.html" id="tocId-d9713e105842-link">测试报告</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105982" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105982-link" class="wh-expand-btn"></span><div class="title"><a href="../rn/server/3_00_2.html" id="tocId-d9713e105982-link">版本说明</a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 版本发布历史</p></div></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        <button id="wh_close_topic_toc_button" class="close-toc-button d-none" aria-label="Toggle topic table of content" aria-controls="wh_topic_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        <div class=" wh_topic_content body "><main role="main"><article class="- topic/topic topic" role="article" aria-labelledby="ariaid-title1"><h1 class="- topic/title title topictitle1" id="ariaid-title1">流数据高可用</h1><div class="- topic/body body"></div><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title2" id="1-概述"><h2 class="- topic/title title topictitle2" id="ariaid-title2">1. 概述</h2><div class="- topic/body body"><p class="- topic/p p">DolphinDB支持流数据的发布、订阅、预处理、实时内存计算、复杂指标的滚动窗口计算等，既能处理分析实时数据，也能对历史数据进行计算分析，帮助用户利用、发挥这些数据的价值。为满足流数据服务不中断的需求，DolphinDB提供了流数据的高可用功能。</p><p class="- topic/p p">一个发布订阅流数据系统包含三个角色: Publisher（生产者），Broker和Subscriber（消费者）。在DolphinDB流数据框架中，Broker由DolphinDB的数据节点担任，Publisher和Subscriber由DolphinDB数据节点或第三方API程序担任。</p><br/><img class="- topic/image image" src="images/haStream.png"/><br/><p class="- topic/p p">如上图所示，DolphinDB流数据高可用功能采用了基于Raft协议的高可用多副本架构。相同流数据的副本存储在Raft组内不同的数据节点上，Raft协议用来维护多个副本的一致性。Raft组具有自动恢复的性质，当少数节点失效的时候不影响Raft组的正常工作，当大多数节点失效的时候，Raft组则会停止服务。Raft组能够容忍小于半数的节点宕机，例如包含三个节点的组，可以容忍一个节点出现故障；包含五个节点的组，可以容忍两个节点出现故障。正常情况下Raft组内只有一个Leader（领导节点）负责响应来自所有客户端的请求、为客户端提供服务，其他节点都是Follower（追随节点）。DolphinDB流数据的高可用包括Broker的高可用、生产者和消费者的高可用，并具有以下特性：</p><ul class="- topic/ul ul"><li class="- topic/li li">每个节点上可以定义一个或多个Raft组，一个Raft组可以接纳多个流数据表。</li><li class="- topic/li li">一个流数据表创建时可指定一个Raft组，表明该表为高可用的流数据表。如果没有指定Raft组，就是普通的流数据表。</li><li class="- topic/li li">Publisher向Leader写入数据。若写入失败或者收到非Leader异常，就自动切换到新的Leader节点写入。</li><li class="- topic/li li">Subscriber从Leader订阅流数据。Leader重新选举后，从Leader变换为Follower时，Broker会主动断开这个Raft组内所有的流数据表对应的订阅端连接。Subscriber连接被断开，或者收到新的Leader选出的通知后，会自动向新的Leader发起订阅。</li></ul><p class="- topic/p p">本教程说明如何使用Broker的高可用功能、生产者和消费者的高可用功能，以及如何提高高可用流数据流数据表的写入性能。</p></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title3" id="2-broker的高可用"><h2 class="- topic/title title topictitle2" id="ariaid-title3">2. Broker的高可用</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title4" id="21-集群配置"><h3 class="- topic/title title topictitle3" id="ariaid-title4">2.1. 集群配置</h3><div class="- topic/body body"><p class="- topic/p p">在启用流数据高可用功能前，需要先在多个服务器上部署DolphinDB集群（目前高可用功能仅在集群中支持，在单节点模式中不支持)，然后根据<a class="- topic/xref xref" href="streaming_tutorial.html">流数据教程</a>配置相关参数，再创建高可用流数据表。高可用相关的配置项主要的有：</p><ul class="- topic/ul ul"><li class="- topic/li li">streamingHAMode：高可用功能采用的协议，目前固定配置为raft，表明流数据高可用功能采用了Raft协议。</li><li class="- topic/li li">streamingRaftGroups：配置Raft组。格式为:"groupId:data_node+"，其中groupId表示Raft组号，为大于等于2的整数，data_node为数据节点，须配置至少3个，中间用冒号分隔。系统支持配置多组，用逗号分隔。建议每组的数据节点分别位于不同的服务器上，以防止一台服务器宕机，组内数据节点都不可用。</li><li class="- topic/li li">persistenceDir：流数据表的保存路径。高可用流数据表数据要保存到磁盘上，必须配置persistenceDir。在集群模式中，需要保证同一机器上的数据节点配置了不同的persistenceDir。</li><li class="- topic/li li">streamingHADir：流数据Raft日志文件的存储目录。Raft日志包括注册表、删除表、append（追加）数据等信息。为保证断电后不丢失数据，DolphinDB会调用fsync把日志刷到磁盘上。一般HDD硬盘上fsync性能比较差，例如有的HDD硬盘刷一次要10-30毫秒，为了保证性能，建议这个目录配置在SSD硬盘上。如果不配置，系统默认值为 &lt;HomeDir&gt;/log/streamLog。如果在同一个服务器上部署了多个数据节点，每个节点应当配置不同的streamingHADir。</li><li class="- topic/li li">streamingHAPurgeInterval：Raft日志垃圾回收周期。在系统运行时，节点中的Raft日志信息若不断增长，会影响节点恢复时状态回放的效率。Raft采用Checkpoint（检查点）的方式来截断日志。做Checkpoint有一些需要注意的性能点：不要做得太频繁，否则消耗磁盘带宽；也不要做得太不频繁，否则一旦节点重启需要回放大量日志，影响可用性。系统默认值300，单位为秒。</li></ul><p class="- topic/p p">用户需要在集群cluster.cfg配置文件中配置上述参数。以下例子配置了2个Raft组，组2包含3个数据节点，分别为DataNode1、DataNode3和DataNode5。组3包含3个数据节点，分别为DataNode2、DataNode4和DataNode6。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>streamingHAMode=raft
streamingRaftGroups=2:DataNode1:DataNode3:DataNode5,3:DataNode2:DataNode4:DataNode6</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title5" id="22-获取raft组"><h3 class="- topic/title title topictitle3" id="ariaid-title5">2.2. 获取Raft组</h3><div class="- topic/body body"><p class="- topic/p p">可使用<code class="+ topic/ph pr-d/codeph ph codeph">getStreamingRaftGroups</code>函数以获取与验证用户在集群配置的Raft组。</p><p class="- topic/p p">此函数只能获取当前数据节点上配置的Raft组。例如在上述例子中配置的DataNode1上运行<code class="+ topic/ph pr-d/codeph ph codeph">getStreamingRaftGroups()</code>，结果如下：</p><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="22-获取raft组__entry__1">id</th><th class="- topic/entry entry colsep-0 rowsep-0" id="22-获取raft组__entry__2">sites</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="22-获取raft组__entry__1">2</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="22-获取raft组__entry__2">192.168.1.11:19151:DataNode1,192.168.1.12:19153:DataNode3,192.168.1.13:19155:DataNode5</td></tr></tbody></table></div></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title6" id="23-获取raft组的leader"><h3 class="- topic/title title topictitle3" id="ariaid-title6">2.3. 获取Raft组的Leader</h3><div class="- topic/body body"><p class="- topic/p p">在集群中配置Raft组后，每个Raft组会自动选出Leader，组中其他节点为Follower，由Leader为客户端提供流数据订阅服务。当Leader出现故障不可用时，系统会自动选举出新的Leader来提供流数据服务。获取指定raft组的Leader，可以调用函数<code class="+ topic/ph pr-d/codeph ph codeph">getStreamingLeader</code>。函数语法如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>getStreamingLeader(groupId)</code></pre><p class="- topic/p p">其中参数groupId是Raft组的编号。</p><p class="- topic/p p">需要注意的是，要获取指定Raft组的Leader，只能在该组配置的数据节点上运行该函数。例如要获取上述例子配置的Raft组2的Leader，可以在DataNode1、DataNode3或DataNode5上运行下列代码：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>getStreamingLeader(2)</code></pre><p class="- topic/p p">若要在其他节点上获取组2的Leader，需要先获取配置了该组的任意节点，然后使用<code class="+ topic/ph pr-d/codeph ph codeph">rpc</code>函数到该节点获取Leader。例子如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>t=exec top 1 id,node from pnodeRun(getStreamingRaftGroups) where id =2
leader=rpc(t.node[0],getStreamingLeader,t.id[0])</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title7" id="24-创建高可用流数据表"><h3 class="- topic/title title topictitle3" id="ariaid-title7">2.4. 创建高可用流数据表</h3><div class="- topic/body body"><p class="- topic/p p">创建高可用流数据表使用函数<code class="+ topic/ph pr-d/codeph ph codeph">haStreamTable</code>。语法如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>haStreamTable(raftGroup, table, tableName, cacheLimit, [keyColumn], [retentionMinutes=1440])</code></pre><p class="- topic/p p">参数raftGroup是一个大于1的整数，表示Raft组的ID，它必须是通过streamingRaftGroups配置的Raft组中的一个成员。</p><p class="- topic/p p">可选参数keyColumn是一个字符串，表示主键。设置了keyColumn后，系统能根据keyColumn自动过滤重复数据。比如从设备采集的流数据，这个keyColumn产生规则可以是设备编号+每个设备的消息唯一号；从股市获取的股票信息，keyColumn可以是股票编码+每个股票消息的唯一号，这样从多个采集源采集入库或重复入库，都能保证数据不重复。</p><p class="- topic/p p">一个Raft组可以包含多个高可用流数据表。这里要注意以下几点：</p><ul class="- topic/ul ul"><li class="- topic/li li">高可用流数据表在日志中持久化了表结构信息，重启后不需要重新建表。普通流数据表在节点重启后，需要重新创建流数据表。</li><li class="- topic/li li">客户端只需订阅Raft组中任意一个数据节点上的高可用流数据表，并启用订阅的自动重连功能。Leader上的高可用流数据表会向客户端发布数据。如果Raft组中的Leader宕机，系统会选举出新的Leader继续发布数据，客户端会自动切换订阅到新的Leader上的高可用流数据表。</li><li class="- topic/li li">在启动高可用流数据功能后，普通流数据表和高可用流数据表可共存于同一个数据节点上。普通流数据表与高可用流数据表也可互相兼容，但从普通流数据表转化为同名高可用流数据表时，要注意清除之前普通流数据表的数据和日志（使用<code class="+ topic/ph pr-d/codeph ph codeph">dropStreamTable</code>命令进行删除）。与普通流数据表一样，查看高可用流数据表的元数据信息可使用<code class="+ topic/ph pr-d/codeph ph codeph">getPersistenceMeta</code>函数。</li></ul><p class="- topic/p p">下面的例子在Raft组2上创建了一个高可用流数据表haDevSt，其中cacheLimit是100000，keyColumn是id。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>t1=table(1:0, ["id","source_address","source_port","destination_address","destination_port"], [STRING,INT,INT,INT,INT] )
haStreamTable(2,t1,"haDevSt",100000,"id")
</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title8" id="25-删除高可用流数据表"><h3 class="- topic/title title topictitle3" id="ariaid-title8">2.5. 删除高可用流数据表</h3><div class="- topic/body body"><p class="- topic/p p">删除高可用流数据表可调用命令<code class="+ topic/ph pr-d/codeph ph codeph">dropStreamTable</code>。语法如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>dropStreamTable(tableName)</code></pre><p class="- topic/p p">用户需要在取消所有订阅客户端后才能删除流数据表。</p><p class="- topic/p p">注意：<code class="+ topic/ph pr-d/codeph ph codeph">dropStreamTable</code>也支持删除普通流数据表。普通流数据表还可以用<code class="+ topic/ph pr-d/codeph ph codeph">clearTablePersistence(objByName(tableName))</code>（若有持久化）和<code class="+ topic/ph pr-d/codeph ph codeph">undef(tableName,SHARED)</code>命令删除。</p></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title9" id="3-生产者和消费者的高可用"><h2 class="- topic/title title topictitle2" id="ariaid-title9">3. 生产者和消费者的高可用</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title10" id="31-写入流数据"><h3 class="- topic/title title topictitle3" id="ariaid-title10">3.1. 写入流数据</h3><div class="- topic/body body"><p class="- topic/p p">生产者向流数据表写入数据，只能向Leader节点写入，向Follower节点写数据会抛出NotLeader异常。目前JAVA API、C++ API和Python API已支持流数据生产者的高可用，能自动捕获这个异常，并获取异常中携带的新Leader的节点信息，然后向新Leader继续写入数据。在API中，要求在connect函数中指定highAvailabilitySites参数。highAvailabilitySites是一个String类型的Array，每个String都是host:port格式。这样在Leader切换时，就能自动切换到highAvailabilitySites中的另一个节点，即新的Leader。JAVA API代码举例如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>String[] haSites = new String[]{"192.168.1.11:19151","192.168.1.12:19153","192.168.1.13:19155"};
conn.connect(host,port,"admin", "123456", initScript, true,haSites);</code></pre><p class="- topic/p p">Python API代码举例如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>conn.connect(host, port, "admin","123456", initScript, True, ["192.168.1.2:9921", "192.168.1.3:9921","192.168.1.4:9921"])</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title11" id="32-订阅流数据"><h3 class="- topic/title title topictitle3" id="ariaid-title11">3.2. 订阅流数据</h3><div class="- topic/body body"><p class="- topic/p p">客户端只需订阅Raft组中任意一个数据节点上的高可用流数据表，并启用订阅的自动重连功能（即把<code class="+ topic/ph pr-d/codeph ph codeph">subscribeTable</code>的reconnect参数设置为true）。Leader上的高可用流数据表会向订阅端发布数据。如果Raft组中的Leader宕机，系统会选举出新的Leader继续发布数据，客户端会自动切换订阅到新Leader上的高可用流数据表。</p><p class="- topic/p p">同时针对高可用流数据表，<code class="+ topic/ph pr-d/codeph ph codeph">subscribeTable</code>提供了持久化保存最新一条已经处理过的订阅数据的偏移量的功能，以避免在重订阅时部分未处理的数据丢失，通过设置参数persistOffset=true可开启该功能。偏移量可以通过<code class="+ topic/ph pr-d/codeph ph codeph">getTopicProcessedOffset</code>函数获取。</p><p class="- topic/p p">下面的例子在Raft组2上创建了一个高可用流数据表haDevSt。然后在集群中的某个节点上执行<code class="+ topic/ph pr-d/codeph ph codeph">subscribeTable</code>，向Leader节点订阅haDevSt。<code class="+ topic/ph pr-d/codeph ph codeph">subscribeTable</code>的参数reconnect和persistOffset设为true。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>t1=table(1:0, ["id","source_address","source_port","destination_address","destination_port"], [STRING,INT,INT,INT,INT] )
haStreamTable(2,t1,"haDevSt",100000,"id")

t=select id,node from pnodeRun(getStreamingRaftGroups) where id =2
def msgProc(msg){ //todo		
}
subscribeTable(server=t.node[0], tableName="haDevSt",  handler=msgProc, reconnect=true, persistOffset=true)</code></pre><p class="- topic/p p">当流数据表启用高可用时，API客户端连接必须启用重连功能。目前JAVA API、C++ API和Python API已支持流数据消费者的高可用。其实现原理如下：</p><ul class="- topic/ul ul"><li class="- topic/li li">客户端订阅时，保存raftGroup中所有节点的site（节点信息）。</li><li class="- topic/li li">Leader变为Follower时，Broker会主动关闭这个组中所有的流数据表对应的订阅，所以客户端就会发起重连。</li><li class="- topic/li li">客户端重连时如果连接到了Follower上，会收到Not Leader Exception的异常，这个异常中还携带了目前新Leader的信息（如果Leader尚未被选出，Follower就返回自身节点信息）。客户端收到这个异常之后，等待一段时间后再尝试连接新的Leader。</li><li class="- topic/li li">客户端重连一个节点多次都失败时，则开始尝试连接其他配置的节点。</li></ul></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title12" id="4-流数据高可用的设计"><h2 class="- topic/title title topictitle2" id="ariaid-title12">4. 流数据高可用的设计</h2><div class="- topic/body body"><p class="- topic/p p">流数据高可用架构采用Raft协议实现一致性。Raft采用分而治之的办法，将复杂问题分解为三个子问题：选举（Leader election）、日志复制（Log replication）和安全性（Safety）。Raft开始时先在组内选举出Leader负责日志复制的管理，Leader接受来自客户端的事务请求（日志），并将它们复制给组内其它节点，然后负责通知组内其它节点提交日志，Leader负责保证其它节点与它的日志同步，当Leader宕机后组内其它节点会发起选举选出新的Leader。</p><p class="- topic/p p">DolphinDB的Raft日志内容包含流数据表的增删信息和流数据表记录的添加信息，系统对Raft日志采取同步顺序写的方式保存到磁盘。当流数据表较大时，为了避免内存不足，系统会把流数据表中较旧的数据从内存中清理，保存到磁盘。因此消费者订阅比较旧的数据时，就需要从数据文件中加载。Raft日志顺序存放，获取流数据时就需要从头回放，不能满足快速订阅的需求，所以流数据存储时引入了数据日志并建立索引，发布时用索引来帮助系统快速定位到订阅的起始行。系统对每个Raft日志记录一个LSN（Log Sequence Number），对每个数据文件也记录一个LSN（表示对数据文件进行修改的最新Raft日志记录），每次异步写入数据文件之后更新LSN。在恢复的时候，对比日志记录的LSN与数据文件的LSN, 若Raft日志的LSN小于数据文件的LSN，那么表明这个日志已经写入数据文件，可以不用重做（Redo），否则需要重做。Raft日志会不断增长，当Raft日志达到一定大小时，系统采用Checkpoint（检查点）的方式截断日志，以免日志膨胀。</p><p class="- topic/p p">流数据生产者写入流数据时，把数据发送到Leader，Leader收到之后，先写入log记录到Raft日志，然后一边复制Raft日志到Follower，一边异步写入数据文件，等复制Raft日志和写数据文件都完成后，再回复生产者写入成功。收到Leader发来的日志后，Follower节点直接异步把日志写入数据文件。通过Raft日志、数据日志和Raft一致性协议，保证了生产者成功写入的流数据是不会丢失的。当一个节点宕机或重启时，Raft协议能保证Leader把Follower离线时写入的数据同步更新到这个节点，最终保持与组内其他副本的一致，以保证数据不丢失。但这个同步过程可能耗时过长，影响正常日志条目的复制，所以当这个节点离线时间较长、写入流数据量已很大时，建议在系统空闲时再重新加入Raft组。</p><p class="- topic/p p">流数据写入和订阅都不是事务的，所以不能保证不写入重复数据，比如在Leader向生产者发送成功写入确认消息时，因网络或其他原因，生产者没收到这个消息，那生产者就可能重写这些数据导致重复。订阅者收到消息并处理后会把消息编号记录下来，下次重订阅时会根据记录的消息编号，订阅下一个消息。若在处理消息的过程中出了异常，导致数据已入库，但消息编号还没记录下来，那就可能重复订阅这个消息。DolphinDB系统提供了流数据表的主键功能，设置主键后，系统能根据主键自动过滤重复数据，以免在生产端写入重复数据。</p></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title13" id="5-高可用流数据表的性能"><h2 class="- topic/title title topictitle2" id="ariaid-title13">5. 高可用流数据表的性能</h2><div class="- topic/body body"><p class="- topic/p p">高可用流数据表因为需要向Follower节点复制副本，难免会影响写入性能。那这个影响有多大呢？我们在三台服务器上部署一个集群进行了比较测试。为减少网络传输、磁盘IO对性能的影响，三台服务器之间用万兆网卡连接，流数据Raft日志文件的存储目录配置在固态硬盘上，流数据表的记录保存路径配置在机械硬盘上。高可用流数据表、普通流数据表的保存模式、压缩模式保持一致，都设为同步保存和不压缩。写入流数据的API客户端与Leader节点运行在同一台服务器上。在测试时，我们让高可用表的Leader节点写入和普通流数据表的写入都在同一台服务器的同一个磁盘上进行，每次测试前，把流数据表及数据都清除干净以保持环境一致。</p><p class="- topic/p p">流数据表定义详见附件，其中普通流数据表和高可用流数据表的列数保持一致，每列的数据类型也保持一致，为了测试每行记录字节总数对性能的影响，我们测了列数较少（11列）和列数较多（211列）两种情况。因为每写入一批都要对Raft日志刷盘一次，增加单批写入的记录数可提高系统吞吐量，所以还测试了不同单批数量的情况。一般用多线程能提升整体处理性能，所以还测了4个线程的情况。列数较少时测试结果如下表：</p><div class="table-container"><table class="- topic/table table" data-cols="9"><caption></caption><colgroup><col/><col/><col/><col/><col/><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__1">总写入记录数</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__2">线程数</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__3">单批数量/线程</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__4">写入次数/线程</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__5">高可用写入耗时ms</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__6">高可用写入速率（条/秒）</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__7">普通写入耗时</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__8">普通写入速率（条/秒）</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__9">高可用/普通速率比</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__1">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__2">1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__3">1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__4">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__5">14,884</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__6">671.9</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__7">6,597</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__8">1,515.8</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__9">44.3%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__1">1,000,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__2">1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__3">100</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__4">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__5">419,572</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__6">2,383.4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__7">407,980</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__8">2,451.1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__9">97.2%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__1">10,000,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__2">1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__3">1,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__4">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__5">440,250</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__6">22,714.4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__7">421,990</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__8">23,697.2</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__9">95.9%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__1">10,000,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__2">1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__3">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__4">1,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__5">26,382</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__6">379,046.3</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__7">18,868</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__8">529,997.9</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__9">71.5%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__1">40,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__2">4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__3">1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__4">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__5">45,213</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__6">884.7</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__7">7,120</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__8">5,618.0</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__9">15.7%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__1">4,000,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__2">4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__3">100</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__4">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__5">421,568</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__6">9,488.4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__7">40,150</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__8">9,776.4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__9">97.1%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__1">40,000,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__2">4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__3">1,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__4">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__5">446,746</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__6">89,536.3</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__7">427,825</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__8">93,496.2</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__9">95.8%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__1">40,000,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__2">4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__3">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__4">1,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__5">59,203</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__6">675,641.4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__7">35,509</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__8">1,126,475.0</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__9">60.0%</td></tr></tbody></table></div><p class="- topic/p p">列数较多时测试结果如下表：</p><div class="table-container"><table class="- topic/table table" data-cols="9"><caption></caption><colgroup><col/><col/><col/><col/><col/><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__82">总写入记录数</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__83">线程数</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__84">单批数量/线程</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__85">写入次数/线程</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__86">高可用写入耗时ms</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__87">高可用写入速率（条/秒）</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__88">普通写入耗时</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__89">普通写入速率（条/秒）</th><th class="- topic/entry entry align-right colsep-0 rowsep-0" id="5-高可用流数据表的性能__entry__90">高可用/普通速率比%</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__82">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__83">1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__84">1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__85">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__86">427,502</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__87">23.4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__88">419,282</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__89">23.9</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__90">98.1%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__82">1,000,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__83">1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__84">100</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__85">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__86">256,728</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__87">3,895.2</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__88">242,651</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__89">4,121.1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__90">94.5%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__82">10,000,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__83">1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__84">1,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__85">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__86">458,010</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__87">2,1833.6</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__88">339,780</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__89">29,430.8</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__90">74.2%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__82">10,000,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__83">1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__84">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__85">1,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__86">167,349</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__87">59,755.4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__88">112,188</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__89">89,136.1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__90">67.0%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__82">40,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__83">4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__84">1</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__85">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__86">429,201</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__87">93.2</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__88">415,907</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__89">96.2</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__90">96.9%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__82">4,000,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__83">4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__84">100</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__85">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__86">295,807</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__87">13,522.3</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__88">171,150</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__89">23,371.3</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__90">57.9%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__82">40,000,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__83">4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__84">1,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__85">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__86">519,405</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__87">77,011.2</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__88">372,236</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__89">107,458.7</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__90">71.7%</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__82">40,000,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__83">4</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__84">10,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__85">1,000</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__86">589,830</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__87">67,816.2</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__88">327,665</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__89">122,075.9</td><td class="- topic/entry entry align-right colsep-0 rowsep-0" headers="5-高可用流数据表的性能__entry__90">55.6%</td></tr></tbody></table></div><p class="- topic/p p">从上述测试结果中可以发现，当列数较少、每批量特别小（如每批写记录为个位数）时，由于高可用流数据表Raft日志网络传输的开销在整个处理时间中占比相对较大，所以对高可用流数据表的写入性能影响较大。当列数较多或批量较大（如100-1000）时，刷盘需要的时间增加，而因为万兆网卡的高性能传输，其对性能的影响相比刷盘的较大开销，有所减弱，所以高可用流数据表与普通流数据表的写入性能差别就不太明显。从测试结果也可以发现，通过增加线程数和单批写入数，可以提高写入的吞吐量。</p></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title14" id="6-总结"><h2 class="- topic/title title topictitle2" id="ariaid-title14">6. 总结</h2><div class="- topic/body body"><p class="- topic/p p">DolphinDB流数据内置框架采用基于Raft协议的高可用多副本架构，实现了Broker的高可用、生产者和消费者的高可用。性能测试结果显示，当列数较少、每批量特别小（如每批写记录为个位数）时，对高可用流数据表的写入性能影响较大。当列数较多或批量较大（如100-1000）时，高可用流数据表与普通流数据表的写入性能差别就不太明显。</p><p class="- topic/p p"><a class="- topic/xref xref" href="script/hastreaming.dos">附录脚本</a></p></div></article></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div id="wh_topic_toc_content">
		                        
	                            <div class=" wh_topic_toc "><div class="wh_topic_label">在本页上</div><ul><li class="topic-item"><a href="#1-%E6%A6%82%E8%BF%B0" data-tocid="1-概述">1. 概述</a></li><li class="topic-item"><a href="#2-broker%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8" data-tocid="2-broker的高可用">2. Broker的高可用</a><ul><li class="topic-item"><a href="#21-%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE" data-tocid="21-集群配置">2.1. 集群配置</a></li><li class="topic-item"><a href="#22-%E8%8E%B7%E5%8F%96raft%E7%BB%84" data-tocid="22-获取raft组">2.2. 获取Raft组</a></li><li class="topic-item"><a href="#23-%E8%8E%B7%E5%8F%96raft%E7%BB%84%E7%9A%84leader" data-tocid="23-获取raft组的leader">2.3. 获取Raft组的Leader</a></li><li class="topic-item"><a href="#24-%E5%88%9B%E5%BB%BA%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8" data-tocid="24-创建高可用流数据表">2.4. 创建高可用流数据表</a></li><li class="topic-item"><a href="#25-%E5%88%A0%E9%99%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8" data-tocid="25-删除高可用流数据表">2.5. 删除高可用流数据表</a></li></ul></li><li class="topic-item"><a href="#3-%E7%94%9F%E4%BA%A7%E8%80%85%E5%92%8C%E6%B6%88%E8%B4%B9%E8%80%85%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8" data-tocid="3-生产者和消费者的高可用">3. 生产者和消费者的高可用</a><ul><li class="topic-item"><a href="#31-%E5%86%99%E5%85%A5%E6%B5%81%E6%95%B0%E6%8D%AE" data-tocid="31-写入流数据">3.1. 写入流数据</a></li><li class="topic-item"><a href="#32-%E8%AE%A2%E9%98%85%E6%B5%81%E6%95%B0%E6%8D%AE" data-tocid="32-订阅流数据">3.2. 订阅流数据</a></li></ul></li><li class="topic-item"><a href="#4-%E6%B5%81%E6%95%B0%E6%8D%AE%E9%AB%98%E5%8F%AF%E7%94%A8%E7%9A%84%E8%AE%BE%E8%AE%A1" data-tocid="4-流数据高可用的设计">4. 流数据高可用的设计</a></li><li class="topic-item"><a href="#5-%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%9A%84%E6%80%A7%E8%83%BD" data-tocid="5-高可用流数据表的性能">5. 高可用流数据表的性能</a></li><li class="topic-item"><a href="#6-%E6%80%BB%E7%BB%93" data-tocid="6-总结">6. 总结</a></li></ul></div>
	                        	
                        	</div>
                        </nav>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
<title>Copyright</title><p><b> ©2025 浙江智臾科技有限公司 浙ICP备18048711号-3</b></p>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>