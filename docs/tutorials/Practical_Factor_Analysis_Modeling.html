<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" data-whc_version="26.0">
    <head><link rel="shortcut icon" href="../favicon.ico"/><link rel="icon" href="../favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="多因子投研一直都是量化投资领域当中的重要基石，Alphalens 和 DolphinDB，作为知名的单因子分析框架和基于高性能时序数据库的时序计算平台，无疑是备受瞩目的两大因子投研利器。当二者相结合，将碰撞出怎样令人期待的火花？ Alphalens 是 Quantopian 用 Python 开发的一个因子分析（评价）工具包。我们用 DolphinDB 的脚本语言实现了一个模块，这样就可以在 ..."/><meta name="DC.rights.owner" content="(C) 版权 2025"/><meta name="copyright" content="(C) 版权 2025"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="topic"/><meta name="DC.coverage" content=""/><meta name="DC.relation" content="../tutorials/about_tutorials.html"/><meta name="prodname" content="DolphinDB"/><meta name="brand" content="DolphinDB"/><meta name="DC.creator" content="DolphinDB"/><meta name="DC.publisher" content="DDB N/A DDB 200"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="alphalens-在-dolphindb-中的应用因子分析建模实践"/><title>Alphalens 在 DolphinDB 中的应用：因子分析建模实践</title><!--  Generated with Oxygen version 26.0, build number 2024012323.  --><meta name="wh-path2root" content="../"/><meta name="wh-toc-id" content="&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;&lt;?workdir /tmp/temp20250305183303418/tutorials?&gt;&lt;?workdir-uri file:/tmp/temp20250305183303418/tutorials/?&gt;&lt;?path2project ../?&gt;&lt;?path2project-uri ../?&gt;&lt;?path2rootmap-uri ../?&gt;&lt;topic xmlns:dita-ot=&#34;http://dita-ot.sourceforge.net/ns/201007/dita-ot&#34; xmlns:ditaarch=&#34;http://dita.oasis-open.org/architecture/2005/&#34; class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;alphalens-在-dolphindb-中的应用因子分析建模实践&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;Alphalens 在 DolphinDB 中的应用：因子分析建模实践&lt;/title&gt;&lt;prolog class=&#34;- topic/prolog &#34;&gt;&lt;author class=&#34;- topic/author &#34; xtrc=&#34;author:1;12:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/author&gt;&lt;publisherinformation class=&#34;- topic/publisher bookmap/publisherinformation &#34; xtrc=&#34;publisherinformation:1;14:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:1;15:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;printlocation class=&#34;- topic/data bookmap/printlocation &#34; xtrc=&#34;printlocation:1;16:28&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;N/A&lt;/printlocation&gt; &lt;published class=&#34;- topic/data bookmap/published &#34; xtrc=&#34;published:1;17:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:2;18:25&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;publishtype class=&#34;- topic/data bookmap/publishtype &#34; value=&#34;HTML&#34; xtrc=&#34;publishtype:1;19:44&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;revisionid class=&#34;- topic/ph bookmap/revisionid &#34; xtrc=&#34;revisionid:1;20:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;200&lt;/revisionid&gt; &lt;summary class=&#34;- topic/ph bookmap/summary &#34; xtrc=&#34;summary:1;22:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:1;23:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/published&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:2;25:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/publisherinformation&gt;&lt;metadata class=&#34;- topic/metadata &#34;&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:2;39:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:1;28:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;category class=&#34;- topic/category &#34; xtrc=&#34;category:1;29:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;prodinfo class=&#34;- topic/prodinfo &#34; xtrc=&#34;prodinfo:1;34:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;prodname class=&#34;- topic/prodname &#34; xtrc=&#34;prodname:1;35:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/prodname&gt; &lt;brand class=&#34;- topic/brand &#34; xtrc=&#34;brand:1;36:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/brand&gt; &lt;/prodinfo&gt;&lt;/metadata&gt;&lt;/prolog&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:1;3:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;多因子投研一直都是量化投资领域当中的重要基石，Alphalens 和 DolphinDB，作为知名的单因子分析框架和基于高性能时序数据库的时序计算平台，无疑是备受瞩目的两大因子投研利器。当二者相结合，将碰撞出怎样令人期待的火花？&lt;/p&gt;&lt;/body&gt;&lt;related-links class=&#34;- topic/related-links &#34;&gt;&lt;linkpool class=&#34;- topic/linkpool &#34; xtrc=&#34;topicref:129;165:97&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_tutorials.ditamap&#34;&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;../tutorials/about_tutorials.dita&#34; mapclass=&#34;- map/topicref bookmap/chapter &#34; role=&#34;parent&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:1;5:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_tutorials.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot usertext?&gt;教程&lt;/linktext&gt;&lt;?ditaot usershortdesc?&gt;&lt;desc class=&#34;- topic/desc &#34;&gt;DolphinDB 产品使用教程&lt;/desc&gt;&lt;/link&gt;&lt;/linkpool&gt;&lt;/related-links&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;1-alphalens-和-dolphindb-的简介&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:2;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:2;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;1. Alphalens 和 DolphinDB 的简介&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:2;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:2;7:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;Alphalens 是 Quantopian 用 Python 开发的一个因子分析（评价）工具包。我们用 DolphinDB 的脚本语言实现了一个模块，这样就可以在 DolphinDB Server 上直接使用这个工具，不仅方便，也大大提升了性能。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Practical_Factor_Analysis_Modeling/1_1.png&#34; placement=&#34;break&#34; xtrc=&#34;image:1;9:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34; dita-ot:image-width=&#34;4410&#34; dita-ot:image-height=&#34;2410&#34;/&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;2-alphalens-因子分析模块介绍&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:3;11:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:3;11:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;2. Alphalens 因子分析模块介绍&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:3;11:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;21-alphalens-模块架构和基本概念&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:4;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:4;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;2.1 Alphalens 模块架构和基本概念&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:4;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:3;15:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;对于该模块的使用，可以抽象为三个层级:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:1;17:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:1;17:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;数据存储层：利用 DolphinDB 的分布式存储引擎和计算引擎，可以高效存储和并行计算海量的行情、因子数据。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:2;18:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;计算分析层：基于 DolphinDB 脚本语言实现的 Alphalens 模块，能够提供专业的因子分析框架。对数据进行数据清洗、投资组合评估等复杂业务逻辑的计算处理。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:3;19:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;可视化交互层：基于 Python 的 Jupyter Notebook，通过交互式的数据可视化工具展现分析结果。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:4;21:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;在执行效率上，对于大量因子的单因子分析，可以通过 DolphinDB 内置的 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://docs.dolphindb.cn/zh/funcs/ho_funcs/peach.html&#34; scope=&#34;external&#34; xtrc=&#34;xref:1;21:40&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;?ditaot usertext?&gt;peach&lt;/xref&gt; 函数并发调用 Alphalens 分析模块，同时借助高效执行的向量化引擎进行具体计算，从而在保证准确性的同时充分利用 DolphinDB 分布式计算框架，获得卓越的执行性能。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:5;23:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;在基本概念上，DolphinDB Alphalens 模块的函数名、参数、参数默认值与 Python 版本高度保持一致，以降低学习和迁移成本。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:6;25:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;在作图功能上，DolphinDB 开发了 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:1;25:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;alphalens_plotting.py&lt;/codeph&gt; ，方便用户在 Python 环境中对计算结果进行可视化。首先，用户通过 Python api 与 DolphinDB Server 建立连接。然后，通过 api 运行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:2;25:130&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;plot_create_full_tear_sheet&lt;/codeph&gt; 和 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:3;25:162&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;plot_create_returns_tear_sheet&lt;/codeph&gt; 函数获取计算结果。最后，利用 Pyfolio 库进行结果可视化绘制。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;22-alphalens-模块常见使用流程&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:5;27:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:5;27:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;2.2 Alphalens 模块常见使用流程&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:5;27:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:7;29:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;在 DolphinDB 中调用 Alphalens 模块，通常分为三步：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:2;31:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:4;31:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;STEP1: 准备因子和行情数据&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:5;32:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;STEP2: &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:4;32:10&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;get_clean_factor_and_forward_returns&lt;/codeph&gt; 生成中间分析结果&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:6;33:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;STEP3: 调用对应函数获取相关分析结果&lt;/li&gt;&lt;/ul&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Practical_Factor_Analysis_Modeling/2_2.png&#34; placement=&#34;break&#34; xtrc=&#34;image:2;35:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34; dita-ot:image-width=&#34;584&#34; dita-ot:image-height=&#34;538&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:8;37:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;在接下来的内容中，我们将带大家一起实现，从数据准备到中间结果分析，再到调用分析函数，最终通过 Jupyter notebook 实现可视化的全流程。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;3-数据准备&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:6;40:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:6;40:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;3. 数据准备&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:6;40:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:9;42:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;数据是量化投资的基石，了解我们所使用的数据结构是开启因子投研之旅的第一步。本章节，我们将介绍本次教程我们在 DolphinDB 中所使用的股票交易数据结构，并基于这些原始数据构建所需的因子特征。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:10;44:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;注意，在开始之前，请读者下载文末的压缩文件，并将其中的 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:5;44:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;alpahlens.dos&lt;/codeph&gt; 文件放至 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:6;44:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&amp;lt;YOUR_DOLPHINDB_PATH&amp;gt;/server/modules/&lt;/codeph&gt; 路径下。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;31-dolphindb-中获取股票数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:7;46:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:7;46:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;3.1 DolphinDB 中获取股票数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:7;46:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:11;48:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;此处我们通过函数 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:7;48:10&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;genDayKDataAndSaveToDFS&lt;/codeph&gt; 来生成5000只股票的日频模拟数据，包含股票代码、交易时间、开盘价、最高价、最低价、收盘价、成交量和成交均价等常见字段。该函数的数据生成方式采用随机数模拟，虽然简单直观，但也存在一些局限性，例如：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:3;50:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:7;50:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;无法真实反映不同标的之间的相关性&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:8;51:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;数据分布可能与真实市场存在偏差&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:9;52:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;无法模拟包括放假期间在内的所有交易情况&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:12;54:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;我们鼓励读者采用自有的真实数据进行试验~ 如果您有对应的数据，可以通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:8;54:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;loadText&lt;/codeph&gt; 函数进行导入，只要简单修改为对应字段名后即可运行。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:13;56:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;当然，受限于篇幅，本次案例暂时只使用了简单的随机数模拟方法。让我们通过如下脚本生成一年的模拟数据并落盘保存，以供后续内容使用：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:1;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;def genDayKDataAndSaveToDFS(securityIdNum, startDate, endDate) { securityId = lpad(string(1..securityIdNum), 6, &#34;000000&#34;) $ SYMBOL tradeDate = table(getMarketCalendar(&#34;CFFEX&#34;, startDate , endDate) as tradeDate) // Use matrix and for loop way to generate simulated daily K line. randStartOpen = double(int(randNormal(100, 30, size(securityId)))) openList = [randStartOpen] for (day in tradeDate[1:]){ openList.append!(openList[size(openList)-1] + randNormal(0, 2, size(securityId))) } res = cj(table(securityId as securityId), tradeDate) update res set open = flatten(openList.transpose()) update res set high = round(open + rand(0.2, size(res)), 2) update res set low = round(high - rand(0.4, size(res)), 2) update res set close = round(open + norm(0, 0.1, size(res)), 2) update res set close = iif(close &amp;gt;= high, high, close) // close should be less than high update res set close = iif(close &amp;lt;= low, low, close) // close should be greater than low update res set volume = rand(100000, size(res)) update res set amount = round(close*volume, 2) update res set vwap = round(close, 2) if (existsDatabase(&#34;dfs://alphalensTutorial&#34;)) { dropDatabase(&#34;dfs://alphalensTutorial&#34;) } db = database(&#34;dfs://alphalensTutorial&#34;, VALUE, `000001`000002) pt = db.createPartitionedTable(res, &#34;dayK&#34;, `securityId) pt.append!(res) } // 生成模拟日 K 线 genDayKDataAndSaveToDFS(securityIdNum=5000, startDate=2024.01.01, endDate=2024.12.31) // 观察日 K 线数据结构 select top 100 * from loadTable(&#34;dfs://alphalensTutorial&#34;, &#34;dayK&#34;) // securityId tradeDate open high low close volume amount vwap // 000001 2024.01.02 109 109.16 109.15 109.15 52,221 5,699,922.15 109.15 // 000001 2024.01.03 107.41 107.44 107.08 107.43 65,895 7,079,099.85 107.43 // 000001 2024.01.04 107.81 107.92 107.69 107.69 60,790 6,546,475.1 107.69 // 000001 2024.01.05 108.05 108.22 107.94 108.08 22,104 2,389,000.32 108.08 // 000001 2024.01.08 106.83 106.84 106.59 106.76 78,025 8,329,949 106.76&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;32-数据预处理和特征提取&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:8;100:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:8;100:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;3.2 数据预处理和特征提取&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:8;100:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:14;102:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;在获取原始数据的基础上，我们需要进一步对数据进行清洗和特征工程，以获得真正具有投资参考价值的因子。这里我们将通过 DolphinDB 内置的 Ta-lib 技术指标库，计算四个广为投资界所熟知的技术分析因子：RSI、CCI、PPO 和 WILLR。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:2;104:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;// 加载 Ta-lib 技术指标模组 use ta go // 计算因子 dayK = loadTable(&#34;dfs://alphalensTutorial&#34;, &#34;dayK&#34;) rsi = select tradeDate as tradetime, securityId as symbol, &#34;rsi&#34; as factorname, ta::rsi(close, timePeriod=14) as value from dayK context by securityId cci = select tradeDate as tradetime, securityId as symbol, &#34;cci&#34; as factorname, ta::cci(high, low, close, timePeriod=14) as value from dayK context by securityId ppo = select tradeDate as tradetime, securityId as symbol, &#34;ppo&#34; as factorname, ta::ppo(close, fastPeriod=12, slowPeriod=26) as value from dayK context by securityId willr = select tradeDate as tradetime, securityId as symbol, &#34;willr&#34; as factorname, ta::willr(high, low, close, timePeriod=14) as value from dayK context by securityId // 观察因子结果 select top 100 * from rsi where value is not null // tradetime symbol factorname value // 2024.01.22 000001 rsi 54.46 // 2024.01.23 000001 rsi 54.39 // 2024.01.24 000001 rsi 52.64 // 2024.01.25 000001 rsi 56.30 // 2024.01.26 000001 rsi 62.42&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:15;127:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;技术分析作为最传统的量化分析方法，旨在从价格走势中挖掘出一些规律性的钝化模式，并据此做出趋势判断和投资决策。就我们这里使用的四个因子而言，他们的大致含义如下：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:4;129:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:10;129:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;RSI 代表相对强弱指标，通过分析价格变动的力度及反转情况来衡量市场买卖力量&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:11;130:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;CCI 则结合价格、均价及时间三个因素，衡量当前价位偏离过去的离析程度&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:12;131:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;PPO为强弱震荡指标，可分析多空双方实力的消长&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:13;132:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;WILLR 则把当前价位与历史价位区间加以比较，进而发现超买超卖的价格区间&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:16;134:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;这四个经典技术指标，从不同角度刻画了不同的价格波动模式，可作为我们投资决策的参考依据。当然，无论是 RSI、CCI 还是 PPO、WILLR，您在具体应用时往往需要根据标的品种和投资策略对参数进行细致的调整和优化，以期真正发挥其效用。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:17;136:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;关于这些因子，想了解更多，可以访问：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:5;138:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:14;138:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;RSI: &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://en.wikipedia.org/wiki/Relative_strength_index&#34; scope=&#34;external&#34; xtrc=&#34;xref:2;138:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;?ditaot usertext?&gt;Relative strength index&lt;/xref&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:15;139:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;CCI: &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://en.wikipedia.org/wiki/Commodity_channel_index&#34; scope=&#34;external&#34; xtrc=&#34;xref:3;139:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;?ditaot usertext?&gt;Commodity channel index&lt;/xref&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:16;140:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;PPO: &lt;xref class=&#34;- topic/xref &#34; format=&#34;asp&#34; href=&#34;https://www.investopedia.com/terms/p/ppo.asp#:~:text=The%20percentage%20price%20oscillator%20(PPO)%20is%20a%20technical%20momentum%20indicator,exponential%20moving%20average%20(EMA).&#34; scope=&#34;external&#34; xtrc=&#34;xref:4;140:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;?ditaot usertext?&gt;Percentage Price Oscillator (PPO): Definition and How It's Used&lt;/xref&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:17;141:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;WILLR: &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://en.wikipedia.org/wiki/Williams_%25R&#34; scope=&#34;external&#34; xtrc=&#34;xref:5;141:11&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;?ditaot usertext?&gt;Williams %R&lt;/xref&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:18;143:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;为方便后续使用，此处因子数据以窄表的形式进行存储：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:3;145:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;// 建立因子库 def creatSingleModelDataBase(dbname, tbname) { if (existsDatabase(dbname)) { dropDatabase(dbname) } db = database(directory=dbname, partitionType=VALUE, partitionScheme=`factor1`factor2, engine=&#34;TSDB&#34;) factorPt = db.createPartitionedTable(table = table(1:0, [&#34;tradetime&#34;, &#34;symbol&#34;, &#34;factorname&#34;, &#34;value&#34;], [TIMESTAMP, SYMBOL, SYMBOL, DOUBLE]), tableName=tbname, partitionColumns=[&#34;factorname&#34;], sortColumns=[`tradetime]) return factorPt } // 创建因子数据库 factorPt = creatSingleModelDataBase(&#34;dfs://alphalensTutorialFactor&#34;, &#34;factor&#34;) // 写入因子库 factorPt.append!(rsi) factorPt.append!(cci) factorPt.append!(ppo) factorPt.append!(willr)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;4-案例实战单因子分析&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:9;167:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:9;167:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;4. 案例实战：单因子分析&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:9;167:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:19;169:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;作为多因子量化投资中最基础、也是最为关键的一环，单因子分析的重要性不言而喻。只有通过对单个因子进行彻底的剖析和评估，我们才能全面认清其实际预测能力、持续性等内在特质，从而审慎决定是否纳入投资组合，以及应该赋予何种权重。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:20;171:2&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;Alphalens 提供了系统而全面的单因子分析框架，能够从多个维度审视某一因子的表现,包括收益率、换手率、信息比率等多个视角，让我们能够多角度评估某一因子的表现，从而对其形成准确全面的认识和判断。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:21;173:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;在本例中，我们将以 RSI 相对强弱指标这一经典技术因子为例，结合 Alphalens 强大的单因子分析能力，为大家展示如何开展全方位的单因子分析之旅。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;41-为-alphalens-准备数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:10;175:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:10;175:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;4.1 为 Alphalens 准备数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:10;175:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:22;177:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;Alphalens 单因子分析的框架始于 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:9;177:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;get_clean_factor_and_forward_returns&lt;/codeph&gt; 这一函数生成的 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:10;177:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;factor_data&lt;/codeph&gt; 中间结果。这个函数主要有两个数据入参，分别为 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:11;177:106&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;factor&lt;/codeph&gt; 和 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:12;177:117&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;prices&lt;/codeph&gt;。对于 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:13;177:129&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;factor&lt;/codeph&gt; 来说，它是一个包含 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:14;177:148&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;[&#34;date&#34;, &#34;asset&#34;, &#34;factor&#34;]&lt;/codeph&gt; 三列的窄表。&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:15;177:184&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;prices&lt;/codeph&gt; 是一个包含所有标的价格的宽表。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:23;179:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;在 DolphinDB 中，我们可以轻松获取这两个入参数据：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:4;181:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;// 取出 RSI 因子数据 factorPt = loadTable(&#34;dfs://alphalensTutorialFactor&#34;, &#34;factor&#34;) RSI = select tradetime as date, symbol as asset, value as factor from factorPt where factorname = &#34;rsi&#34; // 观察 RSI 因子数据 select top 100 * from RSI where factor is not null // date asset factor // 2024.01.22 000001 54.46 // 2024.01.22 000002 53.10 // 2024.01.22 000003 67.59 // 2024.01.22 000004 61.27 // 2024.01.22 000005 26.29 // 准备收盘价数据 dayKPt = loadTable(&#34;dfs://alphalensTutorial&#34;, &#34;dayK&#34;) dayClose = select close from dayKPt pivot by tradeDate as date, securityId // 观察日 K 线数据 select top 100 * from dayClose // tradeDate 000001 000002 000003 000004 000005 // 2024.01.02 109.15 109.15 109.15 109.15 109.15 // 2024.01.03 107.43 107.43 107.43 107.43 107.43 // 2024.01.04 107.69 107.69 107.69 107.69 107.69 // 2024.01.05 108.08 108.08 108.08 108.08 108.08&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;42-调用-get-clean-factor-and-forward-returns-生成中间分析结果&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:11;210:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:11;210:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;4.2 调用 get_clean_factor_and_forward_returns 生成中间分析结果&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:11;210:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:24;212:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;数据入参准备就绪后，我们可以调用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:16;212:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;get_clean_factor_and_forward_returns&lt;/codeph&gt; 函数，它会将数据格式化为 Alphalens 在后续进一步分析中可用的形式。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:25;214:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;该函数主要需要两个重要参数：分位数 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:17;214:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;quantiles&lt;/codeph&gt; 和持仓周期 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:18;214:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;periods&lt;/codeph&gt; 。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:26;216:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;Alphalens 的因子评估过程，是基于因子值与其未来回报之间的关联分析。持仓周期参数指定了我们希望研究的未来回报时间范围。在本例中，我们关注1天、5天和10天三个不同的持仓周期下的收益表现，Alphalens 将会分别计算在这三个时间段内持有每个因子值可获得的回报。不过，Alphalens 在进行单因子回测时，暂不考虑交易佣金或价格波动成本。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:27;218:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;由于金融市场数据往往存在较大噪声，很难直接发现特定因子值与未来回报之间的确切关联性。因此，Alphalens 的分析是基于因子的分位数统计数据,而非原始因子值。每日都会根据因子值的分布，将其等分为若干个分位数桶。这一分组处理的目的，是为了提高信噪比，使因子与回报之间的关系更加清晰可辨。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:28;220:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;通过以下代码，我们可以在 DolphinDB 中调用该函数，获取中间分析结果：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:5;222:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;// 加载 Alphalens 模组 use alphalens go // 获取中间分析结果 RSI_cleaned = select date(date) as date, asset, factor from RSI cleanFactorAndForwardReturns = get_clean_factor_and_forward_returns( factor=RSI_cleaned, prices=dayClose, groupby=NULL, binning_by_group=false, quantiles=5, // 分5组 bins=NULL, periods=[1, 5, 10], // 持仓周期 filter_zscore=NULL, // 异常值过滤 groupby_labels=NULL, max_loss=0.35, zero_aware=false, cumulative_returns=true // 累计收益 ) // 观察单因子分析结果 select top 100 date, asset, forward_returns_1D, forward_returns_5D, forward_returns_10D, factor, factor_quantile from cleanFactorAndForwardReturns // 为方便展示，此处仅保留四位小数 // date asset forward_returns_1D forward_returns_5D forward_returns_10D factor factor_quantile // 2024.01.22 000001 -0.0028 -0.0158 -0.0404 26.5229 1 // 2024.01.22 000002 -0.0045 -0.0754 -0.0734 27.2773 1 // 2024.01.22 000003 -0.0344 -0.0927 -0.0859 59.6302 4 // 2024.01.22 000005 0.0255 0.0378 0.056 67.2281 5&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:29;255:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;我们可以看到,最终输出的结果数据中，date 和 asset 是对应的日期和标的信息。forward_returns_1D/5D/10D三列则分别记录了在对应的1、5、10天持仓周期内，该观测点的未来收益情况。而 factor 和 factor_quantile 则为原始因子值及其对应的分位数分组。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:30;257:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;这份格式化的结果数据，为 Alphalens 后续全面分析做好了准备。想要了解&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:31;259:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;get_clean_factor_and_forward_returns 参数的更多细节，可以访问 Alphalens 官方文档：&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:32;261:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://quantopian.github.io/alphalens/alphalens.html?highlight=get_clean#alphalens.utils.get_clean_factor_and_forward_returns&#34; scope=&#34;external&#34; xtrc=&#34;xref:6;261:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;?ditaot usertext?&gt;Alphalens—Alphalens 0.2.1+48.gad0be10 documentation&lt;/xref&gt;&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;43-获取单因子分析结果&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:12;263:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:12;263:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;4.3 获取单因子分析结果&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:12;263:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:33;265:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;获取因子分析的原始数据后，我们就可以调用 Alphalens 模块的 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:19;265:36&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;plot_create_full_tear_sheet&lt;/codeph&gt; 函数，对因子进行全面的单因子分析。这个函数会输出一个包含多个分析结果的字典对象：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:6;267:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;// 获取因子分析结果 fullTearSheet = plot_create_full_tear_sheet( factor_data=cleanFactorAndForwardReturns, long_short=true, group_neutral=false, by_group=false // 是否对每组分别进行分析 )&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:34;277:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;在调用时，我们设置了几个重要参数：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:6;279:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:18;279:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:20;279:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;long_short=true&lt;/codeph&gt;：表示计算多空组合&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:19;280:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:21;280:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;group_neutral=false&lt;/codeph&gt;：表示不进行群组中性化处理&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:20;281:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:22;281:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;by_group=false&lt;/codeph&gt;：表示对所有数据进行整体分析，不按组别分开分析&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:35;283:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;通过遍历输出 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:23;283:8&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;fullTearSheet&lt;/codeph&gt; 的键值，我们可以看到它的结构主要包含3个部分：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:7;285:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;// 查看结果表层级关系 for (key in fullTearSheet.keys()) { print(key) if (form(fullTearSheet[key]) == 5) { for (subKey in fullTearSheet[key].keys()) { print(&#34; &#34; + subKey) } } } // . // ├── plot_turnover_tear_sheet // │ ├── Mean_Factor_Rank_Autocorrelation // │ ├── Mean_Turnover // │ ├── autocorrelation // │ └── quantile_turnover // ├── plot_information_tear_sheet // │ ├── mean_monthly_ic // │ ├── ic_ts // │ ├── Information_Analysis // │ └── ic // ├── plot_returns_tear_sheet // │ ├── plot_cumulative_returns_1 // │ ├── cumulative_factor_data // │ ├── cum_ret // │ ├── std_spread_quant // │ ├── returns_analysis // │ ├── mean_ret_spread_quant // │ ├── mean_quant_rateret_bydate // │ ├── mean_quant_ret_bydate // │ ├── factor_returns_ // │ └── mean_quant_rateret // └── quantile_stats&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:36;321:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;其中：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:7;323:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:21;323:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:24;323:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;plot_turnover_tear_sheet&lt;/codeph&gt; 着重分析了投资组合的换手率等交易行为指标&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:22;324:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:25;324:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;plot_information_tear_sheet&lt;/codeph&gt; 则集中于评估因子与收益的预测相关性,涵盖 IC 等关键信息论指标&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:23;325:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:26;325:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;plot_returns_tear_sheet&lt;/codeph&gt; 模块则全面评估了投资组合在不同时间窗口下的绝对和相对收益表现&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:37;327:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;每个模块下又包含多个具体的分析项，如均值、分位数等，以及相应的可用于图表展示的数据。例如 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:27;327:46&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;quantile_stats&lt;/codeph&gt; 就是按分组给出了统计学上的诸多常见指标。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:8;329:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;// 查看 quantile_stats 结果 quantile_stats = fullTearSheet[&#34;quantile_stats&#34;] select top 100 * from quantile_stats&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Practical_Factor_Analysis_Modeling/5_1.png&#34; placement=&#34;break&#34; xtrc=&#34;image:3;334:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34; dita-ot:image-width=&#34;959&#34; dita-ot:image-height=&#34;162&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:38;336:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;通过这一完整而系统的分析结果，我们可以从多个角度来审视某一因子的实际表现。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:39;338:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:28;338:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;plot&lt;/codeph&gt; 函数，我们可以先来简单观察一下因子收益情况：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:9;340:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;// 查看单因子多空收益率曲线 plot_cumulative_returns_1 = fullTearSheet[&#34;plot_returns_tear_sheet&#34;][&#34;plot_cumulative_returns_1&#34;] plot(plot_cumulative_returns_1.forward_returns_1D, plot_cumulative_returns_1.date)&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Practical_Factor_Analysis_Modeling/4_3.png&#34; placement=&#34;break&#34; xtrc=&#34;image:4;346:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34; dita-ot:image-width=&#34;2005&#34; dita-ot:image-height=&#34;598&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:40;348:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;最后，我们将结果表在会话间共享，以供后续可视化使用：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:10;350:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;// 共享因子结果表，以便后续使用 share(cleanFactorAndForwardReturns, `factor_data)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;5-通过-jupyter-notebook-进行可视化&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:13;355:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:13;355:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;5. 通过 Jupyter notebook 进行可视化&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:13;355:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:41;357:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;对于如此复杂全面的单因子分析结果，我们自然需要一个强大的数据可视化工具，来将其直观呈现，帮助我们深入洞察其中蕴含的丰富信息。在这一过程中，Jupyter Notebook 将会是我们的得力助手。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:42;359:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;这一章里，我们将介绍如何通过 DolphinDB Python API 获取分析数据，并使用 Jupyter notebook 进行可视化的交互。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:43;361:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;注意，这里我们会使用到 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:29;361:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;alphalens_plotting.py&lt;/codeph&gt; 文件以辅助绘图，这个文件会包含在文章末尾我们将提供的完整的压缩文件当中，方便读者运行完整流程。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;51-因子分布分析&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:14;363:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:14;363:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;5.1 因子分布分析&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:14;363:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:44;365:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;这一小节将使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:30;365:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;plot_quantile_statistics_table&lt;/codeph&gt; 函数绘制因子在不同分位数分组下的统计表格，展示因子在不同分组下的分布情况。通过观察表格中的统计数据，我们可以直观地了解每个分组的因子值范围、均值、中位数等分布特征，为后续分析奠定基础。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:45;367:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;在开始之前，我们先通过以下代码加载所需模块并建立和 DolphinDB 的连接：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:11;370:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;import dolphindb as ddb import pandas as pd import matplotlib.pyplot as plt import alphalens_plotting as plotting import warnings warnings.filterwarnings(&#34;ignore&#34;) ## Connect to DolphinDB server s = ddb.session() s.connect(&#34;localhost&#34;, 8848, &#34;admin&#34;, &#34;123456&#34;) ## 在该会话中加载 Alphalens 模块 s.run(&#34;use alphalens&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:46;387:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;随后，使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:31;387:7&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;plot_quantile_statistics_table&lt;/codeph&gt; 函数来绘制表格，观察因子在不同分组下的分布：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:12;389:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;## 因子分布分析 script_plot_quantile_statistics_table = ''' plot_quantile_statistics_table(factor_data) ''' ret = s.run(script_plot_quantile_statistics_table) plotting.plot_quantile_statistics_table(ret)&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Practical_Factor_Analysis_Modeling/5_1.png&#34; placement=&#34;break&#34; xtrc=&#34;image:5;398:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34; dita-ot:image-width=&#34;959&#34; dita-ot:image-height=&#34;162&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;/&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;52-因子收益分析&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:15;401:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:15;401:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;5.2 因子收益分析&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:15;401:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:47;403:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;收益分析，是单因子评估过程中最为核心和关键的一个环节。本小节将调用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:32;403:35&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;plot_create_returns_tear_sheet&lt;/codeph&gt; 函数，生成一组全面的因子收益分析图表，包括不同持仓期内的累计收益率走势、按分位数分组的收益分布等。有了这些丰富的视觉呈现，我们就可以对因子的盈利能力有更直观的感受，并分析其在不同市场环境下的表现，为投资策略的进一步优化提供方向，如挖掘其表现最佳的持仓期限、结合不同市场环境作出调整等。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:13;405:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;## 因子收益分析 script_plot_create_returns_tear_sheet = ''' plot_create_returns_tear_sheet(factor_data,by_group=false, long_short=true, group_neutral=false) ''' ret = s.run(script_plot_create_returns_tear_sheet) plotting.create_returns_tear_sheet(ret, save_name=&#34;returns_tear_sheet.png&#34;, save_dpi=500)&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Practical_Factor_Analysis_Modeling/5_2.png&#34; placement=&#34;break&#34; xtrc=&#34;image:6;414:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34; dita-ot:image-width=&#34;5992&#34; dita-ot:image-height=&#34;16977&#34; dita-ot:horizontal-dpi=&#34;500&#34; dita-ot:vertical-dpi=&#34;500&#34;/&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;53-因子-ic-分析&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:16;416:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:16;416:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;5.3 因子 IC 分析&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:16;416:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:48;418:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;IC (Information Coefficient) 是衡量因子预测力的一个核心指标，反映了因子值与实际收益之间的相关性。一个有效的因子，应当具备较高的 IC 绝对值，并能在一段时间内保持 IC 的持续性和稳定性。这里我们将使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:33;418:118&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;create_information_tear_sheet&lt;/codeph&gt; 函数绘制 IC 分析的相关图表，如 IC 时间序列、月度 IC 均值等。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:49;420:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;通过对上述一系列 IC 分析图表的综合分析，我们可以较为全面地评估该因子的预测力和有效性，判断其是否值得信赖和持续投资。例如，如果一个因子在长期内保持着较高且稳定的 IC 水平，那它就很可能是一个值得重视的有效因子。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:14;422:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;## 因子 IC 分析 script_plot_create_information_tear_sheet = ''' create_information_tear_sheet(factor_data, group_neutral=false, by_group=false) ''' information_tear_sheet = s.run(script_plot_create_information_tear_sheet) plotting.create_information_tear_sheet(information_tear_sheet, save_name=&#34;information_tear_sheet.png&#34;, save_dpi=500)&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Practical_Factor_Analysis_Modeling/5_3_1.png&#34; placement=&#34;break&#34; xtrc=&#34;image:7;431:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34; dita-ot:image-width=&#34;481&#34; dita-ot:image-height=&#34;375&#34;/&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Practical_Factor_Analysis_Modeling/5_3_2.png&#34; placement=&#34;break&#34; xtrc=&#34;image:8;433:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34; dita-ot:image-width=&#34;7000&#34; dita-ot:image-height=&#34;19702&#34; dita-ot:horizontal-dpi=&#34;500&#34; dita-ot:vertical-dpi=&#34;500&#34;/&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;54-因子换手率分析&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:17;436:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:17;436:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;5.4 因子换手率分析&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:17;436:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:50;438:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;投资组合的换手率是评估交易活跃程度和执行成本的一个重要指标。高换手率意味着更频繁的交易，从而带来更高的交易成本和潜在的负面冲击。而低换手率则可能导致投资组合无法及时调整，错失获利机会。本小节通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:34;438:99&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;create_turnover_tear_sheet&lt;/codeph&gt; 函数生成换手率分析的可视化图表，展示不同持仓期下的组合平均换手率、分位数换手率等数据，帮助我们评估因子的交易活跃程度和执行成本。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:15;440:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;## 因子换手率分析 script_plot_create_turnover_tear_sheet = ''' create_turnover_tear_sheet(factor_data, turnover_periods_=NULL) ''' turnover_tear_sheet = s.run(script_plot_create_turnover_tear_sheet) plotting.create_turnover_tear_sheet(turnover_tear_sheet, save_name=&#34;turnover_tear_sheet.png&#34;, save_dpi=500)&lt;/codeblock&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:1;449:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;4&#34; xtrc=&#34;tgroup:1;449:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:1;449:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:2;449:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:3;449:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:4;449:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:1;449:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:1;449:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:1;449:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;factor_quantile&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:2;449:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;1&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:3;449:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;5&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:4;449:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;10&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:1;451:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:2;451:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:5;451:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;Quantile_5_Mean_Turnover&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:6;451:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.2068110599078341&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:7;451:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.4387934272300466&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:8;451:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.5752259615384608&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:3;452:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:9;452:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;Quantile_4_Mean_Turnover&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:10;452:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.4671612903225802&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:11;452:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.6975492957746474&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:12;452:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.7520432692307693&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:4;453:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:13;453:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;Quantile_3_Mean_Turnover&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:14;453:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.5238525345622125&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:15;453:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.7296760563380287&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:16;453:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.7740288461538462&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:5;454:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:17;454:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;Quantile_2_Mean_Turnover&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:18;454:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.4672466519655457&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:19;454:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.6974380220718241&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:20;454:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.7533617680396527&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:6;455:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:21;455:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;Quantile_1_Mean_Turnover&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:22;455:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.2066286424673523&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:23;455:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.43826235155343113&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:24;455:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.5721353565103563&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:2;457:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:2;457:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:5;457:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:6;457:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:2;457:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:7;457:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:25;457:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;periods&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:26;457:12&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;Mean_Factor_Rank_Autocorrelation&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:2;459:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:8;459:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:27;459:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;1&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:28;459:12&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.9245&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:9;460:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:29;460:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;5&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:30;460:12&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.6802&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:10;461:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:31;461:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;10&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:32;461:12&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;0.4666&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Practical_Factor_Analysis_Modeling/5_4_2.png&#34; placement=&#34;break&#34; xtrc=&#34;image:9;463:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34; dita-ot:image-width=&#34;7000&#34; dita-ot:image-height=&#34;15009&#34; dita-ot:horizontal-dpi=&#34;500&#34; dita-ot:vertical-dpi=&#34;500&#34;/&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;6-总结和展望&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:18;465:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:18;465:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;6. 总结和展望&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:18;465:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;61-alphalens--dolphindb-的优势&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:19;467:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:19;467:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;6.1 Alphalens + DolphinDB 的优势&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:19;467:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:51;469:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;通过本案例，我们了解了如何利用 DolphinDB 当中的 Alphalens 模块进行单因子分析，清晰地看到了将 Alphalens 这一专业的单因子分析框架与 DolphinDB 这一强大的时序数据领域的高效能引擎相结合所带来的巨大优势:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:8;471:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:24;471:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;数据处理效率的提升：DolphinDB 作为专门针对金融时序数据优化的分布式数据库，能高效存储和处理大量金融时序数据，为后续分析奠定数据基础。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:25;472:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;分析功能的完备性：Alphalens 作为专业的量化分析库，涵盖了从因子分布、收益分析、IC分析到换手率评估等多个核心维度，确保了分析结果的深度和全面性。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:26;473:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;可视化探索的直观性：基于 Python 和 Jupyter notebook 的可视化探索，可以让分析结果更加直观和可交互，有助于进一步解读分析和优化因子表现。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:27;474:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;工具链的无缝集成：通过 DolphinDB 的 Alphalens 模块，我们可以将两者结合，可以充分利用 DolphinDB 强大的数据处理能力，以及 Alphalens 丰富的量化分析函数库，形成高效、专业的单因子投研的工具链。&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;62-量化投资的未来发展趋势&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:20;476:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:20;476:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;6.2 量化投资的未来发展趋势&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:20;476:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:52;478:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;单因子分析虽然是量化投资的重要基石，但远不止于此。随着技术的不断进步，量化投资正向多元化、智能化的方向演进：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:9;480:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:28;480:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;高频交易时代的临近：&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:10;481:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:29;481:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;通过实时获取市场信号，抓住短暂的交易机遇将成为可能。DolphinDB 内置的流计算引擎功能将在这一过程中扮演关键角色。&lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://docs.dolphindb.cn/zh/stream/str_intro.html&#34; scope=&#34;external&#34; xtrc=&#34;xref:7;481:65&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;?ditaot usertext?&gt;DolphinDB 流计算介绍&lt;/xref&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:30;482:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;投资组合优化的重要性与日俱增：&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:11;483:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:31;483:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;如何在控制风险的前提下，优化投资组合以获取最大收益，将成为投资者的核心需求。DolphinDB优化求解系列函数将为此提供强力支持。&lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://zhuanlan.zhihu.com/p/687639598&#34; scope=&#34;external&#34; xtrc=&#34;xref:8;483:70&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;?ditaot usertext?&gt;《优化投资组合：DolphinDB 最优化求解系列函数应用指南》&lt;/xref&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:32;484:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;自动化因子挖掘成为投研重点：&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:12;485:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:33;485:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;DolphinDB 推出了 Shark GPLearn 高性能因子挖掘平台。相比传统依赖于人工设计和选择特征工程的因子挖掘方法，Shark 平台可以直接从数据库中读取数据，调用遗传算法进行自动因子挖掘，同时利用 GPU 加速遗传算法的适应度计算，提升因子挖掘效率。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:53;487:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;量化投资的未来，将是智能决策、多策略融合、跨领域整合的新时代。DolphinDB 将紧跟量化投资发展趋势，在各个环节持续创新，为投资者带来更有价值的产品和服务。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;附件&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:21;489:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:21;489:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;附件&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:21;489:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:54;490:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; format=&#34;zip&#34; href=&#34;data/Practical_Factor_Analysis_Modeling/dolphindbAlpahlensTutorial.zip&#34; xtrc=&#34;xref:9;490:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Practical_Factor_Analysis_Modeling.md&#34;&gt;&lt;?ditaot usertext?&gt;dolphindbAlpahlensTutorial.zip&lt;/xref&gt;&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;"/><meta name="wh-source-relpath" content="tutorials/Practical_Factor_Analysis_Modeling.md"/><meta name="wh-out-relpath" content="tutorials/Practical_Factor_Analysis_Modeling.html"/>

    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/commons.css?buildId=2024012323"/>
    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic.css?buildId=2024012323"/>

    <script src="../oxygen-webhelp/app/options/properties.js?buildId=20250305183303"></script>
    <script src="../oxygen-webhelp/app/localization/strings.js?buildId=2024012323"></script>
    <script src="../oxygen-webhelp/app/search/index/keywords.js?buildId=20250305183303"></script>
    <script defer="defer" src="../oxygen-webhelp/app/commons.js?buildId=2024012323"></script>
    <script defer="defer" src="../oxygen-webhelp/app/topic.js?buildId=2024012323"></script>
<link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/styles.css?buildId=2024012323"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script></head>

    <body id="alphalens-在-dolphindb-中的应用因子分析建模实践" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            跳转到主要内容
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div xmlns:whc="http://www.oxygenxml.com/webhelp/components" class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="https://docs.dolphindb.cn/zh/index.html" class=" wh_logo d-none d-sm-block "><img src="../logo.png" alt="  DolphinDB 文档中心  "/></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="booktitle">  <span class="ph mainbooktitle">DolphinDB 文档中心</span>  </span></a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="搜索 " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="搜索查询" required="required"/><button type="submit" class="wh_search_button" aria-label="搜索"><span class="search_input_text">搜索</span></button></div></form>
            
            <script src="/vendors/react/umd/react.production.min.js" defer="defer"></script>
<script src="/vendors/react-dom/umd/react-dom.production.min.js" defer="defer"></script>
<script src="/vendors/dayjs/dayjs.min.js" defer="defer"></script>
<script src="/vendors/antd/dist/antd.min.js" defer="defer"></script>
<script src="/vendors/@ant-design/icons/dist/index.umd.min.js" defer="defer"></script>
<script src="/zh/index.js" type="module"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" defer="defer"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer="defer"><!--


--></script>
<script defer="defer"><!--

// 从主页重定向
const currentUrl = window.location.href;

// 判断当前URL是否包含index.html并且路径最后部分是index.html
if (currentUrl.endsWith('index.html')) {
    // 处理根目录下的index.html跳转
    const baseUrl = currentUrl.split('/index.html')[0]; // 获取index.html之前的部分
    const redirectUrl = `${baseUrl}/about/ddb_intro.html`; // 构建跳转路径
    window.location.href = redirectUrl; // 执行跳转
}

--></script>
            
        </div></div>
    </div>
</header>
        
        
         
        
        
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="../index.html"><span>主页</span></a></span></li><li><div class="topicref" data-id="about_tutorials"><div class="title"><a href="../tutorials/about_tutorials.html"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div></li><li><div class="topicref"><div class="title"><a href="../tutorials/OHLC_2.html">金融场景案例</a></div></div></li><li class="active"><div class="topicref" data-id="alphalens-在-dolphindb-中的应用因子分析建模实践"><div class="title"><a href="../tutorials/Practical_Factor_Analysis_Modeling.html">Alphalens 在 DolphinDB 中的应用：因子分析建模实践</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="切换搜索突出显示" title="切换搜索突出显示"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="折叠截面" title="折叠截面"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="打印此页" aria-label="打印此页"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem"><div data-tocid="ddb_intro-d9713e87" class="topicref" data-id="ddb_intro" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../about/ddb_intro.html" id="ddb_intro-d9713e87-link">关于DolphinDB</a></div></div></li><li role="treeitem"><div data-tocid="chap1_getstarted-d9713e136" class="topicref" data-id="chap1_getstarted" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../getstarted/chap1_getstarted.html" id="chap1_getstarted-d9713e136-link">快速上手</a><div class="wh-tooltip"><p class="shortdesc">如何快速部署 DolphinDB、建库建表、写入和查询数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="sectionddb_deployment-d9713e189" class="topicref" data-id="sectionddb_deployment" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action sectionddb_deployment-d9713e189-link" class="wh-expand-btn"></span><div class="title"><a href="../deploy/deploy_intro.html" id="sectionddb_deployment-d9713e189-link"><span class="keyword label">部署</span></a><div class="wh-tooltip"><p class="shortdesc">如何在不同的场景中部署 DolphinDB</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259" class="topicref" data-id="new_chap_database_manage_new_chap_dbmanage_landing_page" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link" class="wh-expand-btn"></span><div class="title"><a href="../db_distr_comp/cfg/db_intro.html" id="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link"><span class="keyword label">数据库</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 数据库的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_streaming-d9713e3760" class="topicref" data-id="chap7_tutorials_streaming" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_streaming-d9713e3760-link" class="wh-expand-btn"></span><div class="title"><a href="../stream/str_intro.html" id="chap7_tutorials_streaming-d9713e3760-link"><span class="keyword label">流数据</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 流数据引擎及流数据计算的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e7513" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e7513-link" class="wh-expand-btn"></span><div class="title"><a href="../db_distr_comp/db_oper/import_data.html" id="tocId-d9713e7513-link">数据迁移</a><div class="wh-tooltip"><p class="shortdesc">如何从不同数据源向 DolphinDB 迁移数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_system_management-d9713e7940" class="topicref" data-id="chap7_tutorials_system_management" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_system_management-d9713e7940-link" class="wh-expand-btn"></span><div class="title"><a href="../sys_man/om_intro.html" id="chap7_tutorials_system_management-d9713e7940-link"><span class="keyword label">系统运维</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 的系统运维功能及方法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="troubleshooting-d9713e8780" class="topicref" data-id="troubleshooting" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action troubleshooting-d9713e8780-link" class="wh-expand-btn"></span><div class="title"><a href="../error_codes/troubleshooting.html" id="troubleshooting-d9713e8780-link">故障排查</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="about_language_resources-d9713e20911" class="topicref" data-id="about_language_resources" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_language_resources-d9713e20911-link" class="wh-expand-btn"></span><div class="title"><a href="../progr/progr_intro.html" id="about_language_resources-d9713e20911-link"><span class="keyword label">编程语言</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 编程基本概念与方法、SQL 在 DolphinDB 的应用</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="functions_references-d9713e30925" class="topicref" data-id="functions_references" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action functions_references-d9713e30925-link" class="wh-expand-btn"></span><div class="title"><a href="../funcs/funcs_intro.html" id="functions_references-d9713e30925-link"><span class="keyword label">函数参考</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 函数分类、语法、详解及示例</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="api_protocol-d9713e94064" class="topicref" data-id="api_protocol" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action api_protocol-d9713e94064-link" class="wh-expand-btn"></span><div class="title"><a href="../api/connapi_intro.html" id="api_protocol-d9713e94064-link"><span class="keyword label">连接器 &amp; API</span></a><div class="wh-tooltip"><p class="shortdesc">面向不同编程语言的 DolphinDB API 及连接器，相关协议和用法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap6_plugin-d9713e94210" class="topicref" data-id="chap6_plugin" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap6_plugin-d9713e94210-link" class="wh-expand-btn"></span><div class="title"><a href="../plugins/plg_intro.html" id="chap6_plugin-d9713e94210-link"><span class="keyword label">插件</span></a><div class="wh-tooltip"><p class="shortdesc">多个应用场景的插件使用说明和插件开发指导</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="third_party-d9713e97904" class="topicref" data-id="third_party" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action third_party-d9713e97904-link" class="wh-expand-btn"></span><div class="title"><a href="../third_party.html" id="third_party-d9713e97904-link">第三方工具</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="about_tutorials-d9713e98227" class="topicref" data-id="about_tutorials" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action about_tutorials-d9713e98227-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/about_tutorials.html" id="about_tutorials-d9713e98227-link"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e98280" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e98280-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/new_users_finance.html" id="tocId-d9713e98280-link">新用户入门</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e98327" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e98327-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/database.html" id="tocId-d9713e98327-link">数据库</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e99111" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e99111-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/std_sql_ddb.html" id="tocId-d9713e99111-link">编程</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e100448" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e100448-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming-real-time-correlation-processing_2.html" id="tocId-d9713e100448-link">流数据</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e100955" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e100955-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/scheduledJob_2.html" id="tocId-d9713e100955-link">系统运维</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="模块概述-d9713e101923" class="topicref" data-id="模块概述" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action 模块概述-d9713e101923-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/tu_modules.html" id="模块概述-d9713e101923-link">模块</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="tocId-d9713e102568" class="topicref" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action tocId-d9713e102568-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/OHLC_2.html" id="tocId-d9713e102568-link">金融场景案例</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="k-线计算-d9713e102569" class="topicref" data-id="k-线计算" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/OHLC_2.html" id="k-线计算-d9713e102569-link">K 线计算</a></div></div></li><li role="treeitem"><div data-tocid="使用-klinechart-展示-dolphindb-k-线-d9713e102615" class="topicref" data-id="使用-klinechart-展示-dolphindb-k-线" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/displaying_the_dolphindb_k-line_with_klinechart.html" id="使用-klinechart-展示-dolphindb-k-线-d9713e102615-link">使用 KLineChart 展示 DolphinDB K 线</a></div></div></li><li role="treeitem"><div data-tocid="python--hdf5-因子计算与-dolphindb-一体化因子计算方案对比-d9713e102661" class="topicref" data-id="python--hdf5-因子计算与-dolphindb-一体化因子计算方案对比" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/Python_HDF5_vs_DolphinDB.html" id="python--hdf5-因子计算与-dolphindb-一体化因子计算方案对比-d9713e102661-link">Python + HDF5 因子计算与 DolphinDB 一体化因子计算方案对比</a></div></div></li><li role="treeitem"><div data-tocid="python--文件存储与-dolphindb-因子计算性能比较-d9713e102707" class="topicref" data-id="python--文件存储与-dolphindb-因子计算性能比较" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/DolphinDB_VS_PythonFile_Storage.html" id="python--文件存储与-dolphindb-因子计算性能比较-d9713e102707-link">Python + 文件存储与 DolphinDB 因子计算性能比较</a></div></div></li><li role="treeitem"><div data-tocid="python-parser-在金融量化分析场景的应用入门-d9713e102753" class="topicref" data-id="python-parser-在金融量化分析场景的应用入门" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/py_parser__quant_fin.html" id="python-parser-在金融量化分析场景的应用入门-d9713e102753-link">Python Parser 在金融量化分析场景的应用入门</a></div></div></li><li role="treeitem"><div data-tocid="处理-level-2-行情数据实例-d9713e102799" class="topicref" data-id="处理-level-2-行情数据实例" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/l2_stk_data_proc_2.html" id="处理-level-2-行情数据实例-d9713e102799-link">处理 Level-2 行情数据实例</a></div></div></li><li role="treeitem"><div data-tocid="存储金融数据的分区方案最佳实践-d9713e102845" class="topicref" data-id="存储金融数据的分区方案最佳实践" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/best_practices_for_partitioned_storage.html" id="存储金融数据的分区方案最佳实践-d9713e102845-link">存储金融数据的分区方案最佳实践</a></div></div></li><li role="treeitem"><div data-tocid="公募基金历史数据基础分析教程-d9713e102891" class="topicref" data-id="公募基金历史数据基础分析教程" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/public_fund_basic_analysis.html" id="公募基金历史数据基础分析教程-d9713e102891-link">公募基金历史数据基础分析教程</a></div></div></li><li role="treeitem"><div data-tocid="股票行情回放-d9713e102937" class="topicref" data-id="股票行情回放" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/stock_market_replay_2.html" id="股票行情回放-d9713e102937-link">股票行情回放</a></div></div></li><li role="treeitem"><div data-tocid="搭建行情回放服务的最佳实践-d9713e102983" class="topicref" data-id="搭建行情回放服务的最佳实践" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/appendices_market_replay_bp.html" id="搭建行情回放服务的最佳实践-d9713e102983-link">搭建行情回放服务的最佳实践</a></div></div></li><li role="treeitem"><div data-tocid="国内股票行情数据导入实例-d9713e103029" class="topicref" data-id="国内股票行情数据导入实例" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/stockdata_csv_import_demo.html" id="国内股票行情数据导入实例-d9713e103029-link">国内股票行情数据导入实例</a></div></div></li><li role="treeitem"><div data-tocid="基金份额参考价值-iopv-计算-d9713e103076" class="topicref" data-id="基金份额参考价值-iopv-计算" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming_IOPV_2.html" id="基金份额参考价值-iopv-计算-d9713e103076-link">基金份额参考价值 IOPV 计算</a></div></div></li><li role="treeitem"><div data-tocid="基于快照行情的股票和基金-k-线合成-d9713e103122" class="topicref" data-id="基于快照行情的股票和基金-k-线合成" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/k.html" id="基于快照行情的股票和基金-k-线合成-d9713e103122-link">基于快照行情的股票和基金 K 线合成</a></div></div></li><li role="treeitem"><div data-tocid="计算基金日频因子-d9713e103168" class="topicref" data-id="计算基金日频因子" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/fund_factor_contrasted_by_py.html" id="计算基金日频因子-d9713e103168-link">计算基金日频因子</a></div></div></li><li role="treeitem"><div data-tocid="基于逐笔数据合成高频-orderbookdolphindb-orderbook-引擎-d9713e103214" class="topicref" data-id="基于逐笔数据合成高频-orderbookdolphindb-orderbook-引擎" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/orderBookSnapshotEngine.html" id="基于逐笔数据合成高频-orderbookdolphindb-orderbook-引擎-d9713e103214-link">基于逐笔数据合成高频 Orderbook：DolphinDB Orderbook 引擎</a></div></div></li><li role="treeitem"><div data-tocid="金融-poc-用户历史数据导入指导手册之股票-level-2-逐笔篇-d9713e103260" class="topicref" data-id="金融-poc-用户历史数据导入指导手册之股票-level-2-逐笔篇" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/LoadDataForPoc.html" id="金融-poc-用户历史数据导入指导手册之股票-level-2-逐笔篇-d9713e103260-link">金融 PoC 用户历史数据导入指导手册之股票 Level-2 逐笔篇</a></div></div></li><li role="treeitem"><div data-tocid="金融实时实际波动率预测-d9713e103306" class="topicref" data-id="金融实时实际波动率预测" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/ml_volatility_2.html" id="金融实时实际波动率预测-d9713e103306-link">金融实时实际波动率预测</a></div></div></li><li role="treeitem"><div data-tocid="金融因子流式实现-d9713e103352" class="topicref" data-id="金融因子流式实现" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/str_comp_fin_quant_2.html" id="金融因子流式实现-d9713e103352-link">金融因子流式实现</a></div></div></li><li role="treeitem"><div data-tocid="开发股票波动率预测模型的-676-个输入特征-d9713e103398" class="topicref" data-id="开发股票波动率预测模型的-676-个输入特征" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/metacode_derived_features_2.html" id="开发股票波动率预测模型的-676-个输入特征-d9713e103398-link">开发股票波动率预测模型的 676 个输入特征</a></div></div></li><li role="treeitem"><div data-tocid="快速搭建-level-2-快照数据流批一体因子计算平台最佳实践-d9713e103444" class="topicref" data-id="快速搭建-level-2-快照数据流批一体因子计算平台最佳实践" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/l2_snapshot_factor_calc_2.html" id="快速搭建-level-2-快照数据流批一体因子计算平台最佳实践-d9713e103444-link">快速搭建 Level-2 快照数据流批一体因子计算平台最佳实践</a></div></div></li><li role="treeitem"><div data-tocid="量化金融范例-d9713e103490" class="topicref" data-id="量化金融范例" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/quant_finance_examples.html" id="量化金融范例-d9713e103490-link">量化金融范例</a></div></div></li><li role="treeitem"><div data-tocid="流式计算中证-1000-指数主买主卖交易量-d9713e103536" class="topicref" data-id="流式计算中证-1000-指数主买主卖交易量" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/CSI_1000_2.html" id="流式计算中证-1000-指数主买主卖交易量-d9713e103536-link">流式计算中证 1000 指数主买/主卖交易量</a></div></div></li><li role="treeitem"><div data-tocid="深度不平衡买卖压力指标波动率计算-d9713e103583" class="topicref" data-id="深度不平衡买卖压力指标波动率计算" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/sql_performance_optimization_wap_di_rv.html" id="深度不平衡买卖压力指标波动率计算-d9713e103583-link">深度不平衡、买卖压力指标、波动率计算</a></div></div></li><li role="treeitem"><div data-tocid="实时合成自定义频订单簿快照dolphindb-insight-行情插件与订单簿引擎应用-d9713e103629" class="topicref" data-id="实时合成自定义频订单簿快照dolphindb-insight-行情插件与订单簿引擎应用" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/insight_plugin_orderbook_engine_application.html" id="实时合成自定义频订单簿快照dolphindb-insight-行情插件与订单簿引擎应用-d9713e103629-link">实时合成自定义频订单簿快照：DolphinDB INSIGHT 行情插件与订单簿引擎应用</a></div></div></li><li role="treeitem"><div data-tocid="实时计算分钟资金流-d9713e103675" class="topicref" data-id="实时计算分钟资金流" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming_capital_flow_order_by_order_2.html" id="实时计算分钟资金流-d9713e103675-link">实时计算分钟资金流</a></div></div></li><li role="treeitem"><div data-tocid="实时计算高频因子-d9713e103721" class="topicref" data-id="实时计算高频因子" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/hf_factor_streaming_2.html" id="实时计算高频因子-d9713e103721-link">实时计算高频因子</a></div></div></li><li role="treeitem"><div data-tocid="实时计算日累计逐单资金流-d9713e103767" class="topicref" data-id="实时计算日累计逐单资金流" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming_capital_flow_daily_2.html" id="实时计算日累计逐单资金流-d9713e103767-link">实时计算日累计逐单资金流</a></div></div></li><li role="treeitem"><div data-tocid="实时计算涨幅榜-d9713e103813" class="topicref" data-id="实时计算涨幅榜" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/rt_stk_price_inc_calc_2.html" id="实时计算涨幅榜-d9713e103813-link">实时计算涨幅榜</a></div></div></li><li role="treeitem"><div data-tocid="实时选取外汇行情多价源最优价-d9713e103859" class="topicref" data-id="实时选取外汇行情多价源最优价" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/best_price_selection.html" id="实时选取外汇行情多价源最优价-d9713e103859-link">实时选取外汇行情多价源最优价</a></div></div></li><li role="treeitem"><div data-tocid="外汇掉期估值计算-d9713e103905" class="topicref" data-id="外汇掉期估值计算" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/FxSwapValuation.html" id="外汇掉期估值计算-d9713e103905-link">外汇掉期估值计算</a></div></div></li><li role="treeitem"><div data-tocid="因子计算平台构建-d9713e103951" class="topicref" data-id="因子计算平台构建" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/Python_Celery.html" id="因子计算平台构建-d9713e103951-link">因子计算平台构建</a></div></div></li><li role="treeitem"><div data-tocid="因子计算最佳实践-d9713e103997" class="topicref" data-id="因子计算最佳实践" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/best_practice_for_factor_calculation.html" id="因子计算最佳实践-d9713e103997-link">因子计算最佳实践</a></div></div></li><li role="treeitem"><div data-tocid="mvo_tutorial-d9713e104043" class="topicref" data-id="mvo_tutorial" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/MVO.html" id="mvo_tutorial-d9713e104043-link">优化投资组合：DolphinDB 最优化求解系列函数应用指南</a></div></div></li><li role="treeitem"><div data-tocid="中高频多因子库存储最佳实践-d9713e104090" class="topicref" data-id="中高频多因子库存储最佳实践" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/best_practices_for_multi_factor.html" id="中高频多因子库存储最佳实践-d9713e104090-link">中高频多因子库存储最佳实践</a></div></div></li><li role="treeitem" class="active"><div data-tocid="alphalens-在-dolphindb-中的应用因子分析建模实践-d9713e104136" class="topicref" data-id="alphalens-在-dolphindb-中的应用因子分析建模实践" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/Practical_Factor_Analysis_Modeling.html" id="alphalens-在-dolphindb-中的应用因子分析建模实践-d9713e104136-link">Alphalens 在 DolphinDB 中的应用：因子分析建模实践</a></div></div></li><li role="treeitem"><div data-tocid="dolphindb-与-dolphinscheduler-的集成-d9713e104182" class="topicref" data-id="dolphindb-与-dolphinscheduler-的集成" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/dolphinscheduler_integration.html" id="dolphindb-与-dolphinscheduler-的集成-d9713e104182-link">DolphinDB 与 DolphinScheduler 的集成</a></div></div></li><li role="treeitem"><div data-tocid="dolphindb-与-python-airflow-最佳实践-d9713e104228" class="topicref" data-id="dolphindb-与-python-airflow-最佳实践" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/ddb_airflow.html" id="dolphindb-与-python-airflow-最佳实践-d9713e104228-link">DolphinDB 与 Python AirFlow 最佳实践</a></div></div></li><li role="treeitem"><div data-tocid="gplearn-d9713e104274" class="topicref" data-id="gplearn" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/gplearn.html" id="gplearn-d9713e104274-link">Shark GPLearn 快速上手</a></div></div></li><li role="treeitem"><div data-tocid="利用jit加速计算-etf-期权隐含波动率和希腊值-d9713e104320" class="topicref" data-id="利用jit加速计算-etf-期权隐含波动率和希腊值" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/IV_Greeks_Calculation_for_ETF_Options_Using_JIT.html" id="利用jit加速计算-etf-期权隐含波动率和希腊值-d9713e104320-link">利用JIT加速计算 ETF 期权隐含波动率和希腊值</a></div></div></li><li role="treeitem"><div data-tocid="基于-dolphindb-的-brinson-绩效归因模型实践-d9713e104366" class="topicref" data-id="基于-dolphindb-的-brinson-绩效归因模型实践" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/brinson.html" id="基于-dolphindb-的-brinson-绩效归因模型实践-d9713e104366-link">基于 DolphinDB 的 Brinson 绩效归因模型实践</a></div></div></li><li role="treeitem"><div data-tocid="基于-dolphindb-的-campisi-绩效归因模型实践-d9713e104412" class="topicref" data-id="基于-dolphindb-的-campisi-绩效归因模型实践" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/campisi.html" id="基于-dolphindb-的-campisi-绩效归因模型实践-d9713e104412-link">基于 DolphinDB 的 Campisi 绩效归因模型实践</a></div></div></li><li role="treeitem"><div data-tocid="期货分钟频cta策略回测案例-d9713e104458" class="topicref" data-id="期货分钟频cta策略回测案例" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/futures_minute_frequency_cta_strategy_backtest_example.html" id="期货分钟频cta策略回测案例-d9713e104458-link">期货分钟频CTA策略回测案例</a></div></div></li><li role="treeitem"><div data-tocid="exchdata-交易所历史股票数据自动化导入功能模块使用教程-d9713e104504" class="topicref" data-id="exchdata-交易所历史股票数据自动化导入功能模块使用教程" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/exchdata_exchange_historical_stock_data_auto_import_module_tutorial.html" id="exchdata-交易所历史股票数据自动化导入功能模块使用教程-d9713e104504-link">ExchData 交易所历史股票数据自动化导入功能模块使用教程</a></div></div></li><li role="treeitem"><div data-tocid="ficc_func_uasge_and_performance-d9713e104550" class="topicref" data-id="ficc_func_uasge_and_performance" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/ficc_func_uasge_and_performance.html" id="ficc_func_uasge_and_performance-d9713e104550-link">FICC 固收系列函数使用示例及性能</a></div></div></li><li role="treeitem"><div data-tocid="title1-d9713e104597" class="topicref" data-id="title1" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/ficc_funcs_application.html" id="title1-d9713e104597-link">FICC 固收系列函数应用场景</a></div></div></li><li role="treeitem"><div data-tocid="最优化函数_socp_的使用及转化案例-d9713e104643" class="topicref" data-id="最优化函数_socp_的使用及转化案例" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/socp_usage_case.html" id="最优化函数_socp_的使用及转化案例-d9713e104643-link">最优化函数 socp 的使用及转化案例</a></div></div></li><li role="treeitem"><div data-tocid="k_line_calculation-d9713e104689" class="topicref" data-id="k_line_calculation" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/k_line_calculation%20.html" id="k_line_calculation-d9713e104689-link">基于期货快照行情数据计算合约 K 线以及主连行情</a></div></div></li><li role="treeitem"><div data-tocid="backtest_introduction_usage-d9713e104735" class="topicref" data-id="backtest_introduction_usage" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/backtest_introduction_usage.html" id="backtest_introduction_usage-d9713e104735-link">融资融券策略回测使用说明及回测案例</a></div></div></li><li role="treeitem"><div data-tocid="stock_backtest-d9713e104781" class="topicref" data-id="stock_backtest" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/stock_backtest.html" id="stock_backtest-d9713e104781-link">股票中低频投资组合回测案例实现</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e104827" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e104827-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming_engine_anomaly_alerts_2.html" id="tocId-d9713e104827-link">物联网场景案例</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105795" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105795-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/dolphindb_tensor_libtorch_tutorial.html" id="tocId-d9713e105795-link">机器学习</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105842" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105842-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/api_performance.html" id="tocId-d9713e105842-link">测试报告</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105982" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105982-link" class="wh-expand-btn"></span><div class="title"><a href="../rn/server/3_00_2.html" id="tocId-d9713e105982-link">版本说明</a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 版本发布历史</p></div></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        <button id="wh_close_topic_toc_button" class="close-toc-button d-none" aria-label="Toggle topic table of content" aria-controls="wh_topic_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        <div class=" wh_topic_content body "><main role="main"><article class="- topic/topic topic" role="article" aria-labelledby="ariaid-title1"><h1 class="- topic/title title topictitle1" id="ariaid-title1">Alphalens 在 DolphinDB 中的应用：因子分析建模实践</h1><div class="- topic/body body"><p class="- topic/p p">多因子投研一直都是量化投资领域当中的重要基石，Alphalens 和 DolphinDB，作为知名的单因子分析框架和基于高性能时序数据库的时序计算平台，无疑是备受瞩目的两大因子投研利器。当二者相结合，将碰撞出怎样令人期待的火花？</p></div><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title2" id="1-alphalens-和-dolphindb-的简介"><h2 class="- topic/title title topictitle2" id="ariaid-title2">1. Alphalens 和 DolphinDB 的简介</h2><div class="- topic/body body"><p class="- topic/p p">Alphalens 是 Quantopian 用 Python 开发的一个因子分析（评价）工具包。我们用 DolphinDB 的脚本语言实现了一个模块，这样就可以在 DolphinDB Server 上直接使用这个工具，不仅方便，也大大提升了性能。</p><br/><img class="- topic/image image" src="images/Practical_Factor_Analysis_Modeling/1_1.png"/><br/></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title3" id="2-alphalens-因子分析模块介绍"><h2 class="- topic/title title topictitle2" id="ariaid-title3">2. Alphalens 因子分析模块介绍</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title4" id="21-alphalens-模块架构和基本概念"><h3 class="- topic/title title topictitle3" id="ariaid-title4">2.1 Alphalens 模块架构和基本概念</h3><div class="- topic/body body"><p class="- topic/p p">对于该模块的使用，可以抽象为三个层级:</p><ul class="- topic/ul ul"><li class="- topic/li li">数据存储层：利用 DolphinDB 的分布式存储引擎和计算引擎，可以高效存储和并行计算海量的行情、因子数据。</li><li class="- topic/li li">计算分析层：基于 DolphinDB 脚本语言实现的 Alphalens 模块，能够提供专业的因子分析框架。对数据进行数据清洗、投资组合评估等复杂业务逻辑的计算处理。</li><li class="- topic/li li">可视化交互层：基于 Python 的 Jupyter Notebook，通过交互式的数据可视化工具展现分析结果。</li></ul><p class="- topic/p p">在执行效率上，对于大量因子的单因子分析，可以通过 DolphinDB 内置的 <a class="- topic/xref xref" href="https://docs.dolphindb.cn/zh/funcs/ho_funcs/peach.html" target="_blank" rel="external noopener">peach</a> 函数并发调用 Alphalens 分析模块，同时借助高效执行的向量化引擎进行具体计算，从而在保证准确性的同时充分利用 DolphinDB 分布式计算框架，获得卓越的执行性能。</p><p class="- topic/p p">在基本概念上，DolphinDB Alphalens 模块的函数名、参数、参数默认值与 Python 版本高度保持一致，以降低学习和迁移成本。</p><p class="- topic/p p">在作图功能上，DolphinDB 开发了 <code class="+ topic/ph pr-d/codeph ph codeph">alphalens_plotting.py</code> ，方便用户在 Python 环境中对计算结果进行可视化。首先，用户通过 Python api 与 DolphinDB Server 建立连接。然后，通过 api 运行 <code class="+ topic/ph pr-d/codeph ph codeph">plot_create_full_tear_sheet</code> 和 <code class="+ topic/ph pr-d/codeph ph codeph">plot_create_returns_tear_sheet</code> 函数获取计算结果。最后，利用 Pyfolio  库进行结果可视化绘制。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title5" id="22-alphalens-模块常见使用流程"><h3 class="- topic/title title topictitle3" id="ariaid-title5">2.2 Alphalens 模块常见使用流程</h3><div class="- topic/body body"><p class="- topic/p p">在 DolphinDB 中调用 Alphalens 模块，通常分为三步：</p><ul class="- topic/ul ul"><li class="- topic/li li">STEP1: 准备因子和行情数据</li><li class="- topic/li li">STEP2: <code class="+ topic/ph pr-d/codeph ph codeph">get_clean_factor_and_forward_returns</code> 生成中间分析结果</li><li class="- topic/li li">STEP3: 调用对应函数获取相关分析结果</li></ul><br/><img class="- topic/image image" src="images/Practical_Factor_Analysis_Modeling/2_2.png"/><br/><p class="- topic/p p">在接下来的内容中，我们将带大家一起实现，从数据准备到中间结果分析，再到调用分析函数，最终通过 Jupyter notebook 实现可视化的全流程。</p></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title6" id="3-数据准备"><h2 class="- topic/title title topictitle2" id="ariaid-title6">3. 数据准备</h2><div class="- topic/body body"><p class="- topic/p p">数据是量化投资的基石，了解我们所使用的数据结构是开启因子投研之旅的第一步。本章节，我们将介绍本次教程我们在 DolphinDB 中所使用的股票交易数据结构，并基于这些原始数据构建所需的因子特征。</p><p class="- topic/p p">注意，在开始之前，请读者下载文末的压缩文件，并将其中的 <code class="+ topic/ph pr-d/codeph ph codeph">alpahlens.dos</code> 文件放至 <code class="+ topic/ph pr-d/codeph ph codeph">&lt;YOUR_DOLPHINDB_PATH&gt;/server/modules/</code> 路径下。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title7" id="31-dolphindb-中获取股票数据"><h3 class="- topic/title title topictitle3" id="ariaid-title7">3.1 DolphinDB 中获取股票数据</h3><div class="- topic/body body"><p class="- topic/p p">此处我们通过函数 <code class="+ topic/ph pr-d/codeph ph codeph">genDayKDataAndSaveToDFS</code> 来生成5000只股票的日频模拟数据，包含股票代码、交易时间、开盘价、最高价、最低价、收盘价、成交量和成交均价等常见字段。该函数的数据生成方式采用随机数模拟，虽然简单直观，但也存在一些局限性，例如：</p><ul class="- topic/ul ul"><li class="- topic/li li">无法真实反映不同标的之间的相关性</li><li class="- topic/li li">数据分布可能与真实市场存在偏差</li><li class="- topic/li li">无法模拟包括放假期间在内的所有交易情况</li></ul><p class="- topic/p p">我们鼓励读者采用自有的真实数据进行试验~ 如果您有对应的数据，可以通过 <code class="+ topic/ph pr-d/codeph ph codeph">loadText</code> 函数进行导入，只要简单修改为对应字段名后即可运行。</p><p class="- topic/p p">当然，受限于篇幅，本次案例暂时只使用了简单的随机数模拟方法。让我们通过如下脚本生成一年的模拟数据并落盘保存，以供后续内容使用：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>def genDayKDataAndSaveToDFS(securityIdNum, startDate, endDate) {
    securityId = lpad(string(1..securityIdNum), 6, "000000") $ SYMBOL
	tradeDate = table(getMarketCalendar("CFFEX", startDate , endDate) as tradeDate)
	// Use matrix and for loop way to generate simulated daily K line.
	randStartOpen = double(int(randNormal(100, 30, size(securityId))))
	openList = [randStartOpen]
	for (day in tradeDate[1:]){
			openList.append!(openList[size(openList)-1] + randNormal(0, 2, size(securityId)))
	}
	res = cj(table(securityId as securityId), tradeDate)
	update res set open = flatten(openList.transpose())
	update res set high = round(open + rand(0.2, size(res)), 2)
	update res set low = round(high - rand(0.4, size(res)), 2)
	update res set close = round(open + norm(0, 0.1, size(res)), 2)
	update res set close = iif(close &gt;= high, high, close)  // close should be less than high
	update res set close = iif(close &lt;= low, low, close)  // close should be greater than low
	update res set volume = rand(100000, size(res))
	update res set amount = round(close*volume, 2)
	update res set vwap = round(close, 2)
    if (existsDatabase("dfs://alphalensTutorial")) {
        dropDatabase("dfs://alphalensTutorial")
    }
    db = database("dfs://alphalensTutorial", VALUE, `000001`000002)
    pt = db.createPartitionedTable(res, "dayK", `securityId)
    pt.append!(res)
}

// 生成模拟日 K 线
genDayKDataAndSaveToDFS(securityIdNum=5000, startDate=2024.01.01, endDate=2024.12.31)

// 观察日 K 线数据结构
select top 100 * from loadTable("dfs://alphalensTutorial", "dayK")

// securityId tradeDate	 open	high	low	    close	volume	amount	     vwap
// 000001	  2024.01.02 109	109.16	109.15	109.15	52,221	5,699,922.15 109.15
// 000001	  2024.01.03 107.41	107.44	107.08	107.43	65,895	7,079,099.85 107.43
// 000001	  2024.01.04 107.81	107.92	107.69	107.69	60,790	6,546,475.1	 107.69
// 000001	  2024.01.05 108.05	108.22	107.94	108.08	22,104	2,389,000.32 108.08
// 000001	  2024.01.08 106.83	106.84	106.59	106.76	78,025	8,329,949	 106.76</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title8" id="32-数据预处理和特征提取"><h3 class="- topic/title title topictitle3" id="ariaid-title8">3.2 数据预处理和特征提取</h3><div class="- topic/body body"><p class="- topic/p p">在获取原始数据的基础上，我们需要进一步对数据进行清洗和特征工程，以获得真正具有投资参考价值的因子。这里我们将通过 DolphinDB 内置的 Ta-lib 技术指标库，计算四个广为投资界所熟知的技术分析因子：RSI、CCI、PPO 和 WILLR。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 加载 Ta-lib 技术指标模组
use ta
go

// 计算因子
dayK = loadTable("dfs://alphalensTutorial", "dayK")
rsi = select tradeDate as tradetime, securityId as symbol, "rsi" as factorname, ta::rsi(close, timePeriod=14) as value from dayK context by securityId
cci = select tradeDate as tradetime, securityId as symbol, "cci" as factorname, ta::cci(high, low, close, timePeriod=14) as value from dayK context by securityId
ppo = select tradeDate as tradetime, securityId as symbol, "ppo" as factorname, ta::ppo(close, fastPeriod=12, slowPeriod=26) as value from dayK context by securityId
willr = select tradeDate as tradetime, securityId as symbol, "willr" as factorname, ta::willr(high, low, close, timePeriod=14) as value from dayK context by securityId

// 观察因子结果
select top 100 * from rsi where value is not null

// tradetime	symbol	 factorname	   value
// 2024.01.22	000001	 rsi	       54.46
// 2024.01.23	000001	 rsi	       54.39
// 2024.01.24	000001	 rsi	       52.64
// 2024.01.25	000001	 rsi	       56.30
// 2024.01.26	000001	 rsi	       62.42</code></pre><p class="- topic/p p">技术分析作为最传统的量化分析方法，旨在从价格走势中挖掘出一些规律性的钝化模式，并据此做出趋势判断和投资决策。就我们这里使用的四个因子而言，他们的大致含义如下：</p><ul class="- topic/ul ul"><li class="- topic/li li">RSI 代表相对强弱指标，通过分析价格变动的力度及反转情况来衡量市场买卖力量</li><li class="- topic/li li">CCI 则结合价格、均价及时间三个因素，衡量当前价位偏离过去的离析程度</li><li class="- topic/li li">PPO为强弱震荡指标，可分析多空双方实力的消长</li><li class="- topic/li li">WILLR 则把当前价位与历史价位区间加以比较，进而发现超买超卖的价格区间</li></ul><p class="- topic/p p">这四个经典技术指标，从不同角度刻画了不同的价格波动模式，可作为我们投资决策的参考依据。当然，无论是 RSI、CCI 还是 PPO、WILLR，您在具体应用时往往需要根据标的品种和投资策略对参数进行细致的调整和优化，以期真正发挥其效用。</p><p class="- topic/p p">关于这些因子，想了解更多，可以访问：</p><ul class="- topic/ul ul"><li class="- topic/li li">RSI:  <a class="- topic/xref xref" href="https://en.wikipedia.org/wiki/Relative_strength_index" target="_blank" rel="external noopener">Relative strength index</a></li><li class="- topic/li li">CCI:  <a class="- topic/xref xref" href="https://en.wikipedia.org/wiki/Commodity_channel_index" target="_blank" rel="external noopener">Commodity channel index</a></li><li class="- topic/li li">PPO:  <a class="- topic/xref xref" href="https://www.investopedia.com/terms/p/ppo.asp#:~:text=The%20percentage%20price%20oscillator%20(PPO)%20is%20a%20technical%20momentum%20indicator,exponential%20moving%20average%20(EMA)." target="_blank" rel="external noopener">Percentage Price Oscillator (PPO): Definition and How It's Used</a></li><li class="- topic/li li">WILLR:  <a class="- topic/xref xref" href="https://en.wikipedia.org/wiki/Williams_%25R" target="_blank" rel="external noopener">Williams %R</a></li></ul><p class="- topic/p p">为方便后续使用，此处因子数据以窄表的形式进行存储：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 建立因子库
def creatSingleModelDataBase(dbname, tbname) {
	if (existsDatabase(dbname)) {
		dropDatabase(dbname)
	}
	db = database(directory=dbname, partitionType=VALUE, partitionScheme=`factor1`factor2, engine="TSDB")
	factorPt = db.createPartitionedTable(table = table(1:0, ["tradetime", "symbol", "factorname", "value"], [TIMESTAMP, SYMBOL, SYMBOL, DOUBLE]), tableName=tbname, partitionColumns=["factorname"], sortColumns=[`tradetime])
    return factorPt
}

// 创建因子数据库
factorPt = creatSingleModelDataBase("dfs://alphalensTutorialFactor", "factor")

// 写入因子库
factorPt.append!(rsi)
factorPt.append!(cci)
factorPt.append!(ppo)
factorPt.append!(willr)</code></pre></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title9" id="4-案例实战单因子分析"><h2 class="- topic/title title topictitle2" id="ariaid-title9">4. 案例实战：单因子分析</h2><div class="- topic/body body"><p class="- topic/p p">作为多因子量化投资中最基础、也是最为关键的一环，单因子分析的重要性不言而喻。只有通过对单个因子进行彻底的剖析和评估，我们才能全面认清其实际预测能力、持续性等内在特质，从而审慎决定是否纳入投资组合，以及应该赋予何种权重。</p><p class="- topic/p p">Alphalens 提供了系统而全面的单因子分析框架，能够从多个维度审视某一因子的表现,包括收益率、换手率、信息比率等多个视角，让我们能够多角度评估某一因子的表现，从而对其形成准确全面的认识和判断。</p><p class="- topic/p p">在本例中，我们将以 RSI 相对强弱指标这一经典技术因子为例，结合 Alphalens 强大的单因子分析能力，为大家展示如何开展全方位的单因子分析之旅。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title10" id="41-为-alphalens-准备数据"><h3 class="- topic/title title topictitle3" id="ariaid-title10">4.1 为 Alphalens 准备数据</h3><div class="- topic/body body"><p class="- topic/p p">Alphalens 单因子分析的框架始于 <code class="+ topic/ph pr-d/codeph ph codeph">get_clean_factor_and_forward_returns</code> 这一函数生成的 <code class="+ topic/ph pr-d/codeph ph codeph">factor_data</code> 中间结果。这个函数主要有两个数据入参，分别为 <code class="+ topic/ph pr-d/codeph ph codeph">factor</code> 和 <code class="+ topic/ph pr-d/codeph ph codeph">prices</code>。对于 <code class="+ topic/ph pr-d/codeph ph codeph">factor</code> 来说，它是一个包含 <code class="+ topic/ph pr-d/codeph ph codeph">["date", "asset", "factor"]</code> 三列的窄表。<code class="+ topic/ph pr-d/codeph ph codeph">prices</code> 是一个包含所有标的价格的宽表。</p><p class="- topic/p p">在 DolphinDB 中，我们可以轻松获取这两个入参数据：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 取出 RSI 因子数据
factorPt = loadTable("dfs://alphalensTutorialFactor", "factor")
RSI = select tradetime as date, symbol as asset, value as factor from factorPt where factorname = "rsi"

// 观察 RSI 因子数据
select top 100 * from RSI where factor is not null

// date		  	asset	factor
// 2024.01.22	000001	54.46
// 2024.01.22	000002	53.10
// 2024.01.22	000003	67.59
// 2024.01.22	000004	61.27
// 2024.01.22	000005	26.29

// 准备收盘价数据
dayKPt = loadTable("dfs://alphalensTutorial", "dayK")
dayClose = select close from dayKPt pivot by tradeDate as date, securityId

// 观察日 K 线数据
select top 100 * from dayClose

// tradeDate   000001  000002	000003  000004	000005
// 2024.01.02  109.15  109.15	109.15  109.15	109.15
// 2024.01.03  107.43  107.43	107.43  107.43	107.43
// 2024.01.04  107.69  107.69	107.69  107.69	107.69
// 2024.01.05  108.08  108.08	108.08  108.08	108.08</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title11" id="42-调用-get-clean-factor-and-forward-returns-生成中间分析结果"><h3 class="- topic/title title topictitle3" id="ariaid-title11">4.2 调用 get_clean_factor_and_forward_returns 生成中间分析结果</h3><div class="- topic/body body"><p class="- topic/p p">数据入参准备就绪后，我们可以调用 <code class="+ topic/ph pr-d/codeph ph codeph">get_clean_factor_and_forward_returns</code> 函数，它会将数据格式化为  Alphalens 在后续进一步分析中可用的形式。</p><p class="- topic/p p">该函数主要需要两个重要参数：分位数 <code class="+ topic/ph pr-d/codeph ph codeph">quantiles</code> 和持仓周期 <code class="+ topic/ph pr-d/codeph ph codeph">periods</code> 。</p><p class="- topic/p p">Alphalens 的因子评估过程，是基于因子值与其未来回报之间的关联分析。持仓周期参数指定了我们希望研究的未来回报时间范围。在本例中，我们关注1天、5天和10天三个不同的持仓周期下的收益表现，Alphalens 将会分别计算在这三个时间段内持有每个因子值可获得的回报。不过，Alphalens 在进行单因子回测时，暂不考虑交易佣金或价格波动成本。</p><p class="- topic/p p">由于金融市场数据往往存在较大噪声，很难直接发现特定因子值与未来回报之间的确切关联性。因此，Alphalens 的分析是基于因子的分位数统计数据,而非原始因子值。每日都会根据因子值的分布，将其等分为若干个分位数桶。这一分组处理的目的，是为了提高信噪比，使因子与回报之间的关系更加清晰可辨。</p><p class="- topic/p p">通过以下代码，我们可以在 DolphinDB 中调用该函数，获取中间分析结果：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 加载 Alphalens 模组
use alphalens 
go

// 获取中间分析结果
RSI_cleaned = select date(date) as date, asset, factor from RSI
cleanFactorAndForwardReturns = get_clean_factor_and_forward_returns(
    factor=RSI_cleaned,
    prices=dayClose,
    groupby=NULL,
    binning_by_group=false, 
    quantiles=5,  // 分5组
    bins=NULL,  
    periods=[1, 5, 10],  // 持仓周期
    filter_zscore=NULL,  // 异常值过滤
    groupby_labels=NULL,
    max_loss=0.35,
    zero_aware=false,
    cumulative_returns=true  // 累计收益
)

// 观察单因子分析结果
select top 100 date, asset, forward_returns_1D, forward_returns_5D, forward_returns_10D, factor, factor_quantile from cleanFactorAndForwardReturns

// 为方便展示，此处仅保留四位小数
// date			asset	forward_returns_1D	forward_returns_5D	forward_returns_10D	factor	 factor_quantile
// 2024.01.22	000001	-0.0028				-0.0158				-0.0404				26.5229	 1
// 2024.01.22	000002	-0.0045				-0.0754				-0.0734				27.2773	 1
// 2024.01.22	000003	-0.0344				-0.0927				-0.0859				59.6302	 4
// 2024.01.22	000005	0.0255				0.0378				0.056				67.2281	 5</code></pre><p class="- topic/p p">我们可以看到,最终输出的结果数据中，date 和 asset 是对应的日期和标的信息。forward_returns_1D/5D/10D三列则分别记录了在对应的1、5、10天持仓周期内，该观测点的未来收益情况。而 factor 和 factor_quantile 则为原始因子值及其对应的分位数分组。</p><p class="- topic/p p">这份格式化的结果数据，为 Alphalens 后续全面分析做好了准备。想要了解</p><p class="- topic/p p">get_clean_factor_and_forward_returns 参数的更多细节，可以访问 Alphalens 官方文档：</p><p class="- topic/p p"><a class="- topic/xref xref" href="https://quantopian.github.io/alphalens/alphalens.html?highlight=get_clean#alphalens.utils.get_clean_factor_and_forward_returns" target="_blank" rel="external noopener">Alphalens—Alphalens 0.2.1+48.gad0be10 documentation</a></p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title12" id="43-获取单因子分析结果"><h3 class="- topic/title title topictitle3" id="ariaid-title12">4.3 获取单因子分析结果</h3><div class="- topic/body body"><p class="- topic/p p">获取因子分析的原始数据后，我们就可以调用 Alphalens 模块的 <code class="+ topic/ph pr-d/codeph ph codeph">plot_create_full_tear_sheet</code> 函数，对因子进行全面的单因子分析。这个函数会输出一个包含多个分析结果的字典对象：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 获取因子分析结果
fullTearSheet = plot_create_full_tear_sheet(
	factor_data=cleanFactorAndForwardReturns, 
	long_short=true,  
	group_neutral=false,
	by_group=false  // 是否对每组分别进行分析
)</code></pre><p class="- topic/p p">在调用时，我们设置了几个重要参数：</p><ul class="- topic/ul ul"><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">long_short=true</code>：表示计算多空组合</li><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">group_neutral=false</code>：表示不进行群组中性化处理</li><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">by_group=false</code>：表示对所有数据进行整体分析，不按组别分开分析</li></ul><p class="- topic/p p">通过遍历输出 <code class="+ topic/ph pr-d/codeph ph codeph">fullTearSheet</code> 的键值，我们可以看到它的结构主要包含3个部分：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 查看结果表层级关系
for (key in fullTearSheet.keys()) {
	print(key)
	if (form(fullTearSheet[key]) == 5) {
		for (subKey in fullTearSheet[key].keys()) {
			print("    " + subKey)
		}
	}
}

// .
// ├── plot_turnover_tear_sheet
// │   ├── Mean_Factor_Rank_Autocorrelation
// │   ├── Mean_Turnover
// │   ├── autocorrelation
// │   └── quantile_turnover
// ├── plot_information_tear_sheet
// │   ├── mean_monthly_ic
// │   ├── ic_ts
// │   ├── Information_Analysis
// │   └── ic
// ├── plot_returns_tear_sheet
// │   ├── plot_cumulative_returns_1
// │   ├── cumulative_factor_data
// │   ├── cum_ret
// │   ├── std_spread_quant
// │   ├── returns_analysis
// │   ├── mean_ret_spread_quant
// │   ├── mean_quant_rateret_bydate
// │   ├── mean_quant_ret_bydate
// │   ├── factor_returns_
// │   └── mean_quant_rateret
// └── quantile_stats</code></pre><p class="- topic/p p">其中：</p><ul class="- topic/ul ul"><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">plot_turnover_tear_sheet</code> 着重分析了投资组合的换手率等交易行为指标</li><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">plot_information_tear_sheet</code> 则集中于评估因子与收益的预测相关性,涵盖 IC 等关键信息论指标</li><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">plot_returns_tear_sheet</code> 模块则全面评估了投资组合在不同时间窗口下的绝对和相对收益表现</li></ul><p class="- topic/p p">每个模块下又包含多个具体的分析项，如均值、分位数等，以及相应的可用于图表展示的数据。例如 <code class="+ topic/ph pr-d/codeph ph codeph">quantile_stats</code> 就是按分组给出了统计学上的诸多常见指标。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 查看 quantile_stats 结果
quantile_stats = fullTearSheet["quantile_stats"]
select top 100 * from quantile_stats</code></pre><br/><img class="- topic/image image" src="images/Practical_Factor_Analysis_Modeling/5_1.png"/><br/><p class="- topic/p p">通过这一完整而系统的分析结果，我们可以从多个角度来审视某一因子的实际表现。</p><p class="- topic/p p">通过 <code class="+ topic/ph pr-d/codeph ph codeph">plot</code> 函数，我们可以先来简单观察一下因子收益情况：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 查看单因子多空收益率曲线
plot_cumulative_returns_1 = fullTearSheet["plot_returns_tear_sheet"]["plot_cumulative_returns_1"]
plot(plot_cumulative_returns_1.forward_returns_1D, plot_cumulative_returns_1.date)</code></pre><br/><img class="- topic/image image" src="images/Practical_Factor_Analysis_Modeling/4_3.png"/><br/><p class="- topic/p p">最后，我们将结果表在会话间共享，以供后续可视化使用：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 共享因子结果表，以便后续使用
share(cleanFactorAndForwardReturns, `factor_data)</code></pre></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title13" id="5-通过-jupyter-notebook-进行可视化"><h2 class="- topic/title title topictitle2" id="ariaid-title13">5. 通过 Jupyter notebook 进行可视化</h2><div class="- topic/body body"><p class="- topic/p p">对于如此复杂全面的单因子分析结果，我们自然需要一个强大的数据可视化工具，来将其直观呈现，帮助我们深入洞察其中蕴含的丰富信息。在这一过程中，Jupyter Notebook 将会是我们的得力助手。</p><p class="- topic/p p">这一章里，我们将介绍如何通过 DolphinDB Python API 获取分析数据，并使用 Jupyter notebook 进行可视化的交互。</p><p class="- topic/p p">注意，这里我们会使用到 <code class="+ topic/ph pr-d/codeph ph codeph">alphalens_plotting.py</code> 文件以辅助绘图，这个文件会包含在文章末尾我们将提供的完整的压缩文件当中，方便读者运行完整流程。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title14" id="51-因子分布分析"><h3 class="- topic/title title topictitle3" id="ariaid-title14">5.1 因子分布分析</h3><div class="- topic/body body"><p class="- topic/p p">这一小节将使用 <code class="+ topic/ph pr-d/codeph ph codeph">plot_quantile_statistics_table</code> 函数绘制因子在不同分位数分组下的统计表格，展示因子在不同分组下的分布情况。通过观察表格中的统计数据，我们可以直观地了解每个分组的因子值范围、均值、中位数等分布特征，为后续分析奠定基础。</p><p class="- topic/p p">在开始之前，我们先通过以下代码加载所需模块并建立和 DolphinDB 的连接：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>import dolphindb as ddb
import pandas as pd
import matplotlib.pyplot as plt
import alphalens_plotting as plotting
import warnings

warnings.filterwarnings("ignore")

## Connect to DolphinDB server
s = ddb.session()
s.connect("localhost", 8848, "admin", "123456")

## 在该会话中加载 Alphalens 模块
s.run("use alphalens")</code></pre><p class="- topic/p p">随后，使用 <code class="+ topic/ph pr-d/codeph ph codeph">plot_quantile_statistics_table</code> 函数来绘制表格，观察因子在不同分组下的分布：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>## 因子分布分析
script_plot_quantile_statistics_table = '''
    plot_quantile_statistics_table(factor_data)
'''
ret = s.run(script_plot_quantile_statistics_table)
plotting.plot_quantile_statistics_table(ret)</code></pre><br/><img class="- topic/image image" src="images/Practical_Factor_Analysis_Modeling/5_1.png"/><br/></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title15" id="52-因子收益分析"><h3 class="- topic/title title topictitle3" id="ariaid-title15">5.2 因子收益分析</h3><div class="- topic/body body"><p class="- topic/p p">收益分析，是单因子评估过程中最为核心和关键的一个环节。本小节将调用 <code class="+ topic/ph pr-d/codeph ph codeph">plot_create_returns_tear_sheet</code> 函数，生成一组全面的因子收益分析图表，包括不同持仓期内的累计收益率走势、按分位数分组的收益分布等。有了这些丰富的视觉呈现，我们就可以对因子的盈利能力有更直观的感受，并分析其在不同市场环境下的表现，为投资策略的进一步优化提供方向，如挖掘其表现最佳的持仓期限、结合不同市场环境作出调整等。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>## 因子收益分析
script_plot_create_returns_tear_sheet = '''
    plot_create_returns_tear_sheet(factor_data,by_group=false, long_short=true, group_neutral=false)
'''
ret = s.run(script_plot_create_returns_tear_sheet)
plotting.create_returns_tear_sheet(ret, save_name="returns_tear_sheet.png", save_dpi=500)</code></pre><br/><img class="- topic/image image" src="images/Practical_Factor_Analysis_Modeling/5_2.png"/><br/></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title16" id="53-因子-ic-分析"><h3 class="- topic/title title topictitle3" id="ariaid-title16">5.3 因子 IC 分析</h3><div class="- topic/body body"><p class="- topic/p p">IC (Information Coefficient) 是衡量因子预测力的一个核心指标，反映了因子值与实际收益之间的相关性。一个有效的因子，应当具备较高的 IC 绝对值，并能在一段时间内保持 IC 的持续性和稳定性。这里我们将使用 <code class="+ topic/ph pr-d/codeph ph codeph">create_information_tear_sheet</code> 函数绘制 IC 分析的相关图表，如 IC 时间序列、月度 IC 均值等。</p><p class="- topic/p p">通过对上述一系列 IC 分析图表的综合分析，我们可以较为全面地评估该因子的预测力和有效性，判断其是否值得信赖和持续投资。例如，如果一个因子在长期内保持着较高且稳定的 IC 水平，那它就很可能是一个值得重视的有效因子。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>## 因子 IC 分析
script_plot_create_information_tear_sheet = '''
    create_information_tear_sheet(factor_data, group_neutral=false, by_group=false)
'''
information_tear_sheet = s.run(script_plot_create_information_tear_sheet)
plotting.create_information_tear_sheet(information_tear_sheet, save_name="information_tear_sheet.png", save_dpi=500)</code></pre><br/><img class="- topic/image image" src="images/Practical_Factor_Analysis_Modeling/5_3_1.png"/><br/><br/><img class="- topic/image image" src="images/Practical_Factor_Analysis_Modeling/5_3_2.png"/><br/></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title17" id="54-因子换手率分析"><h3 class="- topic/title title topictitle3" id="ariaid-title17">5.4 因子换手率分析</h3><div class="- topic/body body"><p class="- topic/p p">投资组合的换手率是评估交易活跃程度和执行成本的一个重要指标。高换手率意味着更频繁的交易，从而带来更高的交易成本和潜在的负面冲击。而低换手率则可能导致投资组合无法及时调整，错失获利机会。本小节通过 <code class="+ topic/ph pr-d/codeph ph codeph">create_turnover_tear_sheet</code> 函数生成换手率分析的可视化图表，展示不同持仓期下的组合平均换手率、分位数换手率等数据，帮助我们评估因子的交易活跃程度和执行成本。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>## 因子换手率分析
script_plot_create_turnover_tear_sheet = '''
    create_turnover_tear_sheet(factor_data, turnover_periods_=NULL)
'''
turnover_tear_sheet = s.run(script_plot_create_turnover_tear_sheet)
plotting.create_turnover_tear_sheet(turnover_tear_sheet, save_name="turnover_tear_sheet.png", save_dpi=500)</code></pre><div class="table-container"><table class="- topic/table table" data-cols="4"><caption></caption><colgroup><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="54-因子换手率分析__entry__1">factor_quantile</th><th class="- topic/entry entry colsep-0 rowsep-0" id="54-因子换手率分析__entry__2">1</th><th class="- topic/entry entry colsep-0 rowsep-0" id="54-因子换手率分析__entry__3">5</th><th class="- topic/entry entry colsep-0 rowsep-0" id="54-因子换手率分析__entry__4">10</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__1">Quantile_5_Mean_Turnover</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__2">0.2068110599078341</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__3">0.4387934272300466</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__4">0.5752259615384608</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__1">Quantile_4_Mean_Turnover</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__2">0.4671612903225802</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__3">0.6975492957746474</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__4">0.7520432692307693</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__1">Quantile_3_Mean_Turnover</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__2">0.5238525345622125</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__3">0.7296760563380287</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__4">0.7740288461538462</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__1">Quantile_2_Mean_Turnover</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__2">0.4672466519655457</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__3">0.6974380220718241</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__4">0.7533617680396527</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__1">Quantile_1_Mean_Turnover</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__2">0.2066286424673523</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__3">0.43826235155343113</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__4">0.5721353565103563</td></tr></tbody></table></div><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="54-因子换手率分析__entry__25">periods</th><th class="- topic/entry entry colsep-0 rowsep-0" id="54-因子换手率分析__entry__26">Mean_Factor_Rank_Autocorrelation</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__25">1</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__26">0.9245</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__25">5</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__26">0.6802</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__25">10</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="54-因子换手率分析__entry__26">0.4666</td></tr></tbody></table></div><br/><img class="- topic/image image" src="images/Practical_Factor_Analysis_Modeling/5_4_2.png"/><br/></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title18" id="6-总结和展望"><h2 class="- topic/title title topictitle2" id="ariaid-title18">6. 总结和展望</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title19" id="61-alphalens--dolphindb-的优势"><h3 class="- topic/title title topictitle3" id="ariaid-title19">6.1 Alphalens + DolphinDB 的优势</h3><div class="- topic/body body"><p class="- topic/p p">通过本案例，我们了解了如何利用 DolphinDB 当中的 Alphalens 模块进行单因子分析，清晰地看到了将 Alphalens 这一专业的单因子分析框架与 DolphinDB 这一强大的时序数据领域的高效能引擎相结合所带来的巨大优势:</p><ul class="- topic/ul ul"><li class="- topic/li li">数据处理效率的提升：DolphinDB 作为专门针对金融时序数据优化的分布式数据库，能高效存储和处理大量金融时序数据，为后续分析奠定数据基础。</li><li class="- topic/li li">分析功能的完备性：Alphalens 作为专业的量化分析库，涵盖了从因子分布、收益分析、IC分析到换手率评估等多个核心维度，确保了分析结果的深度和全面性。</li><li class="- topic/li li">可视化探索的直观性：基于 Python 和 Jupyter notebook 的可视化探索，可以让分析结果更加直观和可交互，有助于进一步解读分析和优化因子表现。</li><li class="- topic/li li">工具链的无缝集成：通过 DolphinDB 的 Alphalens 模块，我们可以将两者结合，可以充分利用 DolphinDB 强大的数据处理能力，以及 Alphalens 丰富的量化分析函数库，形成高效、专业的单因子投研的工具链。</li></ul></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title20" id="62-量化投资的未来发展趋势"><h3 class="- topic/title title topictitle3" id="ariaid-title20">6.2 量化投资的未来发展趋势</h3><div class="- topic/body body"><p class="- topic/p p">单因子分析虽然是量化投资的重要基石，但远不止于此。随着技术的不断进步，量化投资正向多元化、智能化的方向演进：</p><ul class="- topic/ul ul"><li class="- topic/li li">高频交易时代的临近：<ul class="- topic/ul ul"><li class="- topic/li li">通过实时获取市场信号，抓住短暂的交易机遇将成为可能。DolphinDB 内置的流计算引擎功能将在这一过程中扮演关键角色。<a class="- topic/xref xref" href="https://docs.dolphindb.cn/zh/stream/str_intro.html" target="_blank" rel="external noopener">DolphinDB 流计算介绍</a></li></ul></li><li class="- topic/li li">投资组合优化的重要性与日俱增：<ul class="- topic/ul ul"><li class="- topic/li li">如何在控制风险的前提下，优化投资组合以获取最大收益，将成为投资者的核心需求。DolphinDB优化求解系列函数将为此提供强力支持。<a class="- topic/xref xref" href="https://zhuanlan.zhihu.com/p/687639598" target="_blank" rel="external noopener">《优化投资组合：DolphinDB 最优化求解系列函数应用指南》</a></li></ul></li><li class="- topic/li li">自动化因子挖掘成为投研重点：<ul class="- topic/ul ul"><li class="- topic/li li">DolphinDB 推出了 Shark GPLearn 高性能因子挖掘平台。相比传统依赖于人工设计和选择特征工程的因子挖掘方法，Shark 平台可以直接从数据库中读取数据，调用遗传算法进行自动因子挖掘，同时利用 GPU 加速遗传算法的适应度计算，提升因子挖掘效率。</li></ul></li></ul><p class="- topic/p p">量化投资的未来，将是智能决策、多策略融合、跨领域整合的新时代。DolphinDB 将紧跟量化投资发展趋势，在各个环节持续创新，为投资者带来更有价值的产品和服务。</p></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title21" id="附件"><h2 class="- topic/title title topictitle2" id="ariaid-title21">附件</h2><div class="- topic/body body"><p class="- topic/p p"><a class="- topic/xref xref" href="data/Practical_Factor_Analysis_Modeling/dolphindbAlpahlensTutorial.zip">dolphindbAlpahlensTutorial.zip</a></p></div></article></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div id="wh_topic_toc_content">
		                        
	                            <div class=" wh_topic_toc "><div class="wh_topic_label">在本页上</div><ul><li class="topic-item"><a href="#1-alphalens-%E5%92%8C-dolphindb-%E7%9A%84%E7%AE%80%E4%BB%8B" data-tocid="1-alphalens-和-dolphindb-的简介">1. Alphalens 和 DolphinDB 的简介</a></li><li class="topic-item"><a href="#2-alphalens-%E5%9B%A0%E5%AD%90%E5%88%86%E6%9E%90%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D" data-tocid="2-alphalens-因子分析模块介绍">2. Alphalens 因子分析模块介绍</a><ul><li class="topic-item"><a href="#21-alphalens-%E6%A8%A1%E5%9D%97%E6%9E%B6%E6%9E%84%E5%92%8C%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" data-tocid="21-alphalens-模块架构和基本概念">2.1 Alphalens 模块架构和基本概念</a></li><li class="topic-item"><a href="#22-alphalens-%E6%A8%A1%E5%9D%97%E5%B8%B8%E8%A7%81%E4%BD%BF%E7%94%A8%E6%B5%81%E7%A8%8B" data-tocid="22-alphalens-模块常见使用流程">2.2 Alphalens 模块常见使用流程</a></li></ul></li><li class="topic-item"><a href="#3-%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87" data-tocid="3-数据准备">3. 数据准备</a><ul><li class="topic-item"><a href="#31-dolphindb-%E4%B8%AD%E8%8E%B7%E5%8F%96%E8%82%A1%E7%A5%A8%E6%95%B0%E6%8D%AE" data-tocid="31-dolphindb-中获取股票数据">3.1 DolphinDB 中获取股票数据</a></li><li class="topic-item"><a href="#32-%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86%E5%92%8C%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96" data-tocid="32-数据预处理和特征提取">3.2 数据预处理和特征提取</a></li></ul></li><li class="topic-item"><a href="#4-%E6%A1%88%E4%BE%8B%E5%AE%9E%E6%88%98%E5%8D%95%E5%9B%A0%E5%AD%90%E5%88%86%E6%9E%90" data-tocid="4-案例实战单因子分析">4. 案例实战：单因子分析</a><ul><li class="topic-item"><a href="#41-%E4%B8%BA-alphalens-%E5%87%86%E5%A4%87%E6%95%B0%E6%8D%AE" data-tocid="41-为-alphalens-准备数据">4.1 为 Alphalens 准备数据</a></li><li class="topic-item"><a href="#42-%E8%B0%83%E7%94%A8-get-clean-factor-and-forward-returns-%E7%94%9F%E6%88%90%E4%B8%AD%E9%97%B4%E5%88%86%E6%9E%90%E7%BB%93%E6%9E%9C" data-tocid="42-调用-get-clean-factor-and-forward-returns-生成中间分析结果">4.2 调用 get_clean_factor_and_forward_returns 生成中间分析结果</a></li><li class="topic-item"><a href="#43-%E8%8E%B7%E5%8F%96%E5%8D%95%E5%9B%A0%E5%AD%90%E5%88%86%E6%9E%90%E7%BB%93%E6%9E%9C" data-tocid="43-获取单因子分析结果">4.3 获取单因子分析结果</a></li></ul></li><li class="topic-item"><a href="#5-%E9%80%9A%E8%BF%87-jupyter-notebook-%E8%BF%9B%E8%A1%8C%E5%8F%AF%E8%A7%86%E5%8C%96" data-tocid="5-通过-jupyter-notebook-进行可视化">5. 通过 Jupyter notebook 进行可视化</a><ul><li class="topic-item"><a href="#51-%E5%9B%A0%E5%AD%90%E5%88%86%E5%B8%83%E5%88%86%E6%9E%90" data-tocid="51-因子分布分析">5.1 因子分布分析</a></li><li class="topic-item"><a href="#52-%E5%9B%A0%E5%AD%90%E6%94%B6%E7%9B%8A%E5%88%86%E6%9E%90" data-tocid="52-因子收益分析">5.2 因子收益分析</a></li><li class="topic-item"><a href="#53-%E5%9B%A0%E5%AD%90-ic-%E5%88%86%E6%9E%90" data-tocid="53-因子-ic-分析">5.3 因子 IC 分析</a></li><li class="topic-item"><a href="#54-%E5%9B%A0%E5%AD%90%E6%8D%A2%E6%89%8B%E7%8E%87%E5%88%86%E6%9E%90" data-tocid="54-因子换手率分析">5.4 因子换手率分析</a></li></ul></li><li class="topic-item"><a href="#6-%E6%80%BB%E7%BB%93%E5%92%8C%E5%B1%95%E6%9C%9B" data-tocid="6-总结和展望">6. 总结和展望</a><ul><li class="topic-item"><a href="#61-alphalens--dolphindb-%E7%9A%84%E4%BC%98%E5%8A%BF" data-tocid="61-alphalens--dolphindb-的优势">6.1 Alphalens + DolphinDB 的优势</a></li><li class="topic-item"><a href="#62-%E9%87%8F%E5%8C%96%E6%8A%95%E8%B5%84%E7%9A%84%E6%9C%AA%E6%9D%A5%E5%8F%91%E5%B1%95%E8%B6%8B%E5%8A%BF" data-tocid="62-量化投资的未来发展趋势">6.2 量化投资的未来发展趋势</a></li></ul></li><li class="topic-item"><a href="#%E9%99%84%E4%BB%B6" data-tocid="附件">附件</a></li></ul></div>
	                        	
                        	</div>
                        </nav>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
<title>Copyright</title><p><b> ©2025 浙江智臾科技有限公司 浙ICP备18048711号-3</b></p>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>