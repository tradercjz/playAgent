<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" data-whc_version="26.0">
    <head><link rel="shortcut icon" href="../favicon.ico"/><link rel="icon" href="../favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="在数据库产品使用过程中，为保证数据不被窃取、不遭破坏，我们需要通过用户权限来限制用户对数据库、数据表、视图等功能的操作范围，以保证数据库安全性。为此，DolphinDB 提供了具备以下主要功能的权限管理系统： 提供用户和组角色，方便权限控制 提供 20 种权限控制类别，适应各种场景 丰富的权限控制函数 函数视图兼顾保护数据隐私与提供分析结果 对任务调度和流数据任务动态鉴权，保证系统安全 使用 ..."/><meta name="DC.rights.owner" content="(C) 版权 2025"/><meta name="copyright" content="(C) 版权 2025"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="topic"/><meta name="DC.coverage" content=""/><meta name="DC.relation" content="../tutorials/about_tutorials.html"/><meta name="prodname" content="DolphinDB"/><meta name="brand" content="DolphinDB"/><meta name="DC.creator" content="DolphinDB"/><meta name="DC.publisher" content="DDB N/A DDB 200"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="用户权限管理"/><title>用户权限管理</title><!--  Generated with Oxygen version 26.0, build number 2024012323.  --><meta name="wh-path2root" content="../"/><meta name="wh-toc-id" content="&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;&lt;?workdir /tmp/temp20250305183303418/tutorials?&gt;&lt;?workdir-uri file:/tmp/temp20250305183303418/tutorials/?&gt;&lt;?path2project ..?&gt;&lt;?path2project-uri ../?&gt;&lt;?path2rootmap-uri ../?&gt;&lt;topic xmlns:dita-ot=&#34;http://dita-ot.sourceforge.net/ns/201007/dita-ot&#34; xmlns:ditaarch=&#34;http://dita.oasis-open.org/architecture/2005/&#34; class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;用户权限管理&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;用户权限管理&lt;/title&gt;&lt;prolog class=&#34;- topic/prolog &#34;&gt;&lt;author class=&#34;- topic/author &#34; xtrc=&#34;author:1;12:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/author&gt;&lt;publisherinformation class=&#34;- topic/publisher bookmap/publisherinformation &#34; xtrc=&#34;publisherinformation:1;14:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:1;15:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;printlocation class=&#34;- topic/data bookmap/printlocation &#34; xtrc=&#34;printlocation:1;16:28&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;N/A&lt;/printlocation&gt; &lt;published class=&#34;- topic/data bookmap/published &#34; xtrc=&#34;published:1;17:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:2;18:25&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;publishtype class=&#34;- topic/data bookmap/publishtype &#34; value=&#34;HTML&#34; xtrc=&#34;publishtype:1;19:44&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;revisionid class=&#34;- topic/ph bookmap/revisionid &#34; xtrc=&#34;revisionid:1;20:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;200&lt;/revisionid&gt; &lt;summary class=&#34;- topic/ph bookmap/summary &#34; xtrc=&#34;summary:1;22:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:1;23:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/published&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:2;25:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/publisherinformation&gt;&lt;metadata class=&#34;- topic/metadata &#34;&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:2;39:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:1;28:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;category class=&#34;- topic/category &#34; xtrc=&#34;category:1;29:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;prodinfo class=&#34;- topic/prodinfo &#34; xtrc=&#34;prodinfo:1;34:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;prodname class=&#34;- topic/prodname &#34; xtrc=&#34;prodname:1;35:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/prodname&gt; &lt;brand class=&#34;- topic/brand &#34; xtrc=&#34;brand:1;36:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/brand&gt; &lt;/prodinfo&gt;&lt;/metadata&gt;&lt;/prolog&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:1;3:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在数据库产品使用过程中，为保证数据不被窃取、不遭破坏，我们需要通过用户权限来限制用户对数据库、数据表、视图等功能的操作范围，以保证数据库安全性。为此，DolphinDB 提供了具备以下主要功能的权限管理系统：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:1;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:1;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;提供用户和组角色，方便权限控制&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:2;6:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;提供 20 种权限控制类别，适应各种场景&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:3;7:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;丰富的权限控制函数&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:4;8:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;函数视图兼顾保护数据隐私与提供分析结果&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:5;9:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;对任务调度和流数据任务动态鉴权，保证系统安全&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:6;10:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;使用 RSA 对用户关键信息加密&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:7;11:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;支持 SSO，保证安全通信，方便系统扩展&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:2;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DolphinDB 在 1.30.21 和 2.00.9 版本中对权限管理主要做了如下升级，使权限控制更加精确、完善和方便：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:2;15:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:8;15:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;新增数据库层面权限类型：DB_READ、DB_WRITE、DB_UPDATE、DB_DELETE、DB_INSERT&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:9;16:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;将原本的 TABLE_WRITE 权限细分为 TABLE_INSERT、TABLE_UPDATE、TABLE_DELETE&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:10;17:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;新增用户内存限制权限类型：QUERY_RESULT_MEM_LIMIT、TASK_GROUP_MEM_LIMIT&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:11;18:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;支持在数据节点执行权限相关函数&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;related-links class=&#34;- topic/related-links &#34;&gt;&lt;linkpool class=&#34;- topic/linkpool &#34; xtrc=&#34;topicref:62;90:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_tutorials.ditamap&#34;&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;../tutorials/about_tutorials.dita&#34; mapclass=&#34;- map/topicref bookmap/chapter &#34; role=&#34;parent&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:1;5:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_tutorials.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot usertext?&gt;教程&lt;/linktext&gt;&lt;?ditaot usershortdesc?&gt;&lt;desc class=&#34;- topic/desc &#34;&gt;DolphinDB 产品使用教程&lt;/desc&gt;&lt;/link&gt;&lt;/linkpool&gt;&lt;/related-links&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;1-角色&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:2;20:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:2;20:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1. 角色&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:2;20:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:3;22:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在未进行登录操作前，用户以 guest 身份访问 DolphinDB server，此时没有任何访问或操作数据库表的权限，也无法被赋予任何权限，需要执行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:1;22:78&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login&lt;/codeph&gt; 函数登录用户，具体的角色分类及创建用户方式等将在下述文章中介绍。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;11-角色分类&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:3;24:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:3;24:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.1. 角色分类&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:3;24:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;111-用户和组&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:4;26:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:4;26:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.1.1. 用户和组&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:4;26:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:4;28:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在权限管理系统中，DolphinDB 引入组的概念，便于对具有相同权限的用户进行权限配置和管理。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:5;30:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;当权限管理需求发生变化，只需要修改一次组的权限，就可以应用于组内所有用户。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:6;32:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;组的新成员可以获得组拥有的所有权限。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:7;34:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;一个用户可以属于 0，1 或多个组，一个组里也可以包括 0，1 或多个用户。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:8;36:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;用户和组都是权限的载体。我们可以赋予或禁止一个用户、一个组某项权限。用户最终的实际权限是用户本身的权限，加上所属组的权限的结果（详见&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;markdown&#34; format=&#34;dita&#34; href=&#34;#31-用户和组权限确定规则&#34; xtrc=&#34;xref:1;36:67&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;用户和组权限确定规则&lt;/xref&gt;）。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;112-管理员和超级管理员&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:5;38:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:5;38:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.1.2. 管理员和超级管理员&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:5;38:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:9;40:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DolphinDB 将管理员分超级管理员（super admin）和普通管理员（admin）。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:10;42:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DolphinDB 集群第一次启动时，会自动创建用户名为 &#34;admin&#34;，密码为 &#34;123456&#34; 的超级管理员。此超级管理员初始时便拥有所有的权限，且无法被删除，其权限也无法被剥夺。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:11;44:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;所有用户（包括超级管理员）都可以通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:2;44:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;changePwd&lt;/codeph&gt; 修改自己的密码，或者通过管理员 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:3;44:48&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;resetPwd&lt;/codeph&gt; 修改密码。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;113-管理员和普通用户&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:6;46:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:6;46:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.1.3. 管理员和普通用户&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:6;46:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:12;48:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;除管理员以外的用户即为普通用户。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:13;50:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;管理员可以通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:4;50:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;createUser&lt;/codeph&gt; 函数的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:1;50:26&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;isAdmin&lt;/i&gt; 参数决定是否将创建的用户设置为管理员。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:14;52:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;只有管理员可以创建、删除用户和组，赋予或禁止、撤销其他管理员，用户和组的权限，获取其他用户和组的相关信息。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:15;54:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;只有管理员才能执行如下用户管理函数： &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:5;54:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;resetPwd&lt;/codeph&gt;, &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:6;54:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;createGroup&lt;/codeph&gt;, &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:7;54:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deleteGroup&lt;/codeph&gt;, &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:8;54:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;createUser&lt;/codeph&gt;, &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:9;54:76&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deleteUser&lt;/codeph&gt;, &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:10;54:90&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addGroupMember&lt;/codeph&gt;, &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:11;54:108&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deleteGroupMember&lt;/codeph&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:16;56:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;以下为超级管理员、管理员和普通用户的初始权限对照表：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:1;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;4&#34; xtrc=&#34;tgroup:1;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:1;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:2;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:3;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:4;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:1;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:1;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:1;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; &lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:2;58:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;超级管理员&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:3;58:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;管理员&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:4;58:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;非管理员用户&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:1;60:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:2;60:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:5;60:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是否需要手动创建&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:6;60:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;否&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:7;60:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:8;60:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:3;61:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:9;61:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是否可以被删除&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:10;61:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;否&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:11;61:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:12;61:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:4;62:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:13;62:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是否会被 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:12;62:8&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getUserList&lt;/codeph&gt; 函数列出&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:14;62:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;否&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:15;62:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:16;62:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:5;63:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:17;63:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是否有权创建和删除管理员、用户、组&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:18;63:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:19;63:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:20;63:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;否&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:6;64:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:21;64:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是否有权赋予和禁止管理员、用户、组的权限&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:22;64:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:23;64:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:24;64:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;否&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:7;65:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:25;65:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是否有权创建和删除函数视图&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:26;65:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:27;65:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:28;65:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;否&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:8;66:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:29;66:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是否有权删除其他用户提交的任务&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:30;66:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:31;66:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:32;66:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;否&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:9;67:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:33;67:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是否拥有所有类型的权限（权限类型介绍见 &lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;markdown&#34; format=&#34;dita&#34; href=&#34;#4-权限类别&#34; xtrc=&#34;xref:2;67:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;权限类别&lt;/xref&gt;）&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:34;67:41&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;是&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:35;67:49&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;否&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:36;67:56&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;否&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;12-角色管理&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:7;69:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:7;69:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.2. 角色管理&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:7;69:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:17;71:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:1;71:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;注意&lt;/b&gt;：2.00.9 和 1.30.21 版本后，角色管理函数可以在数据节点执行，之前版本只允许在控制节点操作。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;121-管理用户&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:8;73:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:8;73:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.2.1. 管理用户&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:8;73:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:18;75:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;只有管理员可以创建用户：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:1;77:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`admin, &#34;123456&#34;);//超级管理员登录 createUser(&#34;admin1&#34;,&#34;123456&#34;,,true)//创建普通管理员 login(&#34;admin1&#34;,&#34;123456&#34;)//普通管理员登录 createUser(&#34;user1&#34;,&#34;123456&#34;,,false)//普通管理员创建普通用户 createUser(&#34;user2&#34;,&#34;123456&#34;,,true)//普通管理员创建普通管理员&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:19;85:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;所有用户都可以修改自己的密码：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:2;87:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;user1&#34;,&#34;123456&#34;)//登录用户 changePwd(&#34;123456&#34;,&#34;123456@&#34;)//修改自己的密码 logout(&#34;user1&#34;) login(&#34;user1&#34;,&#34;123456@&#34;)//修改密码成功&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:20;94:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;只有管理员可以修改其他用户的密码：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:3;96:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin1&#34;,&#34;123456&#34;)//登录管理员用户 resetPwd(&#34;user1&#34;,&#34;123456&#34;)//修改其他用户密码 login(&#34;user1&#34;,&#34;123456&#34;)//修改密码成功&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:21;102:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;只有管理员可以删除用户：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:4;104:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin1&#34;,&#34;123456&#34;)//登录管理员用户 deleteUser(&#34;user1&#34;)//删除用户 login(&#34;user1&#34;,&#34;123456&#34;)//用户删除成功 =&amp;gt; The user name or password is incorrect&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;122-管理组&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:9;111:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:9;111:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.2.2. 管理组&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:9;111:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:22;113:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;只有管理员可以进行组的管理操作。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:23;115:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;创建组：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:5;117:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;createGroup(&#34;group1&#34;,[&#34;admin1&#34;])&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:24;121:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;添加组成员：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:6;123:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addGroupMember([&#34;user2&#34;],&#34;group1&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:25;127:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;删除组成员：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:7;129:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deleteGroupMember([&#34;user2&#34;],&#34;group1&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:26;133:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;删除组：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:8;135:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deleteGroup(&#34;group1&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:27;139:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;删除组将不会删除组内成员，但会回收组的权限，单独对成员限权的操作不变；添加成员到组里后，该用户的权限会发生变化，详细权限判定规则见&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:2;139:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;用户和组权限确定规则&lt;/i&gt;部分内容。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;123-查看角色信息&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:10;141:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:10;141:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.2.3. 查看角色信息&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:10;141:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:3;143:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:12;143:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:13;143:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getGroupList&lt;/codeph&gt;：返回所有组名列表，只能由管理员执行&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:13;144:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:14;144:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getUsersByGroupId&lt;/codeph&gt;：返回属于指定组的用户，只能由管理员执行&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:14;145:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:15;145:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getGroupsByUserId&lt;/codeph&gt;：返回用户所在的组，只能由管理员执行&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:15;146:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:16;146:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getGroupAccess&lt;/codeph&gt;：返回组的权限，只能由管理员执行&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:16;147:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:17;147:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getUserList&lt;/codeph&gt;：获取除管理员之外的所有用户名，只能由管理员执行&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:17;148:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:18;148:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getUserAccess&lt;/codeph&gt;：返回指定用户所单独被赋予的权限，不包括用户所属组的权限。管理员可以查看所有用户的权限，普通用户只能查看自己的权限，没有指定 userId 时，返回当前登录用户的权限&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:28;150:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;相关函数用法，参考&lt;xref class=&#34;- topic/xref &#34; href=&#34;../funcs/funcs_by_topics.dita&#34; xtrc=&#34;xref:3;150:10&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;函数&lt;/xref&gt;。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;2-权限管理&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:11;152:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:11;152:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;2. 权限管理&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:11;152:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:29;154:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;用户可以使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:19;154:8&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt;，&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:20;154:16&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; 和 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:21;154:25&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; 命令来赋予权限、禁止权限，以及撤销权限设置，对应的权限状态为 Allow，Deny 和 None。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:30;156:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:2;156:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;注意&lt;/b&gt;：2.00.9 和 1.30.21 版本后权限管理函数操作可以在数据节点执行，之前版本只允许在控制节点操作。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:31;158:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant 命令：授予某个用户或某个用户组各类权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:9;160:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant(`user2, DBOBJ_CREATE,&#34;*&#34;) getUserAccess(&#34;user2&#34;)&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Permission_Management/2_1.png&#34; xtrc=&#34;image:1;164:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; dita-ot:image-width=&#34;896&#34; dita-ot:image-height=&#34;69&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:32;169:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke 命令：撤销某个用户或某个组的之前被赋予或禁止的权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:10;171:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke(`user2, DBOBJ_CREATE,&#34;*&#34;) getUserAccess(&#34;user2&#34;)&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Permission_Management/2_2.png&#34; xtrc=&#34;image:2;175:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; dita-ot:image-width=&#34;986&#34; dita-ot:image-height=&#34;54&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:33;178:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny 命令：拒绝某个用户或某个组的权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:11;180:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny(`user2, DBOBJ_CREATE,&#34;*&#34;) getUserAccess(&#34;user2&#34;)&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Permission_Management/2_3.png&#34; xtrc=&#34;image:3;184:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; dita-ot:image-width=&#34;886&#34; dita-ot:image-height=&#34;52&#34;/&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;3-权限确定规则&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:12;188:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:12;188:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;3. 权限确定规则&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:12;188:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;31-用户和组权限确定规则&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:13;190:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:13;190:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;3.1. 用户和组权限确定规则&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:13;190:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:34;192:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;将用户本身也视为一个特殊的组，用户本身的权限就是这个组的权限。用户的最终权限是其所属的所有组的权限共同决定的结果。组的存在简化了对用户权限的管理，与此同时也不免出现权限冲突的情况，以下为权限确定规则：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:4;194:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:18;194:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;若用户在至少一组中被赋予某项权限，并且在其他组中没有禁止该项权限，则用户拥有该项权限&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:19;195:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;若用户在至少一组中被禁止某项权限，即使在其他组中被赋予该项权限，此用户的该项权限依然被禁止&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:35;197:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:3;197:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 1&lt;/b&gt;：若用户只属于一个组，用户对某个权限的状态为 Deny，所在组对当前权限的状态为 Allow，则最终用户对该权限的状态为 Deny：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:12;199:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;,&#34;123456&#34;) createUser(&#34;user2&#34;,&#34;123456&#34;) createGroup(&#34;group1&#34;,[&#34;user2&#34;]) deny(`user2, DB_OWNER)//禁止 user2 拥有 DB_OWNER 权限 grant(`group1, DB_OWNER)//赋予 group1DB_OWNER 权限 login(&#34;user2&#34;,&#34;123456&#34;) database(&#34;dfs://test&#34;,VALUE,1..10)//user2 没有 DB_OWNER 权限 =&amp;gt; &amp;lt;NoPrivilege&amp;gt;Not granted to create or delete databases&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:36;210:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:4;210:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 2&lt;/b&gt;：若用户只属于一个组，用户对某个权限的状态为 None，所在组对当前权限的状态为 Allow，则最终用户对该权限的状态为 Allow：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:13;212:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;,&#34;123456&#34;) revoke(`user2, DB_OWNER)//撤销禁止 user2 的 DB_OWNER 权限 grant(`group1, DB_OWNER)//赋予 group1DB_OWNER 权限 login(&#34;user2&#34;,&#34;123456&#34;) database(&#34;dfs://test&#34;,VALUE,1..10)//user2 拥有 DB_OWNER 权限&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:37;220:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:5;220:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 3&lt;/b&gt;：若用户只属于一个组，用户对某个权限的状态为 None，所在组对当前权限的状态为 Deny，则最终用户对该权限的状态为 Deny：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:14;222:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;,&#34;123456&#34;) revoke(`user2, DB_OWNER)//撤销禁止 user2 的 DB_OWNER 权限 deny(`group1, DB_OWNER)//赋予 group1DB_OWNER 权限 login(&#34;user2&#34;,&#34;123456&#34;) database(&#34;dfs://test&#34;,VALUE,1..10)//user2 没有 DB_OWNER 权限 =&amp;gt; &amp;lt;NoPrivilege&amp;gt;Not granted to create or delete databases&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:38;231:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:6;231:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 4&lt;/b&gt;：若用户属于多个组，某个组对某个权限的状态为 Deny，其他组对当前权限的状态为 Allow，则最终用户对该权限的状态为 Deny：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:15;233:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;,&#34;123456&#34;) createGroup(&#34;group2&#34;,[&#34;user2&#34;]) createGroup(&#34;group3&#34;,[&#34;user2&#34;]) deny(`group1, DB_OWNER) grant(`group2, DB_OWNER) grant(`group3, DB_OWNER) login(&#34;user2&#34;,&#34;123456&#34;) database(&#34;dfs://test&#34;,VALUE,1..10)//user2 没有 DB_OWNER 权限 =&amp;gt; &amp;lt;NoPrivilege&amp;gt;Not granted to create or delete databases&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:39;245:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:7;245:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 5&lt;/b&gt;：若用户属于多个组，某个组对某个权限的状态为 None，其他组对当前权限的状态为 Allow，则最终用户对该权限的状态为 Allow：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:16;247:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;,&#34;123456&#34;) revoke(`group1, DB_OWNER) grant(`group2, DB_OWNER) grant(`group3, DB_OWNER) login(&#34;user2&#34;,&#34;123456&#34;) database(&#34;dfs://test&#34;,VALUE,1..10)//user2 拥有 DB_OWNER 权限&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:40;256:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:8;256:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 6&lt;/b&gt;：若用户属于多个组，某个组对某个权限的状态为 None，其他组对当前权限的状态为 Deny，则最终用户对该权限的状态为 Deny：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:17;258:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;,&#34;123456&#34;) revoke(`group1, DB_OWNER) deny(`group2, DB_OWNER) deny(`group3, DB_OWNER) login(&#34;user2&#34;,&#34;123456&#34;) database(&#34;dfs://test&#34;,VALUE,1..10)//user2 没有 DB_OWNER 权限 =&amp;gt; &amp;lt;NoPrivilege&amp;gt;Not granted to create or delete databases&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:41;268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:9;268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 7&lt;/b&gt;：若用户所在的组被删除，则以用户本身被赋予的权限为准：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:18;270:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;,&#34;123456&#34;) createUser(&#34;user2&#34;,&#34;123456&#34;) createGroup(&#34;group1&#34;,[&#34;user2&#34;]) grant(`user2, DB_OWNER)//赋予 user2 DB_OWNER 权限 deny(`group1, DB_OWNER)//禁止 group1 DB_OWNER 权限 deleteGroup(`group1)//删除 group1 login(&#34;user2&#34;,&#34;123456&#34;) database(&#34;dfs://test&#34;,VALUE,1..10)//user2 拥有 DB_OWNER 权限 ---------------------------------------------------------------- login(&#34;admin&#34;,&#34;123456&#34;) createGroup(&#34;group1&#34;,[&#34;user2&#34;]) revoke(`user2, DB_OWNER)//回收 user2 DB_OWNER 权限 grant(`group1, DB_OWNER)//赋予 group1 DB_OWNER 权限 deleteGroup(`group1)//删除 group1 login(&#34;user2&#34;,&#34;123456&#34;) database(&#34;dfs://test&#34;,VALUE,1..10)//user2 没有 DB_OWNER权限&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;32-数据库表权限确定规则&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:14;289:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:14;289:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;3.2. 数据库表权限确定规则&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:14;289:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:42;291:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;权限作用的对象范围从大到小可以分为：全局 (*)，数据库，表。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:43;293:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;以下为库表级权限确定规则：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:5;295:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:20;295:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;先小范围赋予/撤销/禁止权限，再大范围操作权限，此时小范围权限失效，会被大范围的权限覆盖&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:21;296:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;先大范围 allow, 再小范围 deny，此时 deny 操作生效，allow 权限覆盖的除 deny 以外的范围依旧是 allow&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:22;297:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;先大范围 allow, 再小范围 revoke，此时 revoke 操作无效，allow 权限覆盖的范围依旧是 allow&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:23;298:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;先大范围 deny, 再小范围 revoke，此时 revoke 操作无效，deny 权限覆盖的范围依旧是 deny&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:24;299:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;先大范围 deny, 再小范围 grant，1.30.21 和 2.00.9 版本前 grant 可以生效，deny 权限覆盖的除 grant 以外的范围依旧是 deny，1.30.21 和 2.00.9 版本后不支持此操作&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:25;300:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;先大范围 revoke, 再小范围操作权限，此时小范围权限操作生效&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:44;302:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:10;302:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 1&lt;/b&gt;：对用户 user1 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:22;302:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; 表级的 TABLE_READ 权限，然后 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:23;302:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 全局 TABLE_READ 权限，此时 user1 拥有所有表的 TABLE_READ 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:19;304:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) createUser(&#34;user1&#34;,&#34;123456&#34;) dbName = &#34;dfs://test&#34; if(existsDatabase(dbName)){       dropDatabase(dbName) } t = table(1..10 as id , rand(100, 10) as val) db=database(dbName, VALUE, 1..10) pt= db.createPartitionedTable(t, &#34;pt&#34;, &#34;id&#34;) pt.append!(t) deny(&#34;user1&#34;, TABLE_READ, dbName+&#34;/pt&#34;) grant(&#34;user1&#34;, TABLE_READ, &#34;*&#34;) login(&#34;user1&#34;, &#34;123456&#34;) select * from loadTable(dbName, &#34;pt&#34;)//user1 获得读 &#34;dfs://test&#34;的权限&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:45;323:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:11;323:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 2&lt;/b&gt;：对用户 user2 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:24;323:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 表级的 TABLE_READ 权限，然后 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:25;323:48&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; 全局 TABLE_READ 权限，此时 user2 被禁止所有表的 TABLE_READ 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:20;325:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) createUser(&#34;user2&#34;,&#34;123456&#34;) dbName = &#34;dfs://test&#34; if(existsDatabase(dbName)){       dropDatabase(dbName) } t = table(1..10 as id , rand(100, 10) as val) db=database(dbName, VALUE, 1..10) pt= db.createPartitionedTable(t, &#34;pt&#34;, &#34;id&#34;) pt.append!(t) grant(&#34;user2&#34;, TABLE_READ, dbName+&#34;/pt&#34;) deny(&#34;user2&#34;, TABLE_READ, &#34;*&#34;) login(&#34;user2&#34;, &#34;123456&#34;) select * from loadTable(dbName, &#34;pt&#34;)//user2 被禁止读 &#34;dfs://test&#34;&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:46;344:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:12;344:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 3&lt;/b&gt;：对用户 user3 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:26;344:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 表级的 TABLE_READ 权限，然后 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:27;344:48&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; 全局 TABLE_READ 权限，此时 user3 被回收所有表的 TABLE_READ 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:21;346:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) createUser(&#34;user3&#34;,&#34;123456&#34;) dbName = &#34;dfs://test&#34; if(existsDatabase(dbName)){       dropDatabase(dbName) } t = table(1..10 as id , rand(100, 10) as val) db=database(dbName, VALUE, 1..10) pt= db.createPartitionedTable(t, &#34;pt&#34;, &#34;id&#34;) pt.append!(t) grant(&#34;user3&#34;, TABLE_READ, dbName+&#34;/pt&#34;) revoke(&#34;user3&#34;, TABLE_READ, &#34;*&#34;) login(&#34;user3&#34;, &#34;123456&#34;) select * from loadTable(dbName, &#34;pt&#34;)//user 被撤回读 &#34;dfs://test&#34; 的权限&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:47;364:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:13;364:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 4&lt;/b&gt;：先对用户 user1 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:28;364:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 全局的 TABLE_READ 权限，然后 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:29;364:49&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; &#34;dfs://test/pt&#34; 表 TABLE_READ 权限，此时 user1 拥有除 &#34;dfs://test/pt&#34; 表外所有表的 TABLE_READ 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:22;366:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) createUser(&#34;user1&#34;,&#34;123456&#34;) dbName = &#34;dfs://test&#34; t = table(1..10 as id , rand(100, 10) as val) if(existsDatabase(dbName)){       dropDatabase(dbName) } db=database(dbName, VALUE, 1..10) pt= db.createPartitionedTable(t, &#34;pt&#34;, &#34;id&#34;) pt.append!(t) grant(&#34;user1&#34;, TABLE_READ, &#34;*&#34;) deny(&#34;user1&#34;, TABLE_READ, dbName+&#34;/pt&#34;) login(&#34;user1&#34;, &#34;123456&#34;) select * from loadTable(dbName, &#34;pt&#34;)//user1被禁止读&#34;dfs://test/pt&#34;&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:48;384:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:14;384:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 5&lt;/b&gt;：先对用户 user1 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:30;384:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 全局的 TABLE_READ 权限，然后 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:31;384:49&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; &#34;dfs://test/pt&#34; 表 TABLE_READ 权限，此时 user1 仍然拥有所有表的 TABLE_READ 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:23;386:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) createUser(&#34;user1&#34;,&#34;123456&#34;) dbName = &#34;dfs://test&#34; t = table(1..10 as id , rand(100, 10) as val) if(existsDatabase(dbName)){       dropDatabase(dbName) } db=database(dbName, VALUE, 1..10) pt= db.createPartitionedTable(t, &#34;pt&#34;, &#34;id&#34;) pt.append!(t) grant(&#34;user1&#34;, TABLE_READ, &#34;*&#34;) revoke(&#34;user1&#34;, TABLE_READ, dbName+&#34;/pt&#34;) login(&#34;user1&#34;, &#34;123456&#34;) select * from loadTable(dbName, &#34;pt&#34;)//user1 有读 &#34;dfs://test/pt&#34; 的权限&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:49;404:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:15;404:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 6&lt;/b&gt;：先对用户 user1 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:32;404:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; 全局的 TABLE_READ 权限，然后 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:33;404:48&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; &#34;dfs://test/pt&#34; 表 TABLE_READ 权限，此时 user1 仍然被拒绝所有表的 TABLE_READ 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:24;406:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) createUser(&#34;user1&#34;,&#34;123456&#34;) dbName = &#34;dfs://test&#34; if(existsDatabase(dbName)){       dropDatabase(dbName) } t = table(1..10 as id , rand(100, 10) as val) db=database(dbName, VALUE, 1..10) pt= db.createPartitionedTable(t, &#34;pt&#34;, &#34;id&#34;) pt.append!(t) deny(&#34;user1&#34;, TABLE_READ, &#34;*&#34;) revoke(&#34;user1&#34;, TABLE_READ, dbName+&#34;/pt&#34;) getUserAccess(&#34;user1&#34;)//TABLE_READ 依旧是 deny&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Permission_Management/3_1.png&#34; xtrc=&#34;image:4;424:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; dita-ot:image-width=&#34;821&#34; dita-ot:image-height=&#34;59&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:50;428:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:16;428:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 7&lt;/b&gt;：先对用户 user1 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:34;428:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; 全局的 TABLE_READ 权限，然后 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:35;428:48&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; &#34;dfs://test/pt&#34; 表 TABLE_READ 权限，1.30.21 和 2.00.9 版本前，此时 user1 被赋予读 &#34;dfs://test/pt&#34; 表的权限，被拒绝其他所有表的 TABLE_READ 权限，而新版本则在执行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:36;428:177&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 的时候抛出异常：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:25;430:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) createUser(&#34;user1&#34;,&#34;123456&#34;) dbName = &#34;dfs://test&#34; if(existsDatabase(dbName)){       dropDatabase(dbName) } t = table(1..10 as id , rand(100, 10) as val) db=database(dbName, VALUE, 1..10) pt= db.createPartitionedTable(t, &#34;pt&#34;, &#34;id&#34;) pt1= db.createPartitionedTable(t, &#34;pt1&#34;, &#34;id&#34;) pt.append!(t) pt1.append!(t) deny(&#34;user1&#34;, TABLE_READ, &#34;*&#34;) //新版本中执行grant报错 'Invalid grant: grant [dfs://test/pt] and [deny *] are in conflict' grant(&#34;user1&#34;, TABLE_READ, dbName+&#34;/pt&#34;) login(&#34;user1&#34;, &#34;123456&#34;) select * from loadTable(dbName, &#34;pt&#34;)//老版本有读 dbName+&#34;/pt&#34; 的权限 select * from loadTable(dbName, &#34;pt1&#34;)//老版本没有读其他表的权限&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;33-权限确定规则兼容性&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:15;452:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:15;452:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;3.3. 权限确定规则兼容性&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:15;452:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:51;454:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.30.21 和 2.00.9 版本前，如果某个用户对两张不同表分别 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:37;454:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 和 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:38;454:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; 相同的表层面权限（TABLE_READ 或 TABLE_WRITE），升级到新版本后该用户会拥有除 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:39;454:105&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; 的表以外所有表的该权限。举例如下：&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:52;456:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.30.21 和 2.00.9 版本以前，使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:40;456:26&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 命令赋予或使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:41;456:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; 命令禁用用户 'user1'不同表对象的 TABLE_READ 权限后，'user1' 将只有 &#34;dfs://valuedb/pt1&#34; 表的读权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:26;458:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;,&#34;123456&#34;) createUser(&#34;user1&#34;,&#34;123456&#34;) grant(&#34;user1&#34;,TABLE_READ,&#34;dfs://valuedb/pt1&#34;) deny(&#34;user1&#34;,TABLE_READ,&#34;dfs://valuedb/pt2&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:53;465:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;升级到新版本后，user1 拥有 &#34;dfs://valuedb&#34; 库中除 pt2 以外所有表的读权限，等同于执行：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:27;467:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant(&#34;user1&#34;,TABLE_READ,&#34;dfs://valuedb/pt1&#34;) deny(&#34;user1&#34;,TABLE_READ,&#34;dfs://valuedb/pt2&#34;)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;4-权限类别&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:16;472:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:16;472:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;4. 权限类别&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:16;472:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:54;474:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:17;474:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;注意&lt;/b&gt;：1.30.21 和 2.00.9 版本新增权限 DB_READ, DB_WRITE, DB_INSERT,DB_UPDATE, DB_DELETE, TABLE_INSERT, TABLE_UPDATE, TABLE_DELETE。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;41-库级权限类别&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:17;476:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:17;476:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;4.1. 库级权限类别&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:17;476:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:6;478:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:26;478:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE：1.30.21 和 2.00.9 版本之前，可以创建以及删除数据库，可删除任何人所建数据库，包括具有 DB_OWNER 权限之用户所建数据库；1.30.21 和 2.00.9 版本之后不能创建数据库，只能删除数据库&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:27;479:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_OWNER：创建数据库并管理其创建的数据库，包括删除数据库、创建或删除数据表、增加或删除分区、可赋予、禁止或取消其他用户对自己创建的数据库的以下权限：TABLE_READ, TABLE_WRITE, TABLE_INSERT, TABLE_UPDATE, TABLE_DELETE, DBOBJ_CREATE, DBOBJ_DELETE, DB_READ, DB_WRITE, DB_INSERT, DB_UPDATE, DB_DELETE&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:28;480:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DBOBJ_CREATE：允许在数据库中建表&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:29;481:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DBOBJ_DELETE：允许在数据库中删除表&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:30;482:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_WRITE：允许写数据库所有表，包含表的增删改权限&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:31;483:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_INSERT：允许追加数据到某库所有表&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:32;484:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_UPDATE：允许更新某库所有表的数据&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:33;485:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_DELETE：允许删除某库所有表的数据&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:34;486:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_READ：允许读某库所有表&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;42-表级权限类别&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:18;488:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:18;488:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;4.2. 表级权限类别&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:18;488:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:7;490:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:35;490:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;TABLE_WRITE：允许增删改所有/指定数据表&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:36;491:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;TABLE_READ：允许读取所有/指定数据表&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:37;492:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;TABLE_INSERT：允许追加数据到指定表&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:38;493:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;TABLE_UPDATE：允许更新指定表的数据&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:39;494:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;TABLE_DELETE：允许删除指定表的数据&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;43-其他权限类别&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:19;496:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:19;496:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;4.3. 其他权限类别&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:19;496:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:8;498:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:40;498:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;VIEW_OWNER：普通用户（组）创建视图的权限。只有管理员才能 grant/deny/revoke 这个权限，此为 2.00.10.4/1.30.22.4 版本新增功能。普通用户（组）被赋予该权限后，可以进行以下操作：&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:9;499:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:41;499:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;可以创建视图（addFunctionView），且在创建视图后自动拥有该视图的 VIEW_EXEC 权限&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:42;500:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;drop 自己创建的视图（dropFunctionView）&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:43;501:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;为其它用户 grant/deny/revoke 自己所创建视图的 VIEW_EXEC 权限&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:44;502:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;通过 getFunctionViews 查看自己创建的所有视图&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:45;503:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;VIEW_EXEC：视图执行权限&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:46;504:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;SCRIPT_EXEC：脚本执行权限&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:47;505:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;TEST_EXEC：测试脚本执行权限&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:48;506:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;QUERY_RESULT_MEM_LIMIT：限制用户的查询内存大小&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:49;507:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;TASK_GROUP_MEM_LIMI：限制用户发送的批量子查询占用的内存大小&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:50;508:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;COMPUTE_GROUP_EXEC：连接计算组的权限&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;44-权限类别兼容性&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:20;510:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:20;510:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;4.4. 权限类别兼容性&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:20;510:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;ol class=&#34;- topic/ol &#34; xtrc=&#34;ol:1;512:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:51;512:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.30.21 和 2.00.9 版本前创建的用户，如果只拥有 DB_MANAGE 权限而没有 DB_OWNER 权限，升级到新版本就无法创建库，需要重新赋予 DB_OWNER 权限。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:52;513:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.30.21 和 2.00.9 版本前创建的用户，如果被赋予 TABLE_WRITE 权限，升级到新版本后将同时拥有 TABLE_INSERT, TABLE_UPDATE, TABLE_DELETE 权限。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:53;514:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.30.21 和 2.00.9 版本起，accessType=DB_OWNER 时 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:42;514:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:43;514:57&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:44;514:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; 命令中的 objs 若作用于库必须以&#34;*&#34;结尾，表示指定某个 dbName 的前缀范围：&lt;/li&gt;&lt;/ol&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:28;516:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) createUser(&#34;user1&#34;,&#34;123456&#34;) grant(&#34;user1&#34;, DB_OWNER,&#34;*&#34;)//用户可以创建任意名称的数据库，且拥有该数据库的 DB_OWNER 权限 grant(&#34;user1&#34;, DB_OWNER,&#34;dfs://test0*&#34;)//用户拥有以 &#34;dfs://test0&#34; 为前缀的数据库 DB_OWNER 权限&lt;/codeblock&gt;&lt;ol class=&#34;- topic/ol &#34; xtrc=&#34;ol:2;523:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:54;523:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;1.30.21 和 2.00.9 版本起，accessType=DB_MANAGE 时，使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:45;523:51&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant &lt;/codeph&gt;/ &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:46;523:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:47;523:70&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; 命令需确保 objs 中指定的数据库已存在，否则将报错：&lt;/li&gt;&lt;/ol&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:29;525:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) createUser(&#34;user1&#34;,&#34;123456&#34;) grant(&#34;user1&#34;, DB_MANAGE,&#34;dfs://test0&#34;) =&amp;gt; The database [dfs://test0] does not exist grant(&#34;user1&#34;, DB_MANAGE, [&#34;dfs://db1&#34;,&#34;dfs://db2&#34;]) =&amp;gt; The database [dfs://db1] does not exist&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;45-权限回收&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:21;532:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:21;532:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;4.5. 权限回收&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:21;532:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:55;534:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;表级别的权限在指定表或用户删除的时候回收，库级别的权限在指定库或用户删除的时候回收，DB_OWNER 权限只在用户和该用户下所有库都删除的时候回收。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:56;536:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;当权限操作的访问对象为共享内存表、流数据引擎时，权限不会因 server 重启或共享内存表、流数据引擎的删除而回收。当再次创建同名共享内存表、流数据引擎并对其进行访问控制时，对用户的权限操作依然生效。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:57;538:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:18;538:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 1&lt;/b&gt;： &#34;user1&#34; 拥有 &#34;dfs://valuedb/pt&#34; 表的 TABLE_READ 权限，删除 &#34;dfs://valuedb/pt&#34; 表后重新创建，user1 用户的 TABLE_READ 权限被回收：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:30;540:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) dbName = &#34;dfs://valuedb&#34; t = table(1..10 as id , rand(100, 10) as val) if(existsDatabase(dbName)){       dropDatabase(dbName) } db=database(dbName, VALUE, 1..10) pt= db.createPartitionedTable(t, &#34;pt&#34;, &#34;id&#34;).append!(t) createUser(&#34;user1&#34;,&#34;123456&#34;) grant(&#34;user1&#34;, TABLE_READ,&#34;dfs://valuedb/pt&#34;) login(&#34;user1&#34;, &#34;123456&#34;) select * from loadTable( &#34;dfs://valuedb&#34;,`pt)//此时user1 拥有&#34;dfs://valuedb/pt&#34;表的TABLE_READ权限 login(&#34;admin&#34;, &#34;123456&#34;) dropTable(db,`pt) pt= db.createPartitionedTable(t, &#34;pt&#34;, &#34;id&#34;).append!(t) login(&#34;user1&#34;, &#34;123456&#34;) select * from loadTable( &#34;dfs://valuedb&#34;,`pt)//user1用户的TABLE_READ权限被回收&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:58;561:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:19;561:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 2&lt;/b&gt;： &#34;user1&#34; 拥有 &#34;dfs://valuedb&#34; 库的 DB_MANAGE 权限，删除 &#34;dfs://valuedb&#34; 库后重新创建，user1 用户的 DB_MANAGE 权限被回收：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:31;563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) dbName = &#34;dfs://valuedb&#34; t = table(1..10 as id , rand(100, 10) as val) if(existsDatabase(dbName)){       dropDatabase(dbName) } db=database(dbName, VALUE, 1..10) pt= db.createPartitionedTable(t, &#34;pt&#34;, &#34;id&#34;).append!(t) createUser(&#34;user1&#34;,&#34;123456&#34;) grant(&#34;user1&#34;, DB_MANAGE,&#34;dfs://valuedb&#34;) getUserAccess(&#34;user1&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:59;578:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;此时 user1 拥有 &#34;dfs://valuedb&#34; 库的 DB_MANAGE 权限。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Permission_Management/4_1.png&#34; xtrc=&#34;image:5;580:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; dita-ot:image-width=&#34;400&#34; dita-ot:image-height=&#34;83&#34;/&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:32;583:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) if(existsDatabase(dbName)){       dropDatabase(dbName) } db=database(dbName, VALUE, 1..10) pt= db.createPartitionedTable(t, &#34;pt&#34;, &#34;id&#34;).append!(t) getUserAccess(&#34;user1&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:60;593:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;此时 user1 用户的 DB_MANAGE 权限被回收。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Permission_Management/4_2.png&#34; xtrc=&#34;image:6;595:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; dita-ot:image-width=&#34;448&#34; dita-ot:image-height=&#34;91&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:61;598:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:20;598:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 3&lt;/b&gt;： &#34;u1&#34; 用户拥有流数据表 &#34;trades&#34;、&#34;output1&#34; 和流引擎 &#34;agg1&#34; 的读写权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:33;600:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`admin, `123456) createUser(`u1, &#34;111111&#34;); enableTableShareAndPersistence(streamTable(1000:0, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]),`trades) share streamTable(1000:0, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) as output1 agg1 = createTimeSeriesEngine(name=&#34;agg1&#34;, windowSize=600, step=600, metrics=&amp;lt;[sum(volume)]&amp;gt;, dummyTable=trades, outputTable=output1, timeColumn=`time, useSystemTime=false, keyColumn=`sym, garbageSize=50, useWindowStartTime=false) grant(&#34;u1&#34;, TABLE_READ, &#34;agg1&#34;) grant(&#34;u1&#34;, TABLE_WRITE, &#34;agg1&#34;) grant(&#34;u1&#34;, TABLE_READ, &#34;trades&#34;) grant(&#34;u1&#34;, TABLE_WRITE, &#34;trades&#34;) grant(&#34;u1&#34;, TABLE_READ, &#34;output1&#34;) grant(&#34;u1&#34;, TABLE_WRITE, &#34;output1&#34;) getUserAccess(`u1)&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/Permission_Management/4_3.png&#34; xtrc=&#34;image:7;615:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; dita-ot:image-width=&#34;1145&#34; dita-ot:image-height=&#34;73&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:62;618:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;重启或删除并创建同名流数据表 &#34;trades&#34;、&#34;output1&#34; 和流引擎 &#34;agg1&#34;，此时三个对象都没有访问控制，任何用户可以对其进行读写：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:34;620:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`admin, `123456) enableTableShareAndPersistence(streamTable(1000:0, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]),`trades) share streamTable(1000:0, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) as output1 agg1 = createTimeSeriesEngine(name=&#34;agg1&#34;, windowSize=600, step=600, metrics=&amp;lt;[sum(volume)]&amp;gt;, dummyTable=trades, outputTable=output1, timeColumn=`time, useSystemTime=false, keyColumn=`sym, garbageSize=50, useWindowStartTime=false)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:63;627:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;增加访问控制：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:35;629:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addAccessControl(`trades) addAccessControl(output1) addAccessControl(agg1)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:64;635:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;此时只有用户 &#34;u1&#34; 和三个对象的创建者 &#34;admin&#34; 可以访问对象：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:36;637:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`u1, &#34;111111&#34;) insert into agg1 values(2018.10.08T01:01:01.785,`A,10) insert into output1 values(2018.10.08T01:01:01.785,`A,10) insert into trades values(2018.10.08T01:01:01.785,`A,10) &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:65;644:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;其他用户被拒绝访问：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:37;646:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`u2, &#34;111111&#34;) insert into agg1 values(2018.10.08T01:01:01.785,`A,10)=&amp;gt; No access to table [agg1]' insert into output1 values(2018.10.08T01:01:01.785,`A,10) =&amp;gt; No access to table [output1]' insert into trades values(2018.10.08T01:01:01.785,`A,10) =&amp;gt; No access to table [trades]'&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;5-相关函数的权限校验&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:22;653:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:22;653:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;5. 相关函数的权限校验&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:22;653:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:66;655:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;本章将介绍相关函数在 1.30.21 和 2.00.9 版本前（旧版）和后（新版）涉及的权限对比。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;51-ddl-和-dml-相关函数&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:23;657:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:23;657:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;5.1. DDL 和 DML 相关函数&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:23;657:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:67;659:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;分布式表 DDL 和 DML 操作所需权限如下表所示：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:2;661:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;3&#34; xtrc=&#34;tgroup:2;661:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:5;661:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:6;661:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:7;661:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:2;661:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:10;661:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:37;661:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;操作&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:38;661:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;新版权限&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:39;661:88&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;旧版权限&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:2;663:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:11;663:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:40;663:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;database 新建数据库&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:41;663:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;拥有 DB_OWNER 权限用户可以创建全局或指定前缀的数据库。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:42;663:88&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;拥有 DB_MANAGE 或者 DB_OWNER 权限可以新建所有名字的数据库。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:12;664:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:43;664:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;database 加载已有的库&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:44;664:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;无校验&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:45;664:88&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;无校验&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:13;665:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:46;665:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;dropDatabase&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:47;665:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以删除任意或指定数据库；DB_OWNER 用户可以删除自己创建的数据库。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:48;665:102&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以删除任何用户的数据库；DB_OWNER 用户可以删除自己创建的数据库。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:14;666:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:49;666:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;createTable&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:50;666:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以创建任意或指定数据库下的表；DB_OWNER 用户可以在自己创建的数据库下建表；DBOBJ_CREATE 用户可以创建任意或指定数据库下的表。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:51;666:142&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;当前数据库的创建者或者对当前数据库有 DBOBJ_CREATE 权限的用户可以创建该数据库下的表。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:15;667:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:52;667:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;dropTable&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:53;667:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以删除任意或指定数据库下的表；DB_OWNER 用户可以在自己创建的数据库下删除表；DBOBJ_DELETE 用户可以删除任意或指定数据库下的表。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:54;667:144&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_OWNER 权限用户可以删除自己创建的数据库下任何用户所创建的表；DB_MANAGE 用户可以删除自己创建的表；对当前数据库有 DBOBJ_DELETE 权限的用户可以删除该库中所有表。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:16;668:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:55;668:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;createPartitionedTable&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:56;668:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以创建任意或指定数据库下的表；DB_OWNER 用户可以在自己创建的数据库下建表；DBOBJ_CREATE 用户可以创建任意或指定数据库下的表。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:57;668:143&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;当前数据库的创建者或者对当前数据库有 DBOBJ_CREATE 权限的用户可以创建该数据库下的表。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:17;669:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:58;669:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addPartitions(addValuePartitions/addRangePartitions)&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:59;669:57&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以增加任意或指定数据库的分区；DB_OWNER 用户可以增加自己创建的数据库的分区。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:60;669:120&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以增加任何数据库的分区；DB_OWNER 用户可以增加自己创建的数据库的分区。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:18;670:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:61;670:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;newValuePartitionPolicy=add 配置项&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:62;670:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;所有拥有写入表权限的用户，写入新分区会自动添加。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:63;670:88&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;所有拥有写入表权限的用户，写入新分区会自动添加。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:19;671:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:64;671:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;dropPartition(deleteSchema=false)&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:65;671:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以删除任意或指定数据库的分区；DB_OWNER 用户可以删除自己创建的数据库的分区； DB_DELETE 权限可以删除任意或指定数据库的分区；TABLE_DELETE 权限为全局时可以删除所有数据库分区。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:66;671:178&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_OWNER 用户可以删除自己创建的数据库的分区；DBOBJ_DELETE 权限可以删除指定或全部数据库的分区。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:20;672:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:67;672:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;dropPartition(deleteSchema=true)&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:68;672:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以删除任意或指定数据库的分区；DB_OWNER 用户可以删除自己创建的数据库的分区。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:69;672:108&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_OWNER 用户可以删除自己创建的数据库的分区；DBOBJ_DELETE 权限可以删除指定或全部数据库的分区。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:21;673:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:70;673:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;renameTable&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:71;673:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以 rename 任意或指定数据库下的表；DB_OWNER 用户可以在自己创建的数据库下 rename 表；DBOBJ_CREATE 用户可以 rename 任意或指定数据库下的表。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:72;673:162&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_OWNER 权限用户可以 rename 自己数据库下的表；DBOBJ_DELETE 权限用户可以 rename 指定数据库下的表。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:22;674:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:73;674:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addColumn&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:74;674:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 可以增加任意或指定数据库下表的列；DB_OWNER 用户可以增加自己创建的数据库下表的列；DBOBJ_CREATE 用户可以增加任意或指定数据库下表的列。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:75;674:145&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;拥有 DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:48;674:185&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addColumn&lt;/codeph&gt;；拥有 DBOBJ_CREATE 权限的用户可以对指定数据库下的表 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:49;674:235&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addColumn&lt;/codeph&gt;。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:23;675:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:76;675:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;dropColumns!&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:77;675:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 可以删除任意或指定数据库下表的列；DB_OWNER 用户可以删除自己创建的数据库下表的列；DBOBJ_CREATE 用户可以删除自己创建的表的列；DBOBJ_DELETE 用户可以删除任意或指定数据库下表的列。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:78;675:178&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以删除任何数据库下表的列；DB_OWNER 用户可以删除自己的数据库下表的列。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:24;676:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:79;676:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;rename!&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:80;676:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 可以 rename 任意或指定数据库下表的列；DB_OWNER 用户可以 rename 自己创建的数据库下表的列；DBOBJ_CREATE 用户可以 rename 任意或指定数据库下表的列。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:81;676:163&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以 rename 任何数据库下表的列；DB_OWNER 用户可以 rename 自己的数据库下表的列。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:25;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:82;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;replaceColumn!&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:83;677:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以 replace 任意或指定数据库下表的列；DB_OWNER 用户可以 replace 自己创建的数据库下表的列；DBOBJ_CREATE 用户可以 replace 任意或指定数据库下表的列。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:84;677:168&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 用户可以 replace 任何数据库下表的列；DB_OWNER 用户可以 replace 自己的数据库下表的列。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:26;678:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:85;678:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;setColumnComment&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:86;678:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DB_MANAGE 可以对任意或指定数据库下的表&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:50;678:70&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;setColumnComment&lt;/codeph&gt;；DB_OWNER 用户可以对自己创建的数据库下表 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:51;678:119&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;setColumnComment&lt;/codeph&gt;；DBOBJ_CREATE 用户可以对任意或指定数据库下表 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:52;678:172&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;setColumnComment&lt;/codeph&gt;。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:87;678:193&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;拥有 DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:53;678:233&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;setColumnComment&lt;/codeph&gt;；拥有 DBOBJ_CREATE 权限的用户可以对指定数据库下的表 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:54;678:290&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;setColumnComment&lt;/codeph&gt;。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:27;679:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:88;679:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;truncate&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:89;679:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:55;679:98&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;truncate&lt;/codeph&gt;；拥有 TABLE_WRITE/TABLE_DELETE/DB_WRITE/DB_DELETE 权限的用户可以对指定表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:56;679:175&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;truncate&lt;/codeph&gt;；拥有 VIEW_EXEC 权限的用户可以执行视图中的 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:57;679:218&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;truncate&lt;/codeph&gt;。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:90;679:231&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:58;679:284&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;truncate&lt;/codeph&gt;；拥有 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:59;679:303&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;TABLE_WRITE&lt;/codeph&gt; 权限的用户可以对指定表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:60;679:331&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;truncate&lt;/codeph&gt;；拥有 VIEW_EXEC 权限的用户可以执行视图中的 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:61;679:374&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;truncate&lt;/codeph&gt;。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:28;680:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;19&#34; xtrc=&#34;entry:91;680:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;append!&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;19&#34; xtrc=&#34;entry:92;680:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:62;680:98&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;append!&lt;/codeph&gt;；拥有 TABLE_WRITE、TABLE_INSERT、DB_WRITE、DB_INSERT 权限的用户可以对指定表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:63;680:174&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;append!&lt;/codeph&gt;；拥有 VIEW_EXEC 权限的用户可以执行视图中的 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:64;680:216&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;append!&lt;/codeph&gt;。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;19&#34; xtrc=&#34;entry:93;680:228&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:65;680:281&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;append!&lt;/codeph&gt;；拥有 TABLE_WRITE 权限的用户可以对该表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:66;680:324&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;append!&lt;/codeph&gt;；拥有 VIEW_EXEC 权限的用户可以执行视图中的 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:67;680:366&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;append!&lt;/codeph&gt;。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:29;681:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;20&#34; xtrc=&#34;entry:94;681:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;upsert/SQL update&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;20&#34; xtrc=&#34;entry:95;681:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:68;681:98&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;upsert&lt;/codeph&gt;/&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:69;681:107&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;update&lt;/codeph&gt;；拥有 TABLE_WRITE、TABLE_UPDATE、DB_DELETE、DB_UPDATE 权限的用户可以对指定表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:70;681:183&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;upsert&lt;/codeph&gt;/&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:71;681:192&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;update&lt;/codeph&gt;；拥有 VIEW_EXEC 权限的用户可以执行视图中的 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:72;681:233&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;upsert&lt;/codeph&gt;/&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:73;681:242&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;update&lt;/codeph&gt;。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;20&#34; xtrc=&#34;entry:96;681:253&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:74;681:306&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;upsert&lt;/codeph&gt;/&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:75;681:315&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;update&lt;/codeph&gt;；拥有 TABLE_WRITE 权限的用户可以对该表进行&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:76;681:356&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;upsert&lt;/codeph&gt;/&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:77;681:365&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;update&lt;/codeph&gt;；拥有 VIEW_EXEC 权限的用户可以执行视图中的 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:78;681:406&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;upsert&lt;/codeph&gt;/&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:79;681:415&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;update&lt;/codeph&gt;。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:30;682:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;21&#34; xtrc=&#34;entry:97;682:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;SQL delete&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;21&#34; xtrc=&#34;entry:98;682:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:80;682:98&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;delete&lt;/codeph&gt;；拥有 TABLE_WRITE、TABLE_DELETE、DB_WRITE、DB_DELETE 权限的用户可以对指定表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:81;682:173&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;delete&lt;/codeph&gt;；拥有 VIEW_EXEC 权限的用户可以执行视图中的 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:82;682:214&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;delete&lt;/codeph&gt;。&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;21&#34; xtrc=&#34;entry:99;682:225&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:83;682:278&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;delete&lt;/codeph&gt;；拥有 TABLE_WRITE 权限的用户可以对该表进行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:84;682:320&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;delete&lt;/codeph&gt;；拥有 VIEW_EXEC 权限的用户可以执行视图中的 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:85;682:361&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;delete&lt;/codeph&gt;。&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:68;684:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:21;684:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;注意&lt;/b&gt;：在执行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:86;684:12&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addColumn&lt;/codeph&gt;、&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:87;684:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;dropColumns!&lt;/codeph&gt;、&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:88;684:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;renameColumns&lt;/codeph&gt;、&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:89;684:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;replaceColumns&lt;/codeph&gt;、&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:90;684:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;setColumnComment&lt;/codeph&gt;、&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:91;684:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;rename!&lt;/codeph&gt;、&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:92;684:101&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;renameTable&lt;/codeph&gt; 函数时，若用户所操作的表对象为其他用户所创建，需要给当前用户赋予表对象的 TABLE_READ 权限。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:69;686:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:22;686:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例如&lt;/b&gt;：&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:70;688:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在用户 user1 创建的数据库中赋予 user2 DBOBJ_CREATE 权限并创建表 pt1:&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:38;690:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) createUser(&#34;user1&#34;,&#34;123456&#34;,,true) createUser(&#34;user2&#34;,&#34;123456&#34;,,true) grant(`user1, DB_OWNER,&#34;dfs://test*&#34;) login(&#34;user1&#34;, &#34;123456&#34;) dbName = &#34;dfs://test&#34; if(existsDatabase(dbName)){ dropDatabase(dbName) } t = table(1..10 as id , rand(100, 10) as val) db=database(dbName, VALUE, 1..10) grant(`user2, DBOBJ_CREATE ,&#34;dfs://test&#34;) login(&#34;user2&#34;, &#34;123456&#34;) pt1= db.createPartitionedTable(t, &#34;pt1&#34;,`id).append!(t)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:71;708:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;此时若 user1 想要 rename 表 pt1 某一列，会报错：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:39;710:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;user1&#34;, &#34;123456&#34;) rename!(pt1,`val,`val1)// &amp;lt;NoPrivilege&amp;gt;Not granted to read table dfs://test/pt1'&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:72;715:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;需要赋予 user1 对 pt1 表的读权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:40;717:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;, &#34;123456&#34;) grant(`user1, TABLE_READ,&#34;dfs://test/pt1&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:73;722:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;此时 rename 成功：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:41;724:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;user1&#34;, &#34;123456&#34;) rename!(pt1,`val,`val1) schema(loadTable(dbName,`pt1)).colDefs ------------------------------------------ name typeString typeInt extra comment ---- ---------- ------- ----- ------- id INT 4 val1 INT 4 &lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;52-可见性函数&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:24;735:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:24;735:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;5.2. 可见性函数&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:24;735:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:74;737:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;可见性函数所需权限如下表所示：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; outputclass=&#34;tg&#34; xtrc=&#34;table:3;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;3&#34; xtrc=&#34;tgroup:3;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:8;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:9;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:10;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:3;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; &lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:31;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; outputclass=&#34;tg-azjp&#34; xtrc=&#34;entry:100;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;ph class=&#34;- topic/ph &#34; style=&#34;font-weight:700;color:#000&#34; xtrc=&#34;ph:1;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;函数&lt;/ph&gt;&lt;/entry&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; outputclass=&#34;tg-azjp&#34; xtrc=&#34;entry:101;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;ph class=&#34;- topic/ph &#34; style=&#34;font-weight:700;color:#000&#34; xtrc=&#34;ph:2;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;新版权限&lt;/ph&gt;&lt;/entry&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; outputclass=&#34;tg-azjp&#34; xtrc=&#34;entry:102;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;ph class=&#34;- topic/ph &#34; style=&#34;font-weight:700;color:#000&#34; xtrc=&#34;ph:3;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;旧版权限&lt;/ph&gt;&lt;/entry&gt; &lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:3;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; &lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:32;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; outputclass=&#34;tg-xls6&#34; xtrc=&#34;entry:103;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getAllDBs&lt;/entry&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; outputclass=&#34;tg-xls6&#34; xtrc=&#34;entry:104;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;管理员返回当前节点上所有分布式数据库；&lt;?linebreak?&gt;其他用户仅返回自己拥有 DB_MANAGE 权限或自己创建的分布式数据库&lt;/entry&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; outputclass=&#34;tg-xls6&#34; xtrc=&#34;entry:105;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;所有用户返回当前节点上所有分布式数据库&lt;/entry&gt; &lt;/row&gt; &lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:33;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; outputclass=&#34;tg-xls6&#34; xtrc=&#34;entry:106;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getTables&lt;/entry&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; outputclass=&#34;tg-xls6&#34; xtrc=&#34;entry:107;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;返回指定数据库中的所有表&lt;/entry&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; outputclass=&#34;tg-xls6&#34; xtrc=&#34;entry:108;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;返回指定数据库中的所有表&lt;/entry&gt; &lt;/row&gt; &lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:34;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; outputclass=&#34;tg-xls6&#34; xtrc=&#34;entry:109;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getClusterDFSDatabases&lt;/entry&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; outputclass=&#34;tg-xls6&#34; xtrc=&#34;entry:110;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;管理员返回当前节点上所有分布式数据库；&lt;?linebreak?&gt;其他用户仅返回自己拥有 DB_MANAGE 权限或自己创建的分布式数据库&lt;/entry&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; outputclass=&#34;tg-xls6&#34; xtrc=&#34;entry:111;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;所有用户返回当前节点上所有分布式数据库&lt;/entry&gt; &lt;/row&gt; &lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:35;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; outputclass=&#34;tg-7fd7&#34; xtrc=&#34;entry:112;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getDFSDatabases&lt;/entry&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; outputclass=&#34;tg-7fd7&#34; xtrc=&#34;entry:113;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;管理员返回当前节点上所有分布式数据库；&lt;?linebreak?&gt;其他用户仅返回自己拥有 DB_MANAGE 权限或自己创建的分布式数据库&lt;/entry&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; outputclass=&#34;tg-7fd7&#34; xtrc=&#34;entry:114;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;所有用户返回当前节点上所有分布式数据库&lt;/entry&gt; &lt;/row&gt; &lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:36;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; outputclass=&#34;tg-7fd7&#34; xtrc=&#34;entry:115;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getDFSTablesByDatabase&lt;/entry&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; outputclass=&#34;tg-7fd7&#34; xtrc=&#34;entry:116;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;管理员可以返回当前节点上任一分布式数据库中的表；&lt;?linebreak?&gt;其他用户仅返回自己拥有 DB_MANAGE 权限或自己创建的分布式数据库中的表&lt;/entry&gt; &lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; outputclass=&#34;tg-7fd7&#34; xtrc=&#34;entry:117;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;所有用户返回当前节点上所有分布式数据库中的表&lt;/entry&gt; &lt;/row&gt; &lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:75;773:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:23;773:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;注意&lt;/b&gt;：在新版本中，仅拥有 VIEW_EXEC 权限的用户无法获取上述函数结果。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;6-权限操作&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:25;775:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:25;775:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;6. 权限操作&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:25;775:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:76;777:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;本章将分别介绍权限操作在分布式数据库、共享内存表、流数据表、流数据引擎、视图、定时作业中的部分应用场景。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;61-分布式数据库&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:26;779:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:26;779:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;6.1. 分布式数据库&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:26;779:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:77;781:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在分布式数据库中，可以通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:93;781:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:94;781:25&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:95;781:34&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; 命令设置用户或者组的权限。在&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;markdown&#34; format=&#34;dita&#34; href=&#34;#41-库级权限类别&#34; xtrc=&#34;xref:4;781:57&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;库级权限类别&lt;/xref&gt;及&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;markdown&#34; format=&#34;dita&#34; href=&#34;#42-表级权限类别&#34; xtrc=&#34;xref:5;781:78&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;表级权限类别&lt;/xref&gt;节中的所有权限，可作为上述三个命令的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:3;781:117&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;accessType&lt;/i&gt; 参数值。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:78;783:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;其中，TABLE_READ，TABLE_WRITE，TABLE_INSERT，TABLE_UPDATE，TABLE_DELETE 权限作用范围为全局或表级。DBOBJ_CREATE，DBOBJ_DELETE，DB_READ，DB_WRITE，DB_INSERT，DB_UPDATE，DB_DELETE，DB_MANAGE，DB_OWNER 权限作用范围为全局或库级。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:79;785:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:24;785:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 1&lt;/b&gt;：赋予用户 &#34;user1&#34; 全局的 TABLE_READ 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:42;787:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; grant(`user1, TABLE_READ, &#34;*&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:80;791:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:25;791:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 2&lt;/b&gt;：赋予 &#34;user1&#34; 用户 &#34;dfs://valuedb&#34; 库下 pt 表的 TABLE_READ 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:43;793:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; grant(`user1, TABLE_READ,&#34;dfs://valuedb/pt&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:81;797:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:26;797:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 3&lt;/b&gt;：赋予 &#34;user1&#34; 用户 &#34;dfs://valuedb&#34; 库的 DBOBJ_CREATE 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:44;799:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; grant(`user1, DBOBJ_CREATE,&#34;dfs://valuedb&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:82;803:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:27;803:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 4&lt;/b&gt;：授权某个用户对某数据库中所有表的读写权限（1.30.21 和 2.00.9 版本新增功能）：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:45;805:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;,&#34;123456&#34;) createUser(&#34;user1&#34;,&#34;123456&#34;) grant(&#34;user1&#34;,DB_READ,&#34;dfs://valuedb&#34;) grant(&#34;user1&#34;,DB_WRITE,&#34;dfs://valuedb&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:83;812:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;此时 user1 拥有 &#34;dfs://valuedb&#34; 库中所有增删改查权限。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:84;814:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:28;814:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 5&lt;/b&gt;：限制用户创建并管理以 &#34;dfs://db0&#34; 为前缀的数据库（1.30.21 和 2.00.9 版本新增功能）：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:46;816:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;,&#34;123456&#34;) createUser(&#34;AlexSmith&#34;,&#34;123456&#34;) grant(&#34;AlexSmith&#34;, DB_OWNER, &#34;dfs://db0*&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:85;822:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;此时若用户 &#34;AlexSmith&#34; 创建以 &#34;dfs://db1&#34; 命名的数据库，会被拒绝。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:86;824:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:29;824:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 6&lt;/b&gt;：赋予一个组中所有组员读某张表的权限，但只有部分组员有写权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:47;826:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;admin&#34;,&#34;123456&#34;) createUser(&#34;user1&#34;,&#34;123456&#34;) createUser(&#34;user2&#34;,&#34;123456&#34;) createUser(&#34;user3&#34;,&#34;123456&#34;) createGroup(&#34;group1&#34;,[&#34;user1&#34;,&#34;user2&#34;,&#34;user3&#34;]) grant(&#34;group1&#34;, TABLE_READ, &#34;dfs://valuedb/pt&#34;) createUser(&#34;user4&#34;,&#34;123456&#34;) addGroupMember(&#34;user4&#34;,&#34;group1&#34;) grant(&#34;user1&#34;, TABLE_WRITE, &#34;dfs://valuedb/pt&#34;) grant(&#34;user4&#34;, TABLE_WRITE, &#34;dfs://valuedb/pt&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:87;839:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;此时 user1 和 user4 拥有对 &#34;dfs://valuedb/pt&#34; 表的增删改查权限，user2 和 user3 只有对其查看的权限。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:88;841:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:30;841:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 7&lt;/b&gt;：可以使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:96;841:14&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 或 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:97;841:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; 对所有对象 (以*代表) 赋予或禁止权限。例如，赋予用户 JoeFlacco 可读任何 DFS 数据表的权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:48;843:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant(&#34;JoeFlacco&#34;,TABLE_READ,&#34;*&#34;) &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:89;847:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;当 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:98;847:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 或 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:99;847:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; 所有对象后，若要撤销操作，只能使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:100;847:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; 撤销所有对象的权限，若只撤销某个指定对象的权限，则操作无效：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:49;849:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke(&#34;JoeFlacco&#34;,TABLE_READ,&#34;dfs://db1/t1&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:90;853:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;以上命令无效。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:50;855:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke(&#34;JoeFlacco&#34;,TABLE_READ,&#34;*&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:91;859:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;以上命令取消了用户 JoeFlacco 可读任何 DFS 数据表的权限。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:92;861:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;与之类似，使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:101;861:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 或 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:102;861:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; 对组赋予或禁止权限后，只能对该组使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:103;861:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; 来取消该权限设置。若对某个组员使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:104;861:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; 来取消该权限，则无法生效。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:93;863:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:31;863:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 8&lt;/b&gt;：有 DB_OWNER 权限的用户可以赋予别的用户对自己创建的数据库的权限。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:94;865:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;管理员创建了两个用户，CliffLee 和 MitchTrubisky，其中用户 MitchTrubisky 拥有 DB_OWNER 的权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:51;867:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;createUser(`CliffLee, &#34;GH456$%&#34;) createUser(`MitchTrubisky, &#34;JI3564^&#34;) grant(`MitchTrubisky,DB_OWNER);&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:95;873:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;MitchTrubisky 创建数据表 &#34;dfs://dbMT/dt&#34;, 并赋予用户 CliffLee 读取该数据表的权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:52;875:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`MitchTrubisky, &#34;JI3564^&#34;); db = database(&#34;dfs://dbMT&#34;, VALUE, 1..10) t=table(1..1000 as id, rand(100, 1000) as x) dt = db.createTable(t, &#34;dt&#34;).append!(t) grant(`CliffLee, TABLE_READ, &#34;dfs://dbMT/dt&#34;); &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:96;883:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;尽管用户 CliffLee 之前没有被系统管理员赋予任何权限，但是 CliffLee 最后的权限为：可以访问 MitchTrubisky 创建的数据表 &#34;dfs://dbMT/dt&#34;。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;62-共享内存表&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:27;885:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:27;885:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;6.2. 共享内存表&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:27;885:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:97;887:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;共享内存表会被共享到所有会话中，因此也会有权限管理的需求。系统支持对共享内存表进行写入和读取的权限管理，语法与数据库表权限管理一致。其中&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:4;887:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;accessType&lt;/i&gt; 仅支持 TABLE_READ 和 TABLE_WRITE，分别表示对共享内存表的读和增删改权限。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:98;889:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:32;889:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;注意&lt;/b&gt;：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:10;891:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:55;891:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;只有创建表的用户或者管理员可以限制其他用户对该表的操作权限。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:56;892:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;若用户使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:105;892:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addAccessControl&lt;/codeph&gt; 函数限制其他用户访问该用户创建的共享表，其他用户只有被管理员赋予访问权限后，才可访问该用户创建的共享表。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:57;893:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;如果管理员已经为其他用户 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:106;893:16&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:107;893:26&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:108;893:35&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; 该表的权限，则该表自动添加权限限制，其他未经授权的用户无法再访问该表。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:58;894:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在集群中，通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:109;894:11&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:110;894:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:111;894:30&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; 管理用户对共享内存表的权限时，权限对象必须为 &#34;nodeAlias:tableName&#34;。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:99;896:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:33;896:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例子&lt;/b&gt;：&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:100;898:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;创建管理员 MitchTrubisky，登录 MitchTrubisky 并创建共享内存表 trades：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:53;900:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`admin, &#34;123456&#34;); createUser(&#34;MitchTrubisky&#34;,&#34;JI3564^&#34;,,true) login(`MitchTrubisky, &#34;JI3564^&#34;) share streamTable(1000:0, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) as trades&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:101;907:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;此时所有用户都有读写 st1 表的权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:54;909:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;createUser(&#34;CliffLee&#34;,&#34;JI3564^&#34;,,false) login(&#34;CliffLee&#34;,&#34;JI3564^&#34;) insert into trades values(1970.01.01T00:00:00.001,`sym,1) select * from trades&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:102;916:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;赋予用户 CliffLee 读取 trades 表的权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:55;918:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`MitchTrubisky, &#34;JI3564^&#34;) grant(&#34;CliffLee&#34;, TABLE_READ, &#34;trades&#34;) &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:103;923:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;如果在集群中，权限对象必须为 &#34;nodeAlias:tableName&#34;，例如 trades 在节点 dnode1：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:56;925:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant(&#34;CliffLee&#34;, TABLE_READ, &#34;dnode1:trades&#34;) &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:104;929:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;此时用户 CliffLee 拥有读取权限而写入则没有权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:57;931:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;CliffLee&#34;,&#34;JI3564^&#34;) select * from trades insert into trades values(1970.01.01T00:00:00.001,`sym,1) =&amp;gt; No access to table [trades]&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:105;937:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;如上对该表进行过第一次权限操作之后，该表自动添加权限限制。此时只有管理员和表创建者 MitchTrubisky 对该表有读写权限。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:106;939:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;也可以取消用户 CliffLee 读取的权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:58;941:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`MitchTrubisky, &#34;JI3564^&#34;) revoke(&#34;CliffLee&#34;, TABLE_READ, &#34;trades&#34;) login(&#34;CliffLee&#34;,&#34;JI3564^&#34;) select * from trades =&amp;gt; No access to shared table [trades]&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:107;948:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;若在建表后希望仅自己和管理员对共享内存表有访问权限，可以使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:112;948:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addAccessControl&lt;/codeph&gt; 对于表增加权限控制：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:59;950:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;share table(1:0, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) as st2 addAccessControl(st2)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;63-流数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:28;955:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:28;955:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;6.3. 流数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:28;955:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:108;957:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在集群中，通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:113;957:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:114;957:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:115;957:28&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;revoke&lt;/codeph&gt; 管理用户对流数据引擎或流表的权限时，权限对象必须为 &#34;nodeAlias:tableName&#34;。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;631-流数据引擎&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:29;959:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:29;959:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;6.3.1. 流数据引擎&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:29;959:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:109;961:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;用户可以使用命令 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:116;961:10&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addAccessControl&lt;/codeph&gt; 限制其他用户访问流数据引擎。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:110;963:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:34;963:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例&lt;/b&gt;：&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:111;965:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;用户 u1 创建流数据引擎 agg1：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:60;967:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`admin, `123456) createUser(`u1, &#34;111111&#34;); createUser(`u2, &#34;222222&#34;); login(`u1, &#34;111111&#34;) share streamTable(1000:0, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) as trades output1 = table(10000:0, `time`sym`sumVolume, [TIMESTAMP, SYMBOL, INT]) agg1 = createTimeSeriesEngine(name=&#34;agg1&#34;, windowSize=600, step=600, metrics=&amp;lt;[sum(volume)]&amp;gt;, dummyTable=trades, outputTable=output1, timeColumn=`time, useSystemTime=false, keyColumn=`sym, garbageSize=50, useWindowStartTime=false)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:112;977:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;给 agg1 增加访问控制：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:61;979:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addAccessControl(agg1)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:113;983:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;用户 u2 注入数据到引擎失败：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:62;985:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`u2, &#34;222222&#34;) insert into agg1 values(2018.10.08T01:01:01.785,`A,10) // ERROR: No access to table [agg1]&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:114;990:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;给用户 u2 流数据引擎的写入权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:63;992:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`admin, `123456) grant(&#34;u2&#34;, TABLE_WRITE, &#34;agg1&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:115;997:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;如果在集群中，权限对象必须为 &#34;nodeAlias:tableName&#34;，例如 agg1 在节点 dnode1：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:64;999:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant(&#34;u2&#34;, TABLE_READ, &#34;dnode1:agg1&#34;) &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:116;1002:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;用户 u2 访问时注入数据到引擎成功：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:65;1004:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`u2, &#34;222222&#34;) insert into agg1 values(2018.10.08T01:01:01.785+1..600,take(`A,600),1..600) &lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;632-订阅流数据表到流数据表&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:30;1009:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:30;1009:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;6.3.2. 订阅流数据表到流数据表&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:30;1009:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:117;1011:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;用户订阅流数据表到流数据表时需要有订阅表的 TABLE_READ 权限和写入流数据表的 TABLE_READ 和 TABLE_WRITE 权限。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:118;1013:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:35;1013:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 1&lt;/b&gt;：u1 用户创建发布流数据表 trades 和订阅流数据表 output1 并调用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:117;1013:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addAccessControl&lt;/codeph&gt; 对表进行访问管理：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:66;1015:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`admin, `123456) createUser(`u1, &#34;111111&#34;); login(`u1, &#34;111111&#34;) share streamTable(1000:0, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) as trades share streamTable(10000:0, `time`sym`sumVolume, [TIMESTAMP, SYMBOL, INT]) as output1 addAccessControl(`trades) addAccessControl(`output1)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:119;1025:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;u2 用户被赋予 trades 表的 TABLE_READ 权限和 output1 表的 TABLE_READ 和 TABLE_WRITE 权限后可以成功订阅：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:67;1027:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`admin, `123456) grant(&#34;u2&#34;, TABLE_READ, &#34;trades&#34;) grant(&#34;u2&#34;, TABLE_WRITE, &#34;output1&#34;) grant(&#34;u2&#34;, TABLE_READ, &#34;output1&#34;) login(`u2, &#34;222222&#34;) subscribeTable(tableName=&#34;trades&#34;, actionName=&#34;agg1&#34;, offset=0, handler=append!{output1}, msgAsTable=true); &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:120;1036:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:36;1036:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 2&lt;/b&gt;：在集群中，权限对象必须为 &#34;nodeAlias:tableName&#34; 。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:121;1038:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在远程节点 NODE2 创建发布表 trades 并进行权限管理：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:68;1040:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`admin, `123456) def pubTable(){ share (streamTable(1000:0, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]), `trades) addAccessControl(`trades) } rpc(`NODE2,pubTable) share streamTable(10000:0, `time`sym`sumVolume, [TIMESTAMP, SYMBOL, INT]) as output1&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:122;1050:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;本地节点用户订阅需要 NODE2 节点 trades 表的 TABLE_READ 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:69;1052:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;createUser(`u1, &#34;111111&#34;); grant(&#34;u1&#34;, TABLE_READ, &#34;NODE2:trades&#34;) login(`u1, &#34;111111&#34;) subscribeTable(server=`NODE2,tableName=&#34;trades&#34;, actionName=&#34;agg1&#34;, offset=0, handler=append!{output1}, msgAsTable=true);&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;633-订阅流数据表到分布式表&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:31;1059:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:31;1059:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;6.3.3. 订阅流数据表到分布式表&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:31;1059:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:123;1061:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;用户订阅流数据表到分布式表时需要分布式表的 TABLE_WRITE 权限。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:124;1063:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:37;1063:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例&lt;/b&gt;：管理员创建发布表 trades 和订阅分布式数据库 &#34;dfs://valuedb/pt&#34;：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:70;1065:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`admin, `123456) dbName = &#34;dfs://valuedb&#34; t = table(10000:0, `time`sym`sumVolume, [TIMESTAMP, SYMBOL, INT]) insert into t values(2018.10.08T01:01:01.785+1..600,take(`A,600),1..600) if(existsDatabase(dbName)){       dropDatabase(dbName) } db=database(dbName, VALUE, 1..10) pt= db.createPartitionedTable(t, &#34;pt&#34;, &#34;sumVolume&#34;).append!(t) share streamTable(1000:0, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) as trades&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:125;1078:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;授权 u2 用户订阅分布式表的 TABLE_WRITE 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:71;1080:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;createUser(`u2, &#34;222222&#34;); grant(&#34;u2&#34;, TABLE_WRITE,&#34;dfs://valuedb/pt&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:126;1085:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;u2 成功订阅到数据：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:72;1087:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`u2, &#34;222222&#34;) def saveTradesToDFS(mutable dfsTrades, msg): dfsTrades.append!(msg) subscribeTable(tableName=&#34;trades&#34;, actionName=&#34;agg1&#34;, offset=0, handler=saveTradesToDFS{pt}, msgAsTable=true); login(`admin, `123456) select * from loadTable(dbName,`pt)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;64-视图权限&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:32;1095:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:32;1095:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;6.4. 视图权限&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:32;1095:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:127;1097:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; href=&#34;../db_distr_comp/db_oper/FunctionView.dita&#34; xtrc=&#34;xref:6;1097:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;函数视图&lt;/xref&gt;提供了一种灵活的方式来控制用户访问数据库和表。在视图的基础上，函数视图提供了函数功能，可以同时访问数据库并进行相关计算。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:128;1099:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:38;1099:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;注意&lt;/b&gt;：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:11;1101:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:59;1101:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;只有系统管理员有创建和删除函数视图的权限。用户即使不具备读写数据库原始数据的权限，也可通过执行函数视图，间接访问数据库，得到所需计算结果&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:60;1102:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;如果函数视图和本地的函数重名，调用时系统会解析为本地函数&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:61;1103:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;某些操作只需要 VIEW_EXEC 权限就可以在 FunctionView 中执行，详见表 &lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;markdown&#34; format=&#34;dita&#34; href=&#34;#51-ddl-和-dml-相关函数&#34; xtrc=&#34;xref:7;1103:49&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;DDL 和 DML 相关函数&lt;/xref&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:62;1104:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;VIEW_EXEC 的权限作用对象（objs）由高到低分为全局 (*)、命名空间 (&amp;lt;namespace&amp;gt;::*)、函数视图三个层级。权限可以设置为对所有函数视图生效，或针对特定函数视图生效，也可以按命名空间进行批量管理。当命名空间存在多层嵌套时，权限必须设置到 module 一层，暂不支持在更高层次的命名空间进行批量权限管理。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:129;1106:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:39;1106:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 1&lt;/b&gt;：管理员定义一个函数视图：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:73;1108:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;def countTradeAll(){ return exec count(*) from loadTable(&#34;dfs://TAQ&#34;,&#34;Trades&#34;) } addFunctionView(countTradeAll) grant(&#34;NickFoles&#34;,VIEW_EXEC,&#34;countTradeAll&#34;) &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:130;1116:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;以用户名 NickFoles 登录，执行视图 &#34;countTradeAll&#34;：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:74;1118:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;countTradeAll()&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:131;1122:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在此例中，虽然用户 NickFoles 没有访问表 &#34;dfs://TAQ/Trades&#34; 的权限，但是可以运行函数视图 &#34;countTradeAll&#34; 获取表的行数。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:132;1124:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:40;1124:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 2&lt;/b&gt;：函数视图也可以带参数。用户在使用的时候可以输入参数获取相应的结果。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:133;1126:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;创建一个函数视图，获取某一个股票在某一天的所有交易记录：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:75;1128:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;def getTrades(s, d){ return select * from loadTable(&#34;dfs://TAQ&#34;,&#34;Trades&#34;) where sym=s, date=d } addFunctionView(getTrades) grant(&#34;NickFoles&#34;,VIEW_EXEC,&#34;getTrades&#34;) &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:134;1136:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;同样在此例中，用户 NickFoles 没有访问表&#34;dfs://TAQ/Trades&#34;的权限，但是可以执行视图“getTrades”，指定股票代码 IBM 和日期 2018.07.09，获得 IBM 在 2018.07.09 这一天的所有交易记录：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:76;1138:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getTrades(&#34;IBM&#34;, 2018.07.09)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:135;1141:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:41;1141:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;例 3&lt;/b&gt;：通过命名空间对函数视图进行批量管理。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:136;1143:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在 [home]/modules/dir1/myModule.dos 文件中定义函数，并在文件第一行声明为模块，文件内容如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:77;1145:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;module dir1::myModule def f1(){ print &#34;dir1::myModule::f1&#34; } def f2(){ print &#34;dir1::myModule::f2&#34; }&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:137;1155:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;使用 use 语句引用后，可通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:118;1155:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;addFunctionView&lt;/codeph&gt; 函数一次将该模块中所有函数添加为函数视图。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:78;1157:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;use dir1::myModule addFunctionView(moduleName=&#34;dir1::myModule&#34;) getFunctionViews()&lt;/codeblock&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:4;1163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:4;1163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:11;1163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:12;1163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:4;1163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:37;1163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:118;1163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:119;1163:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;body&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:4;1165:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:38;1165:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:120;1165:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;dir1::myModule::f1&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:121;1165:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;def f1(){ print(&#34;dir1::myModule::f1&#34;)}&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:39;1166:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:122;1166:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;dir1::myModule::f2&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:123;1166:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;def f2(){ print(&#34;dir1::myModule::f2&#34;)}&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:138;1168:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;为用户 user1 授权执行 dir1::myModule 命名空间下的所有函数视图&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:79;1170:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant(userId=&#34;user1&#34;, accessType=VIEW_EXEC, objs=&#34;dir1::myModule::*&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:139;1174:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;禁止用户 user2 执行 dir1::myModule 命名空间下的所有函数视图&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:80;1176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deny(userId=&#34;user2&#34;, accessType=VIEW_EXEC, objs=&#34;dir1::myModule::*&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:140;1180:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;命名空间必须明确到 module 层级。例如 dir1::myModule 模块，不能在 dir1 层级进行权限管理。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:81;1182:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant(userId=&#34;user1&#34;, accessType=VIEW_EXEC, objs=&#34;dir1::*&#34;)// Error：The Module [dir1::*] does not exist.&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;65-定时作业权限&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:33;1186:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:33;1186:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;6.5. 定时作业权限&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:33;1186:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:141;1188:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;定时作业是指用户指定在特定的时间，以特定的频率执行一系列任务，多用于批处理类业务场景。&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:12;1190:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:63;1190:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;当用户创建定时作业（函数 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:119;1190:16&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt; scheduleJob&lt;/codeph&gt;）时，若作业中包含库/表的读写或修改操作，不需要具备相关的权限也能成功创建。但执行定时作业时，需要具备与对象相关的权限，否则无法执行&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:64;1191:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;系统管理员可以 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:120;1191:11&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;deleteScheduledJob&lt;/codeph&gt; 删除其他用户定时作业，非管理员用户只能删除自己创建的定时作业&lt;/li&gt;&lt;/ul&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:82;1193:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(&#34;NickFoles&#34;,&#34;AB123!@&#34;)   def readTable(){ read_t1=loadTable(&#34;dfs://db1&#34;,&#34;t1&#34;)   return exec count(*) from read_t1   } scheduleJob(&#34;readTableJob&#34;,&#34;read DFS table&#34;,readTable,minute(now()),date(now()),date(now())+1,'D');&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:142;1202:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;不管 NickFoles 有没有读 &#34;dfs://db1/t1&#34; 的权限，&#34;readTable&#34; 任务都能设置成功。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:143;1204:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在 &#34;readTable&#34; 任务实际运行时，如果用户 NickFoles 有读 &#34;dfs://db1/t1&#34; 的权限，则成功执行，否则鉴权失败。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;66-脚本执行权限&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:34;1206:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:34;1206:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;6.6. 脚本执行权限&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:34;1206:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:144;1208:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;SCRIPT_EXEC，TEST_EXEC 权限作用范围为全局。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:145;1210:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;用户执行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:121;1210:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;run&lt;/codeph&gt; 函数，或在客户端运行脚本都需要 SCRIPT_EXEC 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:83;1212:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`admin, `123456) createUser(`user1, &#34;123456&#34;); grant(`user1,SCRIPT_EXEC) login(`user1, &#34;123456&#34;) run(&#34;test.txt&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:146;1220:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;用户执行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:122;1220:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;test&lt;/codeph&gt;函数，或在客户端执行 unittest 都需要 TEST_EXEC 权限：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:84;1222:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;login(`admin, `123456) createUser(`user1, &#34;123456&#34;); grant(`user1,TEST_EXEC) login(`user1, &#34;123456&#34;) test(&#34;test.txt&#34;)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;67-内存限制权限&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:35;1230:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:35;1230:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;6.7. 内存限制权限&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:35;1230:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:147;1232:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:123;1232:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 指定 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:5;1232:12&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;accessType&lt;/i&gt; = QUERY_RESULT_MEM_LIMIT 来限制某个用户查询返回结果的内存上限和 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:6;1232:70&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;accessType&lt;/i&gt; = TASK_GROUP_MEM_LIMIT 限制发送的批量子查询占用的内存上限，等同于 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:124;1232:128&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;setMemLimitOfQueryResult&lt;/codeph&gt; 函数和 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:125;1232:159&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;setMemLimitOfTaskGroupResult&lt;/codeph&gt; 函数，区别在于 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:126;1232:198&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant&lt;/codeph&gt; 只对指定用户生效（暂不支持用户组），&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:127;1232:224&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;setMemLimitOfQueryResult &lt;/codeph&gt;函数和 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:128;1232:256&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;setMemLimitOfTaskGroupResult &lt;/codeph&gt;函数对所有用户生效。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:148;1234:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;下述脚本限制用户“AlexSmith”查询时，查询结果所占用的内存大小不能超过 4 GB：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:85;1236:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant(&#34;AlexSmith&#34;, QUERY_RESULT_MEM_LIMIT, 4)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:149;1240:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;下述脚本限制用户“AlexSmith”查询时，发送的批量子查询占用的内存不能超过 4 GB：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:86;1242:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;grant(&#34;AlexSmith&#34;, TASK_GROUP_MEM_LIMIT, 4)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;7-使用-https-实现安全通信&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:36;1246:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:36;1246:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;7. 使用 HTTPS 实现安全通信&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:36;1246:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:150;1248:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DolphinDB 支持使用 HTTPS 安全协议与 web notebook、VSCode 等编辑器进行通信。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;71-使用-https-配置&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:37;1250:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:37;1250:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;7.1. 使用 HTTPS 配置&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:37;1250:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:151;1252:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DolphinDB 提供两种配置 HTTPS 的方法：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:13;1254:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:65;1254:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在控制节点的配置文件中添加 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:129;1254:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;enableHTTPS=true&lt;/codeph&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:66;1255:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在启动控制节点的命令行添加 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:130;1255:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;-enableHTTPS true&lt;/codeph&gt;&lt;/li&gt;&lt;/ul&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:87;1257:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;./dolphindb -enableHTTPS true -home master -publicName www.psui.com -mode controller -localSite 192.168.1.30:8500:rh8500 -logFile ./log/master.log&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;72-https-证书设置&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:38;1261:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:38;1261:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;7.2. HTTPS 证书设置&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:38;1261:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:152;1263:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DolphinDB 使用服务端证书验证的安全策略。默认情况下，会生成自制证书，客户需要安装服务端的证书，否则浏览器提示不安全连接。在集群环境中，每个节点分布在不同的物理机器上，每台物理 server 需要一份证书，因此控制节点和代理节点需要生成证书，数据节点使用同一个物理服务器上代理节点生成的证书。用户也可购买经过第三方认证的证书。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;721-第三方认证证书&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:39;1265:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:39;1265:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;7.2.1. 第三方认证证书&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:39;1265:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:153;1267:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;将第三方证书重命名为 server.crt，并且拷贝到控制节点和代理节点的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:7;1267:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;home&lt;/i&gt; 目录下的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:8;1267:51&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;keys&lt;/i&gt; 文件夹中，若 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:9;1267:65&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;keys&lt;/i&gt; 文件夹不存在，则需手动创建。由于第三方证书经过公认的权威授权机构颁布，所以浏览器默认信任该证书，不需要再手动安装。绝大部分应用场景适合使用此方式。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;722-安装自制证书&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:40;1269:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:40;1269:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;7.2.2. 安装自制证书&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:40;1269:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:154;1271:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在小型封闭集群内部通信时，用户也可以使用自制证书进行 OPENSSL 安全通信，具体过程如下：&lt;/p&gt;&lt;ol class=&#34;- topic/ol &#34; xtrc=&#34;ol:3;1273:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:67;1273:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:155;1273:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;把 publicName 设置为计算机的域名。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:156;1275:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在集群控制节点的配置文件 (&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:10;1275:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;controller.cfg&lt;/i&gt;) 中加上&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:131;1275:40&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;publicName=www.ABCD.com&lt;/codeph&gt;，或者在命令行窗口启动控制节点时加上 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:132;1275:84&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;-publicName www.ABCD.com&lt;/codeph&gt;。&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:68;1277:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:157;1277:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;检查证书是否生成。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:158;1279:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;启动控制节点，并且检查证书文件 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:11;1279:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;server.crt&lt;/i&gt; 和服务器的独立密钥 serverPrivate.key 是否存在主目录的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:12;1279:71&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;keys&lt;/i&gt; 目录下。&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:69;1281:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:159;1281:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;把自签名证书安装到浏览器的证书颁发机构，例如：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:14;1283:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:70;1283:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:160;1283:7&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在 Google Chrome，选择 设置-&amp;gt;隐私和安全-&amp;gt;安全-&amp;gt;管理设备证书-&amp;gt;Import，把 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:13;1283:58&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;server.crt&lt;/i&gt; 导入。&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:71;1285:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:161;1285:7&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;在浏览器地址栏中输入 &#34;https://www.ABCD.com:8500/&#34; 连接到 DolphinDB 集群管理器，其中 8500 是控制节点的端口。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;8-支持-sso-single-sign-on&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:41;1287:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:41;1287:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;8. 支持 SSO (Single Sign On)&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:41;1287:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:162;1289:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DolphinDB 的控制节点通过 OpenSSL ticket 为客户端提供安全通信支持。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:163;1291:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DolphinDB 提供两个用于 SSO 的 API 函数：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:15;1293:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:72;1293:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:133;1293:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;getAuthenticatedUserTicket()&lt;/codeph&gt; 获取当前登录用户的加密 ticket&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:73;1294:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:134;1294:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;authenticateByTicket(ticket)&lt;/codeph&gt; 使用上面获取的 ticket 登录系统&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:164;1296:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/ACL_and_Security.md&#34;&gt;DolphinDB 的开发者可以方便安全的使用这些接口来对系统进行扩展。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;"/><meta name="wh-source-relpath" content="tutorials/ACL_and_Security.md"/><meta name="wh-out-relpath" content="tutorials/ACL_and_Security_2.html"/>

    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/commons.css?buildId=2024012323"/>
    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic.css?buildId=2024012323"/>

    <script src="../oxygen-webhelp/app/options/properties.js?buildId=20250305183303"></script>
    <script src="../oxygen-webhelp/app/localization/strings.js?buildId=2024012323"></script>
    <script src="../oxygen-webhelp/app/search/index/keywords.js?buildId=20250305183303"></script>
    <script defer="defer" src="../oxygen-webhelp/app/commons.js?buildId=2024012323"></script>
    <script defer="defer" src="../oxygen-webhelp/app/topic.js?buildId=2024012323"></script>
<link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/styles.css?buildId=2024012323"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script></head>

    <body id="用户权限管理" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            跳转到主要内容
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div xmlns:whc="http://www.oxygenxml.com/webhelp/components" class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="https://docs.dolphindb.cn/zh/index.html" class=" wh_logo d-none d-sm-block "><img src="../logo.png" alt="  DolphinDB 文档中心  "/></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="booktitle">  <span class="ph mainbooktitle">DolphinDB 文档中心</span>  </span></a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="搜索 " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="搜索查询" required="required"/><button type="submit" class="wh_search_button" aria-label="搜索"><span class="search_input_text">搜索</span></button></div></form>
            
            <script src="/vendors/react/umd/react.production.min.js" defer="defer"></script>
<script src="/vendors/react-dom/umd/react-dom.production.min.js" defer="defer"></script>
<script src="/vendors/dayjs/dayjs.min.js" defer="defer"></script>
<script src="/vendors/antd/dist/antd.min.js" defer="defer"></script>
<script src="/vendors/@ant-design/icons/dist/index.umd.min.js" defer="defer"></script>
<script src="/zh/index.js" type="module"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" defer="defer"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer="defer"><!--


--></script>
<script defer="defer"><!--

// 从主页重定向
const currentUrl = window.location.href;

// 判断当前URL是否包含index.html并且路径最后部分是index.html
if (currentUrl.endsWith('index.html')) {
    // 处理根目录下的index.html跳转
    const baseUrl = currentUrl.split('/index.html')[0]; // 获取index.html之前的部分
    const redirectUrl = `${baseUrl}/about/ddb_intro.html`; // 构建跳转路径
    window.location.href = redirectUrl; // 执行跳转
}

--></script>
            
        </div></div>
    </div>
</header>
        
        
         
        
        
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="../index.html"><span>主页</span></a></span></li><li><div class="topicref" data-id="about_tutorials"><div class="title"><a href="../tutorials/about_tutorials.html"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div></li><li><div class="topicref"><div class="title"><a href="../tutorials/scheduledJob_2.html">系统运维</a></div></div></li><li class="active"><div class="topicref" data-id="用户权限管理"><div class="title"><a href="../tutorials/ACL_and_Security_2.html">用户权限管理</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="切换搜索突出显示" title="切换搜索突出显示"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="折叠截面" title="折叠截面"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="打印此页" aria-label="打印此页"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem"><div data-tocid="ddb_intro-d9713e87" class="topicref" data-id="ddb_intro" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../about/ddb_intro.html" id="ddb_intro-d9713e87-link">关于DolphinDB</a></div></div></li><li role="treeitem"><div data-tocid="chap1_getstarted-d9713e136" class="topicref" data-id="chap1_getstarted" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../getstarted/chap1_getstarted.html" id="chap1_getstarted-d9713e136-link">快速上手</a><div class="wh-tooltip"><p class="shortdesc">如何快速部署 DolphinDB、建库建表、写入和查询数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="sectionddb_deployment-d9713e189" class="topicref" data-id="sectionddb_deployment" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action sectionddb_deployment-d9713e189-link" class="wh-expand-btn"></span><div class="title"><a href="../deploy/deploy_intro.html" id="sectionddb_deployment-d9713e189-link"><span class="keyword label">部署</span></a><div class="wh-tooltip"><p class="shortdesc">如何在不同的场景中部署 DolphinDB</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259" class="topicref" data-id="new_chap_database_manage_new_chap_dbmanage_landing_page" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link" class="wh-expand-btn"></span><div class="title"><a href="../db_distr_comp/cfg/db_intro.html" id="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link"><span class="keyword label">数据库</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 数据库的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_streaming-d9713e3760" class="topicref" data-id="chap7_tutorials_streaming" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_streaming-d9713e3760-link" class="wh-expand-btn"></span><div class="title"><a href="../stream/str_intro.html" id="chap7_tutorials_streaming-d9713e3760-link"><span class="keyword label">流数据</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 流数据引擎及流数据计算的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e7513" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e7513-link" class="wh-expand-btn"></span><div class="title"><a href="../db_distr_comp/db_oper/import_data.html" id="tocId-d9713e7513-link">数据迁移</a><div class="wh-tooltip"><p class="shortdesc">如何从不同数据源向 DolphinDB 迁移数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_system_management-d9713e7940" class="topicref" data-id="chap7_tutorials_system_management" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_system_management-d9713e7940-link" class="wh-expand-btn"></span><div class="title"><a href="../sys_man/om_intro.html" id="chap7_tutorials_system_management-d9713e7940-link"><span class="keyword label">系统运维</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 的系统运维功能及方法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="troubleshooting-d9713e8780" class="topicref" data-id="troubleshooting" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action troubleshooting-d9713e8780-link" class="wh-expand-btn"></span><div class="title"><a href="../error_codes/troubleshooting.html" id="troubleshooting-d9713e8780-link">故障排查</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="about_language_resources-d9713e20911" class="topicref" data-id="about_language_resources" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_language_resources-d9713e20911-link" class="wh-expand-btn"></span><div class="title"><a href="../progr/progr_intro.html" id="about_language_resources-d9713e20911-link"><span class="keyword label">编程语言</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 编程基本概念与方法、SQL 在 DolphinDB 的应用</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="functions_references-d9713e30925" class="topicref" data-id="functions_references" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action functions_references-d9713e30925-link" class="wh-expand-btn"></span><div class="title"><a href="../funcs/funcs_intro.html" id="functions_references-d9713e30925-link"><span class="keyword label">函数参考</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 函数分类、语法、详解及示例</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="api_protocol-d9713e94064" class="topicref" data-id="api_protocol" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action api_protocol-d9713e94064-link" class="wh-expand-btn"></span><div class="title"><a href="../api/connapi_intro.html" id="api_protocol-d9713e94064-link"><span class="keyword label">连接器 &amp; API</span></a><div class="wh-tooltip"><p class="shortdesc">面向不同编程语言的 DolphinDB API 及连接器，相关协议和用法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap6_plugin-d9713e94210" class="topicref" data-id="chap6_plugin" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap6_plugin-d9713e94210-link" class="wh-expand-btn"></span><div class="title"><a href="../plugins/plg_intro.html" id="chap6_plugin-d9713e94210-link"><span class="keyword label">插件</span></a><div class="wh-tooltip"><p class="shortdesc">多个应用场景的插件使用说明和插件开发指导</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="third_party-d9713e97904" class="topicref" data-id="third_party" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action third_party-d9713e97904-link" class="wh-expand-btn"></span><div class="title"><a href="../third_party.html" id="third_party-d9713e97904-link">第三方工具</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="about_tutorials-d9713e98227" class="topicref" data-id="about_tutorials" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action about_tutorials-d9713e98227-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/about_tutorials.html" id="about_tutorials-d9713e98227-link"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e98280" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e98280-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/new_users_finance.html" id="tocId-d9713e98280-link">新用户入门</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e98327" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e98327-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/database.html" id="tocId-d9713e98327-link">数据库</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e99111" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e99111-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/std_sql_ddb.html" id="tocId-d9713e99111-link">编程</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e100448" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e100448-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming-real-time-correlation-processing_2.html" id="tocId-d9713e100448-link">流数据</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="tocId-d9713e100955" class="topicref" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action tocId-d9713e100955-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/scheduledJob_2.html" id="tocId-d9713e100955-link">系统运维</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="定时作业-d9713e100956" class="topicref" data-id="定时作业" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/scheduledJob_2.html" id="定时作业-d9713e100956-link">定时作业</a></div></div></li><li role="treeitem"><div data-tocid="作业管理-d9713e101002" class="topicref" data-id="作业管理" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/job_management_tutorial_2.html" id="作业管理-d9713e101002-link">作业管理</a></div></div></li><li role="treeitem" class="active"><div data-tocid="用户权限管理-d9713e101048" class="topicref" data-id="用户权限管理" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/ACL_and_Security_2.html" id="用户权限管理-d9713e101048-link">用户权限管理</a></div></div></li><li role="treeitem"><div data-tocid="数据备份以及恢复-130202008及之后版本-d9713e101094" class="topicref" data-id="数据备份以及恢复-130202008及之后版本" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/backup-restore-new.html" id="数据备份以及恢复-130202008及之后版本-d9713e101094-link">数据备份以及恢复 （1.30.20/2.00.8及之后版本）</a></div></div></li><li role="treeitem"><div data-tocid="数据备份以及恢复-130202008以前版本-d9713e101140" class="topicref" data-id="数据备份以及恢复-130202008以前版本" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/backup_restore_before_208.html" id="数据备份以及恢复-130202008以前版本-d9713e101140-link">数据备份以及恢复 （1.30.20/2.00.8以前版本）</a></div></div></li><li role="treeitem"><div data-tocid="数据再平衡-d9713e101186" class="topicref" data-id="数据再平衡" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/Data_Move_Rebalance.html" id="数据再平衡-d9713e101186-link">数据再平衡</a></div></div></li><li role="treeitem"><div data-tocid="集群间数据库同步-d9713e101232" class="topicref" data-id="集群间数据库同步" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/data_sync_among_clusters.html" id="集群间数据库同步-d9713e101232-link">集群间数据库同步</a></div></div></li><li role="treeitem"><div data-tocid="集群间异步复制-d9713e101278" class="topicref" data-id="集群间异步复制" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/async_replication.html" id="集群间异步复制-d9713e101278-link">集群间异步复制</a></div></div></li><li role="treeitem"><div data-tocid="数据导入最容易忽略的十个细节-d9713e101324" class="topicref" data-id="数据导入最容易忽略的十个细节" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/data_import_details.html" id="数据导入最容易忽略的十个细节-d9713e101324-link">数据导入最容易忽略的十个细节</a></div></div></li><li role="treeitem"><div data-tocid="线程模型-d9713e101370" class="topicref" data-id="线程模型" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/threading_model.html" id="线程模型-d9713e101370-link">线程模型</a></div></div></li><li role="treeitem"><div data-tocid="线程简介-d9713e101416" class="topicref" data-id="线程简介" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/thread_intro_2.html" id="线程简介-d9713e101416-link">线程简介</a></div></div></li><li role="treeitem"><div data-tocid="内存管理-d9713e101463" class="topicref" data-id="内存管理" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/memory_management.html" id="内存管理-d9713e101463-link">内存管理</a></div></div></li><li role="treeitem"><div data-tocid="out-of-memory-d9713e101509" class="topicref" data-id="out-of-memory" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/oom_settlement_2.html" id="out-of-memory-d9713e101509-link">Out of Memory</a></div></div></li><li role="treeitem"><div data-tocid="非标权限管理-d9713e101555" class="topicref" data-id="非标权限管理" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/non-standard_permission_management.html" id="非标权限管理-d9713e101555-link">非标权限管理</a></div></div></li><li role="treeitem"><div data-tocid="节点启动流程简析与常见问题-d9713e101601" class="topicref" data-id="节点启动流程简析与常见问题" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/node_startup_process_and_questions.html" id="节点启动流程简析与常见问题-d9713e101601-link">节点启动流程简析与常见问题</a></div></div></li><li role="treeitem"><div data-tocid="用户级别的资源跟踪详解-d9713e101647" class="topicref" data-id="用户级别的资源跟踪详解" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/user_level_resource_tracking.html" id="用户级别的资源跟踪详解-d9713e101647-link">用户级别的资源跟踪详解</a></div></div></li><li role="treeitem"><div data-tocid="使用-prometheus-监控告警-d9713e101693" class="topicref" data-id="使用-prometheus-监控告警" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/promethues2.html" id="使用-prometheus-监控告警-d9713e101693-link">使用 Prometheus 监控告警</a></div></div></li><li role="treeitem"><div data-tocid="redash-连接-dolphindb-数据源-d9713e101739" class="topicref" data-id="redash-连接-dolphindb-数据源" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/data_interface_for_redash.html" id="redash-连接-dolphindb-数据源-d9713e101739-link">Redash 连接 DolphinDB 数据源</a></div></div></li><li role="treeitem"><div data-tocid="使用-chart-组件展示数据-d9713e101785" class="topicref" data-id="使用-chart-组件展示数据" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/web_chart_integration.html" id="使用-chart-组件展示数据-d9713e101785-link">使用 chart 组件展示数据</a></div></div></li><li role="treeitem"><div data-tocid="debezium--kafka-实时同步-oracle-11g-数据到-dolphindb-运维手册-d9713e101831" class="topicref" data-id="debezium--kafka-实时同步-oracle-11g-数据到-dolphindb-运维手册" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/debezium_kafka_real_time_synchronization_of_oracle_11g_data.html" id="debezium--kafka-实时同步-oracle-11g-数据到-dolphindb-运维手册-d9713e101831-link">Debezium + Kafka 实时同步 Oracle 11g 数据到 DolphinDB 运维手册</a></div></div></li><li role="treeitem"><div data-tocid="基于_zabbix_的_dolphindb_集群运维监控-d9713e101877" class="topicref" data-id="基于_zabbix_的_dolphindb_集群运维监控" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/zabbix_cluster_monitoring.html" id="基于_zabbix_的_dolphindb_集群运维监控-d9713e101877-link">基于 Zabbix 的 DolphinDB 集群运维监控</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="模块概述-d9713e101923" class="topicref" data-id="模块概述" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action 模块概述-d9713e101923-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/tu_modules.html" id="模块概述-d9713e101923-link">模块</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e102568" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e102568-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/OHLC_2.html" id="tocId-d9713e102568-link">金融场景案例</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e104827" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e104827-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming_engine_anomaly_alerts_2.html" id="tocId-d9713e104827-link">物联网场景案例</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105795" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105795-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/dolphindb_tensor_libtorch_tutorial.html" id="tocId-d9713e105795-link">机器学习</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105842" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105842-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/api_performance.html" id="tocId-d9713e105842-link">测试报告</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105982" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105982-link" class="wh-expand-btn"></span><div class="title"><a href="../rn/server/3_00_2.html" id="tocId-d9713e105982-link">版本说明</a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 版本发布历史</p></div></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        <button id="wh_close_topic_toc_button" class="close-toc-button d-none" aria-label="Toggle topic table of content" aria-controls="wh_topic_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        <div class=" wh_topic_content body "><main role="main"><article class="- topic/topic topic" role="article" aria-labelledby="ariaid-title1"><h1 class="- topic/title title topictitle1" id="ariaid-title1">用户权限管理</h1><div class="- topic/body body"><p class="- topic/p p">在数据库产品使用过程中，为保证数据不被窃取、不遭破坏，我们需要通过用户权限来限制用户对数据库、数据表、视图等功能的操作范围，以保证数据库安全性。为此，DolphinDB 提供了具备以下主要功能的权限管理系统：</p><ul class="- topic/ul ul"><li class="- topic/li li">提供用户和组角色，方便权限控制</li><li class="- topic/li li">提供 20 种权限控制类别，适应各种场景</li><li class="- topic/li li">丰富的权限控制函数</li><li class="- topic/li li">函数视图兼顾保护数据隐私与提供分析结果</li><li class="- topic/li li">对任务调度和流数据任务动态鉴权，保证系统安全</li><li class="- topic/li li">使用 RSA 对用户关键信息加密</li><li class="- topic/li li">支持 SSO，保证安全通信，方便系统扩展</li></ul><p class="- topic/p p">DolphinDB 在 1.30.21 和 2.00.9 版本中对权限管理主要做了如下升级，使权限控制更加精确、完善和方便：</p><ul class="- topic/ul ul"><li class="- topic/li li">新增数据库层面权限类型：DB_READ、DB_WRITE、DB_UPDATE、DB_DELETE、DB_INSERT</li><li class="- topic/li li">将原本的 TABLE_WRITE 权限细分为 TABLE_INSERT、TABLE_UPDATE、TABLE_DELETE</li><li class="- topic/li li">新增用户内存限制权限类型：QUERY_RESULT_MEM_LIMIT、TASK_GROUP_MEM_LIMIT</li><li class="- topic/li li">支持在数据节点执行权限相关函数</li></ul></div><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title2" id="1-角色"><h2 class="- topic/title title topictitle2" id="ariaid-title2">1. 角色</h2><div class="- topic/body body"><p class="- topic/p p">在未进行登录操作前，用户以 guest 身份访问 DolphinDB server，此时没有任何访问或操作数据库表的权限，也无法被赋予任何权限，需要执行 <code class="+ topic/ph pr-d/codeph ph codeph">login</code> 函数登录用户，具体的角色分类及创建用户方式等将在下述文章中介绍。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title3" id="11-角色分类"><h3 class="- topic/title title topictitle3" id="ariaid-title3">1.1. 角色分类</h3><div class="- topic/body body"></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title4" id="111-用户和组"><h4 class="- topic/title title topictitle4" id="ariaid-title4">1.1.1. 用户和组</h4><div class="- topic/body body"><p class="- topic/p p">在权限管理系统中，DolphinDB 引入组的概念，便于对具有相同权限的用户进行权限配置和管理。</p><p class="- topic/p p">当权限管理需求发生变化，只需要修改一次组的权限，就可以应用于组内所有用户。</p><p class="- topic/p p">组的新成员可以获得组拥有的所有权限。</p><p class="- topic/p p">一个用户可以属于 0，1 或多个组，一个组里也可以包括 0，1 或多个用户。</p><p class="- topic/p p">用户和组都是权限的载体。我们可以赋予或禁止一个用户、一个组某项权限。用户最终的实际权限是用户本身的权限，加上所属组的权限的结果（详见<a class="- topic/xref xref" href="#31-%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E6%9D%83%E9%99%90%E7%A1%AE%E5%AE%9A%E8%A7%84%E5%88%99">用户和组权限确定规则</a>）。</p></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title5" id="112-管理员和超级管理员"><h4 class="- topic/title title topictitle4" id="ariaid-title5">1.1.2. 管理员和超级管理员</h4><div class="- topic/body body"><p class="- topic/p p">DolphinDB 将管理员分超级管理员（super admin）和普通管理员（admin）。</p><p class="- topic/p p">DolphinDB 集群第一次启动时，会自动创建用户名为 "admin"，密码为 "123456" 的超级管理员。此超级管理员初始时便拥有所有的权限，且无法被删除，其权限也无法被剥夺。</p><p class="- topic/p p">所有用户（包括超级管理员）都可以通过 <code class="+ topic/ph pr-d/codeph ph codeph">changePwd</code> 修改自己的密码，或者通过管理员 <code class="+ topic/ph pr-d/codeph ph codeph">resetPwd</code> 修改密码。</p></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title6" id="113-管理员和普通用户"><h4 class="- topic/title title topictitle4" id="ariaid-title6">1.1.3. 管理员和普通用户</h4><div class="- topic/body body"><p class="- topic/p p">除管理员以外的用户即为普通用户。</p><p class="- topic/p p">管理员可以通过 <code class="+ topic/ph pr-d/codeph ph codeph">createUser</code> 函数的 <em class="+ topic/ph hi-d/i ph i">isAdmin</em> 参数决定是否将创建的用户设置为管理员。</p><p class="- topic/p p">只有管理员可以创建、删除用户和组，赋予或禁止、撤销其他管理员，用户和组的权限，获取其他用户和组的相关信息。</p><p class="- topic/p p">只有管理员才能执行如下用户管理函数： <code class="+ topic/ph pr-d/codeph ph codeph">resetPwd</code>, <code class="+ topic/ph pr-d/codeph ph codeph">createGroup</code>, <code class="+ topic/ph pr-d/codeph ph codeph">deleteGroup</code>, <code class="+ topic/ph pr-d/codeph ph codeph">createUser</code>, <code class="+ topic/ph pr-d/codeph ph codeph">deleteUser</code>, <code class="+ topic/ph pr-d/codeph ph codeph">addGroupMember</code>, <code class="+ topic/ph pr-d/codeph ph codeph">deleteGroupMember</code>。</p><p class="- topic/p p">以下为超级管理员、管理员和普通用户的初始权限对照表：</p><div class="table-container"><table class="- topic/table table" data-cols="4"><caption></caption><colgroup><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="113-管理员和普通用户__entry__1"> </th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="113-管理员和普通用户__entry__2">超级管理员</th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="113-管理员和普通用户__entry__3">管理员</th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="113-管理员和普通用户__entry__4">非管理员用户</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__1">是否需要手动创建</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__2">否</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__3">是</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__4">是</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__1">是否可以被删除</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__2">否</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__3">是</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__4">是</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__1">是否会被 <code class="+ topic/ph pr-d/codeph ph codeph">getUserList</code> 函数列出</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__2">否</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__3">是</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__4">是</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__1">是否有权创建和删除管理员、用户、组</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__2">是</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__3">是</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__4">否</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__1">是否有权赋予和禁止管理员、用户、组的权限</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__2">是</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__3">是</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__4">否</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__1">是否有权创建和删除函数视图</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__2">是</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__3">是</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__4">否</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__1">是否有权删除其他用户提交的任务</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__2">是</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__3">是</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__4">否</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__1">是否拥有所有类型的权限（权限类型介绍见 <a class="- topic/xref xref" href="#4-%E6%9D%83%E9%99%90%E7%B1%BB%E5%88%AB">权限类别</a>）</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__2">是</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__3">否</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="113-管理员和普通用户__entry__4">否</td></tr></tbody></table></div></div></article></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title7" id="12-角色管理"><h3 class="- topic/title title topictitle3" id="ariaid-title7">1.2. 角色管理</h3><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：2.00.9 和 1.30.21 版本后，角色管理函数可以在数据节点执行，之前版本只允许在控制节点操作。</p></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title8" id="121-管理用户"><h4 class="- topic/title title topictitle4" id="ariaid-title8">1.2.1. 管理用户</h4><div class="- topic/body body"><p class="- topic/p p">只有管理员可以创建用户：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`admin, <span class="hl-string">"123456"</span>);//超级管理员登录
createUser(<span class="hl-string">"admin1"</span>,<span class="hl-string">"123456"</span>,,true)//创建普通管理员
login(<span class="hl-string">"admin1"</span>,<span class="hl-string">"123456"</span>)//普通管理员登录
createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>,,false)//普通管理员创建普通用户
createUser(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>,,true)//普通管理员创建普通管理员</pre><p class="- topic/p p">所有用户都可以修改自己的密码：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)//登录用户
changePwd(<span class="hl-string">"123456"</span>,<span class="hl-string">"123456@"</span>)//修改自己的密码
logout(<span class="hl-string">"user1"</span>)
login(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456@"</span>)//修改密码成功</pre><p class="- topic/p p">只有管理员可以修改其他用户的密码：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin1"</span>,<span class="hl-string">"123456"</span>)//登录管理员用户
resetPwd(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)//修改其他用户密码
login(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)//修改密码成功</pre><p class="- topic/p p">只有管理员可以删除用户：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin1"</span>,<span class="hl-string">"123456"</span>)//登录管理员用户
deleteUser(<span class="hl-string">"user1"</span>)//删除用户
login(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)//用户删除成功
=&gt; The user name <strong class="hl-keyword">or</strong> password <strong class="hl-keyword">is</strong> incorrect</pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title9" id="122-管理组"><h4 class="- topic/title title topictitle4" id="ariaid-title9">1.2.2. 管理组</h4><div class="- topic/body body"><p class="- topic/p p">只有管理员可以进行组的管理操作。</p><p class="- topic/p p">创建组：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">createGroup(<span class="hl-string">"group1"</span>,[<span class="hl-string">"admin1"</span>])</pre><p class="- topic/p p">添加组成员：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">addGroupMember([<span class="hl-string">"user2"</span>],<span class="hl-string">"group1"</span>)</pre><p class="- topic/p p">删除组成员：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">deleteGroupMember([<span class="hl-string">"user2"</span>],<span class="hl-string">"group1"</span>)</pre><p class="- topic/p p">删除组：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">deleteGroup(<span class="hl-string">"group1"</span>)</pre><p class="- topic/p p">删除组将不会删除组内成员，但会回收组的权限，单独对成员限权的操作不变；添加成员到组里后，该用户的权限会发生变化，详细权限判定规则见<em class="+ topic/ph hi-d/i ph i">用户和组权限确定规则</em>部分内容。</p></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title10" id="123-查看角色信息"><h4 class="- topic/title title topictitle4" id="ariaid-title10">1.2.3. 查看角色信息</h4><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">getGroupList</code>：返回所有组名列表，只能由管理员执行</li><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">getUsersByGroupId</code>：返回属于指定组的用户，只能由管理员执行</li><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">getGroupsByUserId</code>：返回用户所在的组，只能由管理员执行</li><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">getGroupAccess</code>：返回组的权限，只能由管理员执行</li><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">getUserList</code>：获取除管理员之外的所有用户名，只能由管理员执行</li><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">getUserAccess</code>：返回指定用户所单独被赋予的权限，不包括用户所属组的权限。管理员可以查看所有用户的权限，普通用户只能查看自己的权限，没有指定 userId 时，返回当前登录用户的权限</li></ul><p class="- topic/p p">相关函数用法，参考<a class="- topic/xref xref" href="../funcs/funcs_by_topics.html">函数</a>。</p></div></article></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title11" id="2-权限管理"><h2 class="- topic/title title topictitle2" id="ariaid-title11">2. 权限管理</h2><div class="- topic/body body"><p class="- topic/p p">用户可以使用 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code>，<code class="+ topic/ph pr-d/codeph ph codeph">deny</code> 和 <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> 命令来赋予权限、禁止权限，以及撤销权限设置，对应的权限状态为 Allow，Deny 和 None。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：2.00.9 和 1.30.21 版本后权限管理函数操作可以在数据节点执行，之前版本只允许在控制节点操作。</p><p class="- topic/p p">grant 命令：授予某个用户或某个用户组各类权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">grant(`user2, DBOBJ_CREATE,<span class="hl-string">"*"</span>) 
getUserAccess(<span class="hl-string">"user2"</span>)</pre><img class="- topic/image image" src="images/Permission_Management/2_1.png"/><br/><p class="- topic/p p">revoke 命令：撤销某个用户或某个组的之前被赋予或禁止的权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">revoke(`user2, DBOBJ_CREATE,<span class="hl-string">"*"</span>)
getUserAccess(<span class="hl-string">"user2"</span>)</pre><img class="- topic/image image" src="images/Permission_Management/2_2.png"/><br/><p class="- topic/p p">deny 命令：拒绝某个用户或某个组的权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">deny(`user2, DBOBJ_CREATE,<span class="hl-string">"*"</span>) 
getUserAccess(<span class="hl-string">"user2"</span>)</pre><img class="- topic/image image" src="images/Permission_Management/2_3.png"/><br/></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title12" id="3-权限确定规则"><h2 class="- topic/title title topictitle2" id="ariaid-title12">3. 权限确定规则</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title13" id="31-用户和组权限确定规则"><h3 class="- topic/title title topictitle3" id="ariaid-title13">3.1. 用户和组权限确定规则</h3><div class="- topic/body body"><p class="- topic/p p">将用户本身也视为一个特殊的组，用户本身的权限就是这个组的权限。用户的最终权限是其所属的所有组的权限共同决定的结果。组的存在简化了对用户权限的管理，与此同时也不免出现权限冲突的情况，以下为权限确定规则：</p><ul class="- topic/ul ul"><li class="- topic/li li">若用户在至少一组中被赋予某项权限，并且在其他组中没有禁止该项权限，则用户拥有该项权限</li><li class="- topic/li li">若用户在至少一组中被禁止某项权限，即使在其他组中被赋予该项权限，此用户的该项权限依然被禁止</li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 1</strong>：若用户只属于一个组，用户对某个权限的状态为 Deny，所在组对当前权限的状态为 Allow，则最终用户对该权限的状态为 Deny：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>,<span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>)
createGroup(<span class="hl-string">"group1"</span>,[<span class="hl-string">"user2"</span>])
deny(`user2, DB_OWNER)//禁止 user2 拥有 DB_OWNER 权限
grant(`group1, DB_OWNER)//赋予 group1DB_OWNER 权限
login(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>)
database(<span class="hl-string">"dfs://test"</span>,VALUE,<span class="hl-number">1.</span><span class="hl-number">.10</span>)//user2 没有 DB_OWNER 权限
=&gt; &lt;NoPrivilege&gt;Not granted to create <strong class="hl-keyword">or</strong> delete databases</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 2</strong>：若用户只属于一个组，用户对某个权限的状态为 None，所在组对当前权限的状态为 Allow，则最终用户对该权限的状态为 Allow：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>,<span class="hl-string">"123456"</span>)
revoke(`user2, DB_OWNER)//撤销禁止 user2 的 DB_OWNER 权限
grant(`group1, DB_OWNER)//赋予 group1DB_OWNER 权限
login(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>)
database(<span class="hl-string">"dfs://test"</span>,VALUE,<span class="hl-number">1.</span><span class="hl-number">.10</span>)//user2 拥有 DB_OWNER 权限</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 3</strong>：若用户只属于一个组，用户对某个权限的状态为 None，所在组对当前权限的状态为 Deny，则最终用户对该权限的状态为 Deny：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>,<span class="hl-string">"123456"</span>)
revoke(`user2, DB_OWNER)//撤销禁止 user2 的 DB_OWNER 权限
deny(`group1, DB_OWNER)//赋予 group1DB_OWNER 权限
login(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>)
database(<span class="hl-string">"dfs://test"</span>,VALUE,<span class="hl-number">1.</span><span class="hl-number">.10</span>)//user2 没有 DB_OWNER 权限
=&gt; &lt;NoPrivilege&gt;Not granted to create <strong class="hl-keyword">or</strong> delete databases</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 4</strong>：若用户属于多个组，某个组对某个权限的状态为 Deny，其他组对当前权限的状态为 Allow，则最终用户对该权限的状态为 Deny：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>,<span class="hl-string">"123456"</span>)
createGroup(<span class="hl-string">"group2"</span>,[<span class="hl-string">"user2"</span>])
createGroup(<span class="hl-string">"group3"</span>,[<span class="hl-string">"user2"</span>])
deny(`group1, DB_OWNER)
grant(`group2, DB_OWNER)
grant(`group3, DB_OWNER)
login(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>)
database(<span class="hl-string">"dfs://test"</span>,VALUE,<span class="hl-number">1.</span><span class="hl-number">.10</span>)//user2 没有 DB_OWNER 权限
=&gt; &lt;NoPrivilege&gt;Not granted to create <strong class="hl-keyword">or</strong> delete databases</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 5</strong>：若用户属于多个组，某个组对某个权限的状态为 None，其他组对当前权限的状态为 Allow，则最终用户对该权限的状态为 Allow：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>,<span class="hl-string">"123456"</span>)
revoke(`group1, DB_OWNER)
grant(`group2, DB_OWNER)
grant(`group3, DB_OWNER)
login(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>)
database(<span class="hl-string">"dfs://test"</span>,VALUE,<span class="hl-number">1.</span><span class="hl-number">.10</span>)//user2 拥有 DB_OWNER 权限</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 6</strong>：若用户属于多个组，某个组对某个权限的状态为 None，其他组对当前权限的状态为 Deny，则最终用户对该权限的状态为 Deny：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>,<span class="hl-string">"123456"</span>)
revoke(`group1, DB_OWNER)
deny(`group2, DB_OWNER)
deny(`group3, DB_OWNER)
login(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>)
database(<span class="hl-string">"dfs://test"</span>,VALUE,<span class="hl-number">1.</span><span class="hl-number">.10</span>)//user2 没有 DB_OWNER 权限
=&gt; &lt;NoPrivilege&gt;Not granted to create <strong class="hl-keyword">or</strong> delete databases</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 7</strong>：若用户所在的组被删除，则以用户本身被赋予的权限为准：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>,<span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>)
createGroup(<span class="hl-string">"group1"</span>,[<span class="hl-string">"user2"</span>])
grant(`user2, DB_OWNER)//赋予 user2 DB_OWNER 权限
deny(`group1, DB_OWNER)//禁止 group1 DB_OWNER 权限
deleteGroup(`group1)//删除 group1
login(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>)
database(<span class="hl-string">"dfs://test"</span>,VALUE,<span class="hl-number">1.</span><span class="hl-number">.10</span>)//user2 拥有 DB_OWNER 权限
----------------------------------------------------------------
login(<span class="hl-string">"admin"</span>,<span class="hl-string">"123456"</span>)
createGroup(<span class="hl-string">"group1"</span>,[<span class="hl-string">"user2"</span>])
revoke(`user2, DB_OWNER)//回收 user2 DB_OWNER 权限
grant(`group1, DB_OWNER)//赋予 group1 DB_OWNER 权限
deleteGroup(`group1)//删除 group1
login(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>)
database(<span class="hl-string">"dfs://test"</span>,VALUE,<span class="hl-number">1.</span><span class="hl-number">.10</span>)//user2 没有 DB_OWNER权限</pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title14" id="32-数据库表权限确定规则"><h3 class="- topic/title title topictitle3" id="ariaid-title14">3.2. 数据库表权限确定规则</h3><div class="- topic/body body"><p class="- topic/p p">权限作用的对象范围从大到小可以分为：全局 (*)，数据库，表。</p><p class="- topic/p p">以下为库表级权限确定规则：</p><ul class="- topic/ul ul"><li class="- topic/li li">先小范围赋予/撤销/禁止权限，再大范围操作权限，此时小范围权限失效，会被大范围的权限覆盖</li><li class="- topic/li li">先大范围 allow, 再小范围 deny，此时 deny 操作生效，allow 权限覆盖的除 deny 以外的范围依旧是 allow</li><li class="- topic/li li">先大范围 allow, 再小范围 revoke，此时 revoke 操作无效，allow 权限覆盖的范围依旧是 allow</li><li class="- topic/li li">先大范围 deny, 再小范围 revoke，此时 revoke 操作无效，deny 权限覆盖的范围依旧是 deny</li><li class="- topic/li li">先大范围 deny, 再小范围 grant，1.30.21 和 2.00.9 版本前 grant 可以生效，deny 权限覆盖的除 grant 以外的范围依旧是 deny，1.30.21 和 2.00.9 版本后不支持此操作</li><li class="- topic/li li">先大范围 revoke, 再小范围操作权限，此时小范围权限操作生效</li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 1</strong>：对用户 user1 <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> 表级的 TABLE_READ 权限，然后 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 全局 TABLE_READ 权限，此时 user1 拥有所有表的 TABLE_READ 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)
dbName = <span class="hl-string">"dfs://test"</span>
<strong class="hl-keyword">if</strong>(existsDatabase(dbName)){
        dropDatabase(dbName)
}
t = table(<span class="hl-number">1.</span><span class="hl-number">.10</span> <strong class="hl-keyword">as</strong> id , rand(<span class="hl-number">100</span>, <span class="hl-number">10</span>) <strong class="hl-keyword">as</strong> val)
db=database(dbName, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
pt=  db.createPartitionedTable(t, <span class="hl-string">"pt"</span>, <span class="hl-string">"id"</span>)
pt.append!(t)

deny(<span class="hl-string">"user1"</span>, TABLE_READ, dbName+<span class="hl-string">"/pt"</span>)
grant(<span class="hl-string">"user1"</span>, TABLE_READ, <span class="hl-string">"*"</span>)

login(<span class="hl-string">"user1"</span>, <span class="hl-string">"123456"</span>)
select * <strong class="hl-keyword">from</strong> loadTable(dbName, <span class="hl-string">"pt"</span>)//user1 获得读 <span class="hl-string">"dfs://test"</span>的权限</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 2</strong>：对用户 user2 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 表级的 TABLE_READ 权限，然后 <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> 全局 TABLE_READ 权限，此时 user2 被禁止所有表的 TABLE_READ 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>)
dbName = <span class="hl-string">"dfs://test"</span>
<strong class="hl-keyword">if</strong>(existsDatabase(dbName)){
        dropDatabase(dbName)
}
t = table(<span class="hl-number">1.</span><span class="hl-number">.10</span> <strong class="hl-keyword">as</strong> id , rand(<span class="hl-number">100</span>, <span class="hl-number">10</span>) <strong class="hl-keyword">as</strong> val)
db=database(dbName, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
pt=  db.createPartitionedTable(t, <span class="hl-string">"pt"</span>, <span class="hl-string">"id"</span>)
pt.append!(t)

grant(<span class="hl-string">"user2"</span>, TABLE_READ, dbName+<span class="hl-string">"/pt"</span>)
deny(<span class="hl-string">"user2"</span>, TABLE_READ, <span class="hl-string">"*"</span>)

login(<span class="hl-string">"user2"</span>, <span class="hl-string">"123456"</span>)
select * <strong class="hl-keyword">from</strong> loadTable(dbName, <span class="hl-string">"pt"</span>)//user2 被禁止读 <span class="hl-string">"dfs://test"</span></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 3</strong>：对用户 user3 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 表级的 TABLE_READ 权限，然后 <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> 全局 TABLE_READ 权限，此时 user3 被回收所有表的 TABLE_READ 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user3"</span>,<span class="hl-string">"123456"</span>)
dbName = <span class="hl-string">"dfs://test"</span>
<strong class="hl-keyword">if</strong>(existsDatabase(dbName)){
        dropDatabase(dbName)
}
t = table(<span class="hl-number">1.</span><span class="hl-number">.10</span> <strong class="hl-keyword">as</strong> id , rand(<span class="hl-number">100</span>, <span class="hl-number">10</span>) <strong class="hl-keyword">as</strong> val)
db=database(dbName, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
pt=  db.createPartitionedTable(t, <span class="hl-string">"pt"</span>, <span class="hl-string">"id"</span>)
pt.append!(t)

grant(<span class="hl-string">"user3"</span>, TABLE_READ, dbName+<span class="hl-string">"/pt"</span>)
revoke(<span class="hl-string">"user3"</span>, TABLE_READ, <span class="hl-string">"*"</span>)
login(<span class="hl-string">"user3"</span>, <span class="hl-string">"123456"</span>)
select * <strong class="hl-keyword">from</strong> loadTable(dbName, <span class="hl-string">"pt"</span>)//user 被撤回读 <span class="hl-string">"dfs://test"</span> 的权限</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 4</strong>：先对用户 user1 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 全局的 TABLE_READ 权限，然后 <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> "dfs://test/pt" 表 TABLE_READ 权限，此时 user1 拥有除 "dfs://test/pt" 表外所有表的 TABLE_READ 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)
dbName = <span class="hl-string">"dfs://test"</span>
t = table(<span class="hl-number">1.</span><span class="hl-number">.10</span> <strong class="hl-keyword">as</strong> id , rand(<span class="hl-number">100</span>, <span class="hl-number">10</span>) <strong class="hl-keyword">as</strong> val)
<strong class="hl-keyword">if</strong>(existsDatabase(dbName)){
        dropDatabase(dbName)
}
db=database(dbName, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
pt=  db.createPartitionedTable(t, <span class="hl-string">"pt"</span>, <span class="hl-string">"id"</span>)
pt.append!(t)
grant(<span class="hl-string">"user1"</span>, TABLE_READ, <span class="hl-string">"*"</span>)
deny(<span class="hl-string">"user1"</span>, TABLE_READ, dbName+<span class="hl-string">"/pt"</span>)

login(<span class="hl-string">"user1"</span>, <span class="hl-string">"123456"</span>)
select * <strong class="hl-keyword">from</strong> loadTable(dbName, <span class="hl-string">"pt"</span>)//user1被禁止读<span class="hl-string">"dfs://test/pt"</span></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 5</strong>：先对用户 user1 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 全局的 TABLE_READ 权限，然后 <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> "dfs://test/pt" 表 TABLE_READ 权限，此时 user1 仍然拥有所有表的 TABLE_READ 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)
dbName = <span class="hl-string">"dfs://test"</span>
t = table(<span class="hl-number">1.</span><span class="hl-number">.10</span> <strong class="hl-keyword">as</strong> id , rand(<span class="hl-number">100</span>, <span class="hl-number">10</span>) <strong class="hl-keyword">as</strong> val)
<strong class="hl-keyword">if</strong>(existsDatabase(dbName)){
        dropDatabase(dbName)
}
db=database(dbName, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
pt=  db.createPartitionedTable(t, <span class="hl-string">"pt"</span>, <span class="hl-string">"id"</span>)
pt.append!(t)
grant(<span class="hl-string">"user1"</span>, TABLE_READ, <span class="hl-string">"*"</span>)
revoke(<span class="hl-string">"user1"</span>, TABLE_READ, dbName+<span class="hl-string">"/pt"</span>)

login(<span class="hl-string">"user1"</span>, <span class="hl-string">"123456"</span>)
select * <strong class="hl-keyword">from</strong> loadTable(dbName, <span class="hl-string">"pt"</span>)//user1 有读 <span class="hl-string">"dfs://test/pt"</span> 的权限</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 6</strong>：先对用户 user1 <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> 全局的 TABLE_READ 权限，然后 <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> "dfs://test/pt" 表 TABLE_READ 权限，此时 user1 仍然被拒绝所有表的 TABLE_READ 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)
dbName = <span class="hl-string">"dfs://test"</span>
<strong class="hl-keyword">if</strong>(existsDatabase(dbName)){
        dropDatabase(dbName)
}
t = table(<span class="hl-number">1.</span><span class="hl-number">.10</span> <strong class="hl-keyword">as</strong> id , rand(<span class="hl-number">100</span>, <span class="hl-number">10</span>) <strong class="hl-keyword">as</strong> val)
db=database(dbName, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
pt=  db.createPartitionedTable(t, <span class="hl-string">"pt"</span>, <span class="hl-string">"id"</span>)
pt.append!(t)

deny(<span class="hl-string">"user1"</span>, TABLE_READ, <span class="hl-string">"*"</span>)
revoke(<span class="hl-string">"user1"</span>, TABLE_READ, dbName+<span class="hl-string">"/pt"</span>)

getUserAccess(<span class="hl-string">"user1"</span>)//TABLE_READ 依旧是 deny</pre><img class="- topic/image image" src="images/Permission_Management/3_1.png"/><br/><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 7</strong>：先对用户 user1 <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> 全局的 TABLE_READ 权限，然后 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> "dfs://test/pt" 表 TABLE_READ 权限，1.30.21 和 2.00.9 版本前，此时 user1 被赋予读 "dfs://test/pt" 表的权限，被拒绝其他所有表的 TABLE_READ 权限，而新版本则在执行 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 的时候抛出异常：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)
dbName = <span class="hl-string">"dfs://test"</span>
<strong class="hl-keyword">if</strong>(existsDatabase(dbName)){
        dropDatabase(dbName)
}
t = table(<span class="hl-number">1.</span><span class="hl-number">.10</span> <strong class="hl-keyword">as</strong> id , rand(<span class="hl-number">100</span>, <span class="hl-number">10</span>) <strong class="hl-keyword">as</strong> val)
db=database(dbName, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
pt=  db.createPartitionedTable(t, <span class="hl-string">"pt"</span>, <span class="hl-string">"id"</span>)
pt1=  db.createPartitionedTable(t, <span class="hl-string">"pt1"</span>, <span class="hl-string">"id"</span>)
pt.append!(t)
pt1.append!(t)

deny(<span class="hl-string">"user1"</span>, TABLE_READ, <span class="hl-string">"*"</span>)
//新版本中执行grant报错 <span class="hl-string">'Invalid grant: grant [dfs://test/pt] and [deny *] are in conflict'</span>
grant(<span class="hl-string">"user1"</span>, TABLE_READ, dbName+<span class="hl-string">"/pt"</span>)
login(<span class="hl-string">"user1"</span>, <span class="hl-string">"123456"</span>)
select * <strong class="hl-keyword">from</strong> loadTable(dbName, <span class="hl-string">"pt"</span>)//老版本有读 dbName+<span class="hl-string">"/pt"</span> 的权限
select * <strong class="hl-keyword">from</strong> loadTable(dbName, <span class="hl-string">"pt1"</span>)//老版本没有读其他表的权限</pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title15" id="33-权限确定规则兼容性"><h3 class="- topic/title title topictitle3" id="ariaid-title15">3.3. 权限确定规则兼容性</h3><div class="- topic/body body"><p class="- topic/p p">1.30.21 和 2.00.9 版本前，如果某个用户对两张不同表分别 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 和 <code class="+ topic/ph pr-d/codeph ph codeph">deny</code>  相同的表层面权限（TABLE_READ 或 TABLE_WRITE），升级到新版本后该用户会拥有除 <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> 的表以外所有表的该权限。举例如下：</p><p class="- topic/p p">1.30.21 和 2.00.9 版本以前，使用 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 命令赋予或使用 <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> 命令禁用用户 'user1'不同表对象的 TABLE_READ 权限后，'user1' 将只有 "dfs://valuedb/pt1" 表的读权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>,<span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)
grant(<span class="hl-string">"user1"</span>,TABLE_READ,<span class="hl-string">"dfs://valuedb/pt1"</span>)
deny(<span class="hl-string">"user1"</span>,TABLE_READ,<span class="hl-string">"dfs://valuedb/pt2"</span>)</pre><p class="- topic/p p">升级到新版本后，user1 拥有 "dfs://valuedb" 库中除 pt2 以外所有表的读权限，等同于执行：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">grant(<span class="hl-string">"user1"</span>,TABLE_READ,<span class="hl-string">"dfs://valuedb/pt1"</span>)
deny(<span class="hl-string">"user1"</span>,TABLE_READ,<span class="hl-string">"dfs://valuedb/pt2"</span>)</pre></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title16" id="4-权限类别"><h2 class="- topic/title title topictitle2" id="ariaid-title16">4. 权限类别</h2><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：1.30.21 和 2.00.9 版本新增权限 DB_READ, DB_WRITE, DB_INSERT,DB_UPDATE, DB_DELETE, TABLE_INSERT, TABLE_UPDATE, TABLE_DELETE。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title17" id="41-库级权限类别"><h3 class="- topic/title title topictitle3" id="ariaid-title17">4.1. 库级权限类别</h3><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li">DB_MANAGE：1.30.21 和 2.00.9 版本之前，可以创建以及删除数据库，可删除任何人所建数据库，包括具有 DB_OWNER 权限之用户所建数据库；1.30.21 和 2.00.9 版本之后不能创建数据库，只能删除数据库</li><li class="- topic/li li">DB_OWNER：创建数据库并管理其创建的数据库，包括删除数据库、创建或删除数据表、增加或删除分区、可赋予、禁止或取消其他用户对自己创建的数据库的以下权限：TABLE_READ, TABLE_WRITE, TABLE_INSERT, TABLE_UPDATE, TABLE_DELETE, DBOBJ_CREATE, DBOBJ_DELETE, DB_READ, DB_WRITE, DB_INSERT, DB_UPDATE, DB_DELETE</li><li class="- topic/li li">DBOBJ_CREATE：允许在数据库中建表</li><li class="- topic/li li">DBOBJ_DELETE：允许在数据库中删除表</li><li class="- topic/li li">DB_WRITE：允许写数据库所有表，包含表的增删改权限</li><li class="- topic/li li">DB_INSERT：允许追加数据到某库所有表</li><li class="- topic/li li">DB_UPDATE：允许更新某库所有表的数据</li><li class="- topic/li li">DB_DELETE：允许删除某库所有表的数据</li><li class="- topic/li li">DB_READ：允许读某库所有表</li></ul></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title18" id="42-表级权限类别"><h3 class="- topic/title title topictitle3" id="ariaid-title18">4.2. 表级权限类别</h3><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li">TABLE_WRITE：允许增删改所有/指定数据表</li><li class="- topic/li li">TABLE_READ：允许读取所有/指定数据表</li><li class="- topic/li li">TABLE_INSERT：允许追加数据到指定表</li><li class="- topic/li li">TABLE_UPDATE：允许更新指定表的数据</li><li class="- topic/li li">TABLE_DELETE：允许删除指定表的数据</li></ul></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title19" id="43-其他权限类别"><h3 class="- topic/title title topictitle3" id="ariaid-title19">4.3. 其他权限类别</h3><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li">VIEW_OWNER：普通用户（组）创建视图的权限。只有管理员才能 grant/deny/revoke 这个权限，此为 2.00.10.4/1.30.22.4 版本新增功能。普通用户（组）被赋予该权限后，可以进行以下操作：<ul class="- topic/ul ul"><li class="- topic/li li">可以创建视图（addFunctionView），且在创建视图后自动拥有该视图的 VIEW_EXEC 权限</li><li class="- topic/li li">drop 自己创建的视图（dropFunctionView）</li><li class="- topic/li li">为其它用户 grant/deny/revoke 自己所创建视图的 VIEW_EXEC 权限</li><li class="- topic/li li">通过 getFunctionViews 查看自己创建的所有视图</li></ul></li><li class="- topic/li li">VIEW_EXEC：视图执行权限</li><li class="- topic/li li">SCRIPT_EXEC：脚本执行权限</li><li class="- topic/li li">TEST_EXEC：测试脚本执行权限</li><li class="- topic/li li">QUERY_RESULT_MEM_LIMIT：限制用户的查询内存大小</li><li class="- topic/li li">TASK_GROUP_MEM_LIMI：限制用户发送的批量子查询占用的内存大小</li><li class="- topic/li li">COMPUTE_GROUP_EXEC：连接计算组的权限</li></ul></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title20" id="44-权限类别兼容性"><h3 class="- topic/title title topictitle3" id="ariaid-title20">4.4. 权限类别兼容性</h3><div class="- topic/body body"><ol class="- topic/ol ol"><li class="- topic/li li">1.30.21 和 2.00.9 版本前创建的用户，如果只拥有 DB_MANAGE 权限而没有 DB_OWNER 权限，升级到新版本就无法创建库，需要重新赋予 DB_OWNER 权限。</li><li class="- topic/li li">1.30.21 和 2.00.9 版本前创建的用户，如果被赋予 TABLE_WRITE 权限，升级到新版本后将同时拥有 TABLE_INSERT, TABLE_UPDATE, TABLE_DELETE 权限。</li><li class="- topic/li li">1.30.21 和 2.00.9 版本起，accessType=DB_OWNER 时 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> / <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> / <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> 命令中的 objs 若作用于库必须以"*"结尾，表示指定某个 dbName 的前缀范围：</li></ol><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)
grant(<span class="hl-string">"user1"</span>, DB_OWNER,<span class="hl-string">"*"</span>)//用户可以创建任意名称的数据库，且拥有该数据库的 DB_OWNER 权限
grant(<span class="hl-string">"user1"</span>, DB_OWNER,<span class="hl-string">"dfs://test0*"</span>)//用户拥有以 <span class="hl-string">"dfs://test0"</span> 为前缀的数据库 DB_OWNER 权限</pre><ol class="- topic/ol ol"><li class="- topic/li li">1.30.21 和 2.00.9 版本起，accessType=DB_MANAGE 时，使用 <code class="+ topic/ph pr-d/codeph ph codeph">grant </code>/ <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> / <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> 命令需确保 objs 中指定的数据库已存在，否则将报错：</li></ol><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)
grant(<span class="hl-string">"user1"</span>, DB_MANAGE,<span class="hl-string">"dfs://test0"</span>) =&gt; The database [dfs://test0]  does <strong class="hl-keyword">not</strong> exist
grant(<span class="hl-string">"user1"</span>, DB_MANAGE, [<span class="hl-string">"dfs://db1"</span>,<span class="hl-string">"dfs://db2"</span>]) =&gt; The database [dfs://db1]  does <strong class="hl-keyword">not</strong> exist</pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title21" id="45-权限回收"><h3 class="- topic/title title topictitle3" id="ariaid-title21">4.5. 权限回收</h3><div class="- topic/body body"><p class="- topic/p p">表级别的权限在指定表或用户删除的时候回收，库级别的权限在指定库或用户删除的时候回收，DB_OWNER 权限只在用户和该用户下所有库都删除的时候回收。</p><p class="- topic/p p">当权限操作的访问对象为共享内存表、流数据引擎时，权限不会因 server 重启或共享内存表、流数据引擎的删除而回收。当再次创建同名共享内存表、流数据引擎并对其进行访问控制时，对用户的权限操作依然生效。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 1</strong>： "user1" 拥有 "dfs://valuedb/pt" 表的 TABLE_READ 权限，删除 "dfs://valuedb/pt" 表后重新创建，user1 用户的 TABLE_READ 权限被回收：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
dbName = <span class="hl-string">"dfs://valuedb"</span>
t = table(<span class="hl-number">1.</span><span class="hl-number">.10</span> <strong class="hl-keyword">as</strong> id , rand(<span class="hl-number">100</span>, <span class="hl-number">10</span>) <strong class="hl-keyword">as</strong> val)
<strong class="hl-keyword">if</strong>(existsDatabase(dbName)){
        dropDatabase(dbName)
} 
db=database(dbName, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
pt=  db.createPartitionedTable(t, <span class="hl-string">"pt"</span>, <span class="hl-string">"id"</span>).append!(t)

createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)
grant(<span class="hl-string">"user1"</span>, TABLE_READ,<span class="hl-string">"dfs://valuedb/pt"</span>)
login(<span class="hl-string">"user1"</span>, <span class="hl-string">"123456"</span>)
select * <strong class="hl-keyword">from</strong> loadTable( <span class="hl-string">"dfs://valuedb"</span>,`pt)//此时user1 拥有<span class="hl-string">"dfs://valuedb/pt"</span>表的TABLE_READ权限
login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
dropTable(db,`pt)
pt=  db.createPartitionedTable(t, <span class="hl-string">"pt"</span>, <span class="hl-string">"id"</span>).append!(t)
login(<span class="hl-string">"user1"</span>, <span class="hl-string">"123456"</span>)
select * <strong class="hl-keyword">from</strong> loadTable( <span class="hl-string">"dfs://valuedb"</span>,`pt)//user1用户的TABLE_READ权限被回收</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 2</strong>： "user1" 拥有 "dfs://valuedb" 库的 DB_MANAGE 权限，删除 "dfs://valuedb" 库后重新创建，user1 用户的 DB_MANAGE 权限被回收：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
dbName = <span class="hl-string">"dfs://valuedb"</span>
t = table(<span class="hl-number">1.</span><span class="hl-number">.10</span> <strong class="hl-keyword">as</strong> id , rand(<span class="hl-number">100</span>, <span class="hl-number">10</span>) <strong class="hl-keyword">as</strong> val)
<strong class="hl-keyword">if</strong>(existsDatabase(dbName)){
        dropDatabase(dbName)
}
db=database(dbName, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
pt=  db.createPartitionedTable(t, <span class="hl-string">"pt"</span>, <span class="hl-string">"id"</span>).append!(t)

createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)
grant(<span class="hl-string">"user1"</span>, DB_MANAGE,<span class="hl-string">"dfs://valuedb"</span>)
getUserAccess(<span class="hl-string">"user1"</span>)</pre><p class="- topic/p p">此时 user1 拥有 "dfs://valuedb" 库的 DB_MANAGE 权限。</p><img class="- topic/image image" src="images/Permission_Management/4_1.png"/><br/><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
<strong class="hl-keyword">if</strong>(existsDatabase(dbName)){
        dropDatabase(dbName)
}
db=database(dbName, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
pt=  db.createPartitionedTable(t, <span class="hl-string">"pt"</span>, <span class="hl-string">"id"</span>).append!(t)
getUserAccess(<span class="hl-string">"user1"</span>)</pre><p class="- topic/p p">此时 user1 用户的 DB_MANAGE 权限被回收。</p><img class="- topic/image image" src="images/Permission_Management/4_2.png"/><br/><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 3</strong>： "u1" 用户拥有流数据表 "trades"、"output1" 和流引擎 "agg1" 的读写权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`admin, `<span class="hl-number">123456</span>)
createUser(`u1, <span class="hl-string">"111111"</span>);
enableTableShareAndPersistence(streamTable(<span class="hl-number">1000</span>:<span class="hl-number">0</span>, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]),`trades)
share streamTable(<span class="hl-number">1000</span>:<span class="hl-number">0</span>, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) <strong class="hl-keyword">as</strong>  output1
agg1 = createTimeSeriesEngine(name=<span class="hl-string">"agg1"</span>, windowSize=<span class="hl-number">600</span>, step=<span class="hl-number">600</span>, metrics=&lt;[sum(volume)]&gt;, dummyTable=trades, outputTable=output1, timeColumn=`time, useSystemTime=false, keyColumn=`sym, garbageSize=<span class="hl-number">50</span>, useWindowStartTime=false)
grant(<span class="hl-string">"u1"</span>, TABLE_READ, <span class="hl-string">"agg1"</span>)
grant(<span class="hl-string">"u1"</span>, TABLE_WRITE, <span class="hl-string">"agg1"</span>)
grant(<span class="hl-string">"u1"</span>, TABLE_READ, <span class="hl-string">"trades"</span>)
grant(<span class="hl-string">"u1"</span>, TABLE_WRITE, <span class="hl-string">"trades"</span>)
grant(<span class="hl-string">"u1"</span>, TABLE_READ, <span class="hl-string">"output1"</span>)
grant(<span class="hl-string">"u1"</span>, TABLE_WRITE, <span class="hl-string">"output1"</span>)
getUserAccess(`u1)</pre><img class="- topic/image image" src="images/Permission_Management/4_3.png"/><br/><p class="- topic/p p">重启或删除并创建同名流数据表 "trades"、"output1" 和流引擎 "agg1"，此时三个对象都没有访问控制，任何用户可以对其进行读写：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`admin, `<span class="hl-number">123456</span>)
enableTableShareAndPersistence(streamTable(<span class="hl-number">1000</span>:<span class="hl-number">0</span>, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]),`trades)
share streamTable(<span class="hl-number">1000</span>:<span class="hl-number">0</span>, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) <strong class="hl-keyword">as</strong>  output1
agg1 = createTimeSeriesEngine(name=<span class="hl-string">"agg1"</span>, windowSize=<span class="hl-number">600</span>, step=<span class="hl-number">600</span>, metrics=&lt;[sum(volume)]&gt;, dummyTable=trades, outputTable=output1, timeColumn=`time, useSystemTime=false, keyColumn=`sym, garbageSize=<span class="hl-number">50</span>, useWindowStartTime=false)</pre><p class="- topic/p p">增加访问控制：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">addAccessControl(`trades)
addAccessControl(output1)
addAccessControl(agg1)</pre><p class="- topic/p p">此时只有用户 "u1" 和三个对象的创建者 "admin" 可以访问对象：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`u1, <span class="hl-string">"111111"</span>)
insert into agg1 values(<span class="hl-number">2018.10</span>.<span class="hl-number">08</span>T01:<span class="hl-number">01</span>:<span class="hl-number">01.785</span>,`A,<span class="hl-number">10</span>) 
insert into output1 values(<span class="hl-number">2018.10</span>.<span class="hl-number">08</span>T01:<span class="hl-number">01</span>:<span class="hl-number">01.785</span>,`A,<span class="hl-number">10</span>) 
insert into trades values(<span class="hl-number">2018.10</span>.<span class="hl-number">08</span>T01:<span class="hl-number">01</span>:<span class="hl-number">01.785</span>,`A,<span class="hl-number">10</span>) </pre><p class="- topic/p p">其他用户被拒绝访问：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`u2, <span class="hl-string">"111111"</span>)
insert into agg1 values(<span class="hl-number">2018.10</span>.<span class="hl-number">08</span>T01:<span class="hl-number">01</span>:<span class="hl-number">01.785</span>,`A,<span class="hl-number">10</span>)=&gt; No access to table [agg1]<span class="hl-string">'
</span>insert into output1 values(<span class="hl-number">2018.10</span>.<span class="hl-number">08</span>T01:<span class="hl-number">01</span>:<span class="hl-number">01.785</span>,`A,<span class="hl-number">10</span>) =&gt; No access to table [output1]<span class="hl-string">'
</span>insert into trades values(<span class="hl-number">2018.10</span>.<span class="hl-number">08</span>T01:<span class="hl-number">01</span>:<span class="hl-number">01.785</span>,`A,<span class="hl-number">10</span>) =&gt; No access to table [trades]<span class="hl-string">'</span></pre></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title22" id="5-相关函数的权限校验"><h2 class="- topic/title title topictitle2" id="ariaid-title22">5. 相关函数的权限校验</h2><div class="- topic/body body"><p class="- topic/p p">本章将介绍相关函数在 1.30.21 和 2.00.9 版本前（旧版）和后（新版）涉及的权限对比。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title23" id="51-ddl-和-dml-相关函数"><h3 class="- topic/title title topictitle3" id="ariaid-title23">5.1. DDL 和 DML 相关函数</h3><div class="- topic/body body"><p class="- topic/p p">分布式表 DDL 和 DML 操作所需权限如下表所示：</p><div class="table-container"><table class="- topic/table table" data-cols="3"><caption></caption><colgroup><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="51-ddl-和-dml-相关函数__entry__1">操作</th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="51-ddl-和-dml-相关函数__entry__2">新版权限</th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="51-ddl-和-dml-相关函数__entry__3">旧版权限</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">database 新建数据库</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">拥有 DB_OWNER 权限用户可以创建全局或指定前缀的数据库。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">拥有 DB_MANAGE 或者 DB_OWNER 权限可以新建所有名字的数据库。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">database 加载已有的库</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">无校验</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">无校验</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">dropDatabase</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 用户可以删除任意或指定数据库；DB_OWNER 用户可以删除自己创建的数据库。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">DB_MANAGE 用户可以删除任何用户的数据库；DB_OWNER 用户可以删除自己创建的数据库。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">createTable</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 用户可以创建任意或指定数据库下的表；DB_OWNER 用户可以在自己创建的数据库下建表；DBOBJ_CREATE 用户可以创建任意或指定数据库下的表。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">当前数据库的创建者或者对当前数据库有 DBOBJ_CREATE 权限的用户可以创建该数据库下的表。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">dropTable</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 用户可以删除任意或指定数据库下的表；DB_OWNER 用户可以在自己创建的数据库下删除表；DBOBJ_DELETE 用户可以删除任意或指定数据库下的表。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">DB_OWNER 权限用户可以删除自己创建的数据库下任何用户所创建的表；DB_MANAGE 用户可以删除自己创建的表；对当前数据库有 DBOBJ_DELETE 权限的用户可以删除该库中所有表。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">createPartitionedTable</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 用户可以创建任意或指定数据库下的表；DB_OWNER 用户可以在自己创建的数据库下建表；DBOBJ_CREATE 用户可以创建任意或指定数据库下的表。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">当前数据库的创建者或者对当前数据库有 DBOBJ_CREATE 权限的用户可以创建该数据库下的表。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">addPartitions(addValuePartitions/addRangePartitions)</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 用户可以增加任意或指定数据库的分区；DB_OWNER 用户可以增加自己创建的数据库的分区。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">DB_MANAGE 用户可以增加任何数据库的分区；DB_OWNER 用户可以增加自己创建的数据库的分区。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">newValuePartitionPolicy=add 配置项</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">所有拥有写入表权限的用户，写入新分区会自动添加。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">所有拥有写入表权限的用户，写入新分区会自动添加。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">dropPartition(deleteSchema=false)</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 用户可以删除任意或指定数据库的分区；DB_OWNER 用户可以删除自己创建的数据库的分区； DB_DELETE 权限可以删除任意或指定数据库的分区；TABLE_DELETE 权限为全局时可以删除所有数据库分区。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">DB_OWNER 用户可以删除自己创建的数据库的分区；DBOBJ_DELETE 权限可以删除指定或全部数据库的分区。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">dropPartition(deleteSchema=true)</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 用户可以删除任意或指定数据库的分区；DB_OWNER 用户可以删除自己创建的数据库的分区。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">DB_OWNER 用户可以删除自己创建的数据库的分区；DBOBJ_DELETE 权限可以删除指定或全部数据库的分区。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">renameTable</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 用户可以 rename 任意或指定数据库下的表；DB_OWNER 用户可以在自己创建的数据库下 rename 表；DBOBJ_CREATE 用户可以 rename 任意或指定数据库下的表。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">DB_OWNER 权限用户可以 rename 自己数据库下的表；DBOBJ_DELETE 权限用户可以 rename 指定数据库下的表。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">addColumn</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 可以增加任意或指定数据库下表的列；DB_OWNER 用户可以增加自己创建的数据库下表的列；DBOBJ_CREATE 用户可以增加任意或指定数据库下表的列。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">拥有 DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 <code class="+ topic/ph pr-d/codeph ph codeph">addColumn</code>；拥有 DBOBJ_CREATE 权限的用户可以对指定数据库下的表 <code class="+ topic/ph pr-d/codeph ph codeph">addColumn</code>。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">dropColumns!</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 可以删除任意或指定数据库下表的列；DB_OWNER 用户可以删除自己创建的数据库下表的列；DBOBJ_CREATE 用户可以删除自己创建的表的列；DBOBJ_DELETE 用户可以删除任意或指定数据库下表的列。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">DB_MANAGE 用户可以删除任何数据库下表的列；DB_OWNER 用户可以删除自己的数据库下表的列。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">rename!</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 可以 rename 任意或指定数据库下表的列；DB_OWNER 用户可以 rename 自己创建的数据库下表的列；DBOBJ_CREATE 用户可以 rename 任意或指定数据库下表的列。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">DB_MANAGE 用户可以 rename 任何数据库下表的列；DB_OWNER 用户可以 rename 自己的数据库下表的列。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">replaceColumn!</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 用户可以 replace 任意或指定数据库下表的列；DB_OWNER 用户可以 replace 自己创建的数据库下表的列；DBOBJ_CREATE 用户可以 replace 任意或指定数据库下表的列。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">DB_MANAGE 用户可以 replace 任何数据库下表的列；DB_OWNER 用户可以 replace 自己的数据库下表的列。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">setColumnComment</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">DB_MANAGE 可以对任意或指定数据库下的表<code class="+ topic/ph pr-d/codeph ph codeph">setColumnComment</code>；DB_OWNER 用户可以对自己创建的数据库下表 <code class="+ topic/ph pr-d/codeph ph codeph">setColumnComment</code>；DBOBJ_CREATE 用户可以对任意或指定数据库下表 <code class="+ topic/ph pr-d/codeph ph codeph">setColumnComment</code>。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">拥有 DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 <code class="+ topic/ph pr-d/codeph ph codeph">setColumnComment</code>；拥有 DBOBJ_CREATE 权限的用户可以对指定数据库下的表 <code class="+ topic/ph pr-d/codeph ph codeph">setColumnComment</code>。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">truncate</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 <code class="+ topic/ph pr-d/codeph ph codeph">truncate</code>；拥有 TABLE_WRITE/TABLE_DELETE/DB_WRITE/DB_DELETE 权限的用户可以对指定表进行 <code class="+ topic/ph pr-d/codeph ph codeph">truncate</code>；拥有 VIEW_EXEC 权限的用户可以执行视图中的 <code class="+ topic/ph pr-d/codeph ph codeph">truncate</code>。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 <code class="+ topic/ph pr-d/codeph ph codeph">truncate</code>；拥有 <code class="+ topic/ph pr-d/codeph ph codeph">TABLE_WRITE</code> 权限的用户可以对指定表进行 <code class="+ topic/ph pr-d/codeph ph codeph">truncate</code>；拥有 VIEW_EXEC 权限的用户可以执行视图中的 <code class="+ topic/ph pr-d/codeph ph codeph">truncate</code>。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">append!</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 <code class="+ topic/ph pr-d/codeph ph codeph">append!</code>；拥有 TABLE_WRITE、TABLE_INSERT、DB_WRITE、DB_INSERT 权限的用户可以对指定表进行 <code class="+ topic/ph pr-d/codeph ph codeph">append!</code>；拥有 VIEW_EXEC 权限的用户可以执行视图中的 <code class="+ topic/ph pr-d/codeph ph codeph">append!</code>。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 <code class="+ topic/ph pr-d/codeph ph codeph">append!</code>；拥有 TABLE_WRITE 权限的用户可以对该表进行 <code class="+ topic/ph pr-d/codeph ph codeph">append!</code>；拥有 VIEW_EXEC 权限的用户可以执行视图中的 <code class="+ topic/ph pr-d/codeph ph codeph">append!</code>。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">upsert/SQL update</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 <code class="+ topic/ph pr-d/codeph ph codeph">upsert</code>/<code class="+ topic/ph pr-d/codeph ph codeph">update</code>；拥有 TABLE_WRITE、TABLE_UPDATE、DB_DELETE、DB_UPDATE 权限的用户可以对指定表进行 <code class="+ topic/ph pr-d/codeph ph codeph">upsert</code>/<code class="+ topic/ph pr-d/codeph ph codeph">update</code>；拥有 VIEW_EXEC 权限的用户可以执行视图中的 <code class="+ topic/ph pr-d/codeph ph codeph">upsert</code>/<code class="+ topic/ph pr-d/codeph ph codeph">update</code>。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 <code class="+ topic/ph pr-d/codeph ph codeph">upsert</code>/<code class="+ topic/ph pr-d/codeph ph codeph">update</code>；拥有 TABLE_WRITE 权限的用户可以对该表进行<code class="+ topic/ph pr-d/codeph ph codeph">upsert</code>/<code class="+ topic/ph pr-d/codeph ph codeph">update</code>；拥有 VIEW_EXEC 权限的用户可以执行视图中的 <code class="+ topic/ph pr-d/codeph ph codeph">upsert</code>/<code class="+ topic/ph pr-d/codeph ph codeph">update</code>。</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__1">SQL delete</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__2">拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 <code class="+ topic/ph pr-d/codeph ph codeph">delete</code>；拥有 TABLE_WRITE、TABLE_DELETE、DB_WRITE、DB_DELETE 权限的用户可以对指定表进行 <code class="+ topic/ph pr-d/codeph ph codeph">delete</code>；拥有 VIEW_EXEC 权限的用户可以执行视图中的 <code class="+ topic/ph pr-d/codeph ph codeph">delete</code>。</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="51-ddl-和-dml-相关函数__entry__3">拥有 DBOBJ_CREATE、DB_OWNER、DB_MANAGE 权限的用户可以对自己创建的表进行 <code class="+ topic/ph pr-d/codeph ph codeph">delete</code>；拥有 TABLE_WRITE 权限的用户可以对该表进行 <code class="+ topic/ph pr-d/codeph ph codeph">delete</code>；拥有 VIEW_EXEC 权限的用户可以执行视图中的 <code class="+ topic/ph pr-d/codeph ph codeph">delete</code>。</td></tr></tbody></table></div><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：在执行 <code class="+ topic/ph pr-d/codeph ph codeph">addColumn</code>、<code class="+ topic/ph pr-d/codeph ph codeph">dropColumns!</code>、<code class="+ topic/ph pr-d/codeph ph codeph">renameColumns</code>、<code class="+ topic/ph pr-d/codeph ph codeph">replaceColumns</code>、<code class="+ topic/ph pr-d/codeph ph codeph">setColumnComment</code>、<code class="+ topic/ph pr-d/codeph ph codeph">rename!</code>、<code class="+ topic/ph pr-d/codeph ph codeph">renameTable</code> 函数时，若用户所操作的表对象为其他用户所创建，需要给当前用户赋予表对象的 TABLE_READ 权限。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例如</strong>：</p><p class="- topic/p p">在用户 user1 创建的数据库中赋予 user2  DBOBJ_CREATE 权限并创建表 pt1:</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>,,true)
createUser(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>,,true)
grant(`user1, DB_OWNER,<span class="hl-string">"dfs://test*"</span>)

login(<span class="hl-string">"user1"</span>, <span class="hl-string">"123456"</span>)
dbName = <span class="hl-string">"dfs://test"</span>
<strong class="hl-keyword">if</strong>(existsDatabase(dbName)){
        dropDatabase(dbName)
}
t = table(<span class="hl-number">1.</span><span class="hl-number">.10</span> <strong class="hl-keyword">as</strong> id , rand(<span class="hl-number">100</span>, <span class="hl-number">10</span>) <strong class="hl-keyword">as</strong> val)
db=database(dbName, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
grant(`user2, DBOBJ_CREATE ,<span class="hl-string">"dfs://test"</span>)
login(<span class="hl-string">"user2"</span>, <span class="hl-string">"123456"</span>)
pt1=  db.createPartitionedTable(t, <span class="hl-string">"pt1"</span>,`id).append!(t)</pre><p class="- topic/p p">此时若 user1 想要 rename 表 pt1 某一列，会报错：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"user1"</span>, <span class="hl-string">"123456"</span>)
rename!(pt1,`val,`val1)// &lt;NoPrivilege&gt;Not granted to read table dfs://test/pt1<span class="hl-string">'</span></pre><p class="- topic/p p">需要赋予 user1 对 pt1 表的读权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
grant(`user1, TABLE_READ,<span class="hl-string">"dfs://test/pt1"</span>)</pre><p class="- topic/p p">此时 rename 成功：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"user1"</span>, <span class="hl-string">"123456"</span>)
rename!(pt1,`val,`val1)
schema(loadTable(dbName,`pt1)).colDefs
------------------------------------------
name typeString typeInt extra comment
---- ---------- ------- ----- -------
id   INT        <span class="hl-number">4</span>                    
val1 INT        <span class="hl-number">4</span>                          </pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title24" id="52-可见性函数"><h3 class="- topic/title title topictitle3" id="ariaid-title24">5.2. 可见性函数</h3><div class="- topic/body body"><p class="- topic/p p">可见性函数所需权限如下表所示：</p><div class="table-container"><table class="- topic/table table tg" data-cols="3"><caption></caption><colgroup><col/><col/><col/></colgroup><thead class="- topic/thead thead">
  <tr class="- topic/row">
    <th class="- topic/entry entry tg-azjp colsep-0 rowsep-0" id="52-可见性函数__entry__1"><span class="- topic/ph ph">函数</span></th>
    <th class="- topic/entry entry tg-azjp colsep-0 rowsep-0" id="52-可见性函数__entry__2"><span class="- topic/ph ph">新版权限</span></th>
    <th class="- topic/entry entry tg-azjp colsep-0 rowsep-0" id="52-可见性函数__entry__3"><span class="- topic/ph ph">旧版权限</span></th>
  </tr></thead><tbody class="- topic/tbody tbody">
  <tr class="- topic/row">
    <td class="- topic/entry entry tg-xls6 colsep-0 rowsep-0" headers="52-可见性函数__entry__1">getAllDBs</td>
    <td class="- topic/entry entry tg-xls6 colsep-0 rowsep-0" headers="52-可见性函数__entry__2">管理员返回当前节点上所有分布式数据库；<br/>其他用户仅返回自己拥有 DB_MANAGE 权限或自己创建的分布式数据库</td>
    <td class="- topic/entry entry tg-xls6 colsep-0 rowsep-0" headers="52-可见性函数__entry__3">所有用户返回当前节点上所有分布式数据库</td>
  </tr>
  <tr class="- topic/row">
    <td class="- topic/entry entry tg-xls6 colsep-0 rowsep-0" headers="52-可见性函数__entry__1">getTables</td>
    <td class="- topic/entry entry tg-xls6 colsep-0 rowsep-0" headers="52-可见性函数__entry__2">返回指定数据库中的所有表</td>
    <td class="- topic/entry entry tg-xls6 colsep-0 rowsep-0" headers="52-可见性函数__entry__3">返回指定数据库中的所有表</td>
  </tr>
  <tr class="- topic/row">
    <td class="- topic/entry entry tg-xls6 colsep-0 rowsep-0" headers="52-可见性函数__entry__1">getClusterDFSDatabases</td>
    <td class="- topic/entry entry tg-xls6 colsep-0 rowsep-0" headers="52-可见性函数__entry__2">管理员返回当前节点上所有分布式数据库；<br/>其他用户仅返回自己拥有 DB_MANAGE 权限或自己创建的分布式数据库</td>
    <td class="- topic/entry entry tg-xls6 colsep-0 rowsep-0" headers="52-可见性函数__entry__3">所有用户返回当前节点上所有分布式数据库</td>
  </tr>
  <tr class="- topic/row">
    <td class="- topic/entry entry tg-7fd7 colsep-0 rowsep-0" headers="52-可见性函数__entry__1">getDFSDatabases</td>
    <td class="- topic/entry entry tg-7fd7 colsep-0 rowsep-0" headers="52-可见性函数__entry__2">管理员返回当前节点上所有分布式数据库；<br/>其他用户仅返回自己拥有 DB_MANAGE 权限或自己创建的分布式数据库</td>
    <td class="- topic/entry entry tg-7fd7 colsep-0 rowsep-0" headers="52-可见性函数__entry__3">所有用户返回当前节点上所有分布式数据库</td>
  </tr>
  <tr class="- topic/row">
    <td class="- topic/entry entry tg-7fd7 colsep-0 rowsep-0" headers="52-可见性函数__entry__1">getDFSTablesByDatabase</td>
    <td class="- topic/entry entry tg-7fd7 colsep-0 rowsep-0" headers="52-可见性函数__entry__2">管理员可以返回当前节点上任一分布式数据库中的表；<br/>其他用户仅返回自己拥有 DB_MANAGE 权限或自己创建的分布式数据库中的表</td>
    <td class="- topic/entry entry tg-7fd7 colsep-0 rowsep-0" headers="52-可见性函数__entry__3">所有用户返回当前节点上所有分布式数据库中的表</td>
  </tr>
</tbody></table></div><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：在新版本中，仅拥有 VIEW_EXEC 权限的用户无法获取上述函数结果。</p></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title25" id="6-权限操作"><h2 class="- topic/title title topictitle2" id="ariaid-title25">6. 权限操作</h2><div class="- topic/body body"><p class="- topic/p p">本章将分别介绍权限操作在分布式数据库、共享内存表、流数据表、流数据引擎、视图、定时作业中的部分应用场景。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title26" id="61-分布式数据库"><h3 class="- topic/title title topictitle3" id="ariaid-title26">6.1. 分布式数据库</h3><div class="- topic/body body"><p class="- topic/p p">在分布式数据库中，可以通过 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> / <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> / <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> 命令设置用户或者组的权限。在<a class="- topic/xref xref" href="#41-%E5%BA%93%E7%BA%A7%E6%9D%83%E9%99%90%E7%B1%BB%E5%88%AB">库级权限类别</a>及<a class="- topic/xref xref" href="#42-%E8%A1%A8%E7%BA%A7%E6%9D%83%E9%99%90%E7%B1%BB%E5%88%AB">表级权限类别</a>节中的所有权限，可作为上述三个命令的 <em class="+ topic/ph hi-d/i ph i">accessType</em> 参数值。</p><p class="- topic/p p">其中，TABLE_READ，TABLE_WRITE，TABLE_INSERT，TABLE_UPDATE，TABLE_DELETE 权限作用范围为全局或表级。DBOBJ_CREATE，DBOBJ_DELETE，DB_READ，DB_WRITE，DB_INSERT，DB_UPDATE，DB_DELETE，DB_MANAGE，DB_OWNER 权限作用范围为全局或库级。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 1</strong>：赋予用户 "user1" 全局的 TABLE_READ 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python"> grant(`user1, TABLE_READ, <span class="hl-string">"*"</span>)</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 2</strong>：赋予 "user1" 用户 "dfs://valuedb" 库下 pt 表的 TABLE_READ 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python"> grant(`user1, TABLE_READ,<span class="hl-string">"dfs://valuedb/pt"</span>)</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 3</strong>：赋予 "user1" 用户 "dfs://valuedb" 库的 DBOBJ_CREATE 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python"> grant(`user1, DBOBJ_CREATE,<span class="hl-string">"dfs://valuedb"</span>)</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 4</strong>：授权某个用户对某数据库中所有表的读写权限（1.30.21 和 2.00.9 版本新增功能）：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>,<span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)
grant(<span class="hl-string">"user1"</span>,DB_READ,<span class="hl-string">"dfs://valuedb"</span>)
grant(<span class="hl-string">"user1"</span>,DB_WRITE,<span class="hl-string">"dfs://valuedb"</span>)</pre><p class="- topic/p p">此时 user1 拥有 "dfs://valuedb" 库中所有增删改查权限。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 5</strong>：限制用户创建并管理以 "dfs://db0" 为前缀的数据库（1.30.21 和 2.00.9 版本新增功能）：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>,<span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"AlexSmith"</span>,<span class="hl-string">"123456"</span>)
grant(<span class="hl-string">"AlexSmith"</span>, DB_OWNER, <span class="hl-string">"dfs://db0*"</span>)</pre><p class="- topic/p p">此时若用户 "AlexSmith" 创建以 "dfs://db1" 命名的数据库，会被拒绝。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 6</strong>：赋予一个组中所有组员读某张表的权限，但只有部分组员有写权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"admin"</span>,<span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user1"</span>,<span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user2"</span>,<span class="hl-string">"123456"</span>)
createUser(<span class="hl-string">"user3"</span>,<span class="hl-string">"123456"</span>)
createGroup(<span class="hl-string">"group1"</span>,[<span class="hl-string">"user1"</span>,<span class="hl-string">"user2"</span>,<span class="hl-string">"user3"</span>])
grant(<span class="hl-string">"group1"</span>, TABLE_READ, <span class="hl-string">"dfs://valuedb/pt"</span>)
createUser(<span class="hl-string">"user4"</span>,<span class="hl-string">"123456"</span>)
addGroupMember(<span class="hl-string">"user4"</span>,<span class="hl-string">"group1"</span>)
grant(<span class="hl-string">"user1"</span>, TABLE_WRITE, <span class="hl-string">"dfs://valuedb/pt"</span>)
grant(<span class="hl-string">"user4"</span>, TABLE_WRITE, <span class="hl-string">"dfs://valuedb/pt"</span>)</pre><p class="- topic/p p">此时 user1 和 user4 拥有对 "dfs://valuedb/pt" 表的增删改查权限，user2  和 user3 只有对其查看的权限。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 7</strong>：可以使用 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 或 <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> 对所有对象 (以*代表) 赋予或禁止权限。例如，赋予用户 JoeFlacco 可读任何 DFS 数据表的权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">grant(<span class="hl-string">"JoeFlacco"</span>,TABLE_READ,<span class="hl-string">"*"</span>)  </pre><p class="- topic/p p">当 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 或 <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> 所有对象后，若要撤销操作，只能使用 <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> 撤销所有对象的权限，若只撤销某个指定对象的权限，则操作无效：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">revoke(<span class="hl-string">"JoeFlacco"</span>,TABLE_READ,<span class="hl-string">"dfs://db1/t1"</span>)</pre><p class="- topic/p p">以上命令无效。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">revoke(<span class="hl-string">"JoeFlacco"</span>,TABLE_READ,<span class="hl-string">"*"</span>)</pre><p class="- topic/p p">以上命令取消了用户 JoeFlacco 可读任何 DFS 数据表的权限。</p><p class="- topic/p p">与之类似，使用 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 或 <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> 对组赋予或禁止权限后，只能对该组使用 <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> 来取消该权限设置。若对某个组员使用 <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> 来取消该权限，则无法生效。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 8</strong>：有 DB_OWNER 权限的用户可以赋予别的用户对自己创建的数据库的权限。</p><p class="- topic/p p">管理员创建了两个用户，CliffLee 和 MitchTrubisky，其中用户 MitchTrubisky 拥有 DB_OWNER 的权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">createUser(`CliffLee, <span class="hl-string">"GH456$%"</span>)
createUser(`MitchTrubisky, <span class="hl-string">"JI3564^"</span>)
grant(`MitchTrubisky,DB_OWNER);</pre><p class="- topic/p p">MitchTrubisky 创建数据表 "dfs://dbMT/dt", 并赋予用户 CliffLee 读取该数据表的权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`MitchTrubisky, <span class="hl-string">"JI3564^"</span>);
db = database(<span class="hl-string">"dfs://dbMT"</span>, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
t=table(<span class="hl-number">1.</span><span class="hl-number">.1000</span> <strong class="hl-keyword">as</strong> id, rand(<span class="hl-number">100</span>, <span class="hl-number">1000</span>) <strong class="hl-keyword">as</strong> x)
dt = db.createTable(t, <span class="hl-string">"dt"</span>).append!(t)
grant(`CliffLee, TABLE_READ, <span class="hl-string">"dfs://dbMT/dt"</span>); </pre><p class="- topic/p p">尽管用户 CliffLee 之前没有被系统管理员赋予任何权限，但是 CliffLee 最后的权限为：可以访问 MitchTrubisky 创建的数据表 "dfs://dbMT/dt"。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title27" id="62-共享内存表"><h3 class="- topic/title title topictitle3" id="ariaid-title27">6.2. 共享内存表</h3><div class="- topic/body body"><p class="- topic/p p">共享内存表会被共享到所有会话中，因此也会有权限管理的需求。系统支持对共享内存表进行写入和读取的权限管理，语法与数据库表权限管理一致。其中<em class="+ topic/ph hi-d/i ph i">accessType</em> 仅支持 TABLE_READ 和 TABLE_WRITE，分别表示对共享内存表的读和增删改权限。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：</p><ul class="- topic/ul ul"><li class="- topic/li li">只有创建表的用户或者管理员可以限制其他用户对该表的操作权限。</li><li class="- topic/li li">若用户使用 <code class="+ topic/ph pr-d/codeph ph codeph">addAccessControl</code> 函数限制其他用户访问该用户创建的共享表，其他用户只有被管理员赋予访问权限后，才可访问该用户创建的共享表。</li><li class="- topic/li li">如果管理员已经为其他用户 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> / <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> / <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> 该表的权限，则该表自动添加权限限制，其他未经授权的用户无法再访问该表。</li><li class="- topic/li li">在集群中，通过 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> / <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> / <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> 管理用户对共享内存表的权限时，权限对象必须为 "nodeAlias:tableName"。</li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例子</strong>：</p><p class="- topic/p p">创建管理员 MitchTrubisky，登录 MitchTrubisky 并创建共享内存表 trades：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`admin, <span class="hl-string">"123456"</span>);
createUser(<span class="hl-string">"MitchTrubisky"</span>,<span class="hl-string">"JI3564^"</span>,,true)
login(`MitchTrubisky, <span class="hl-string">"JI3564^"</span>)
share streamTable(<span class="hl-number">1000</span>:<span class="hl-number">0</span>, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) <strong class="hl-keyword">as</strong> trades</pre><p class="- topic/p p">此时所有用户都有读写 st1 表的权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">createUser(<span class="hl-string">"CliffLee"</span>,<span class="hl-string">"JI3564^"</span>,,false)
login(<span class="hl-string">"CliffLee"</span>,<span class="hl-string">"JI3564^"</span>)
insert into trades values(<span class="hl-number">1970.01</span>.<span class="hl-number">01</span>T00:<span class="hl-number">00</span>:<span class="hl-number">00.001</span>,`sym,<span class="hl-number">1</span>)
select * <strong class="hl-keyword">from</strong> trades</pre><p class="- topic/p p">赋予用户 CliffLee 读取 trades 表的权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`MitchTrubisky, <span class="hl-string">"JI3564^"</span>)
grant(<span class="hl-string">"CliffLee"</span>, TABLE_READ, <span class="hl-string">"trades"</span>) </pre><p class="- topic/p p">如果在集群中，权限对象必须为 "nodeAlias:tableName"，例如 trades 在节点 dnode1：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">grant(<span class="hl-string">"CliffLee"</span>, TABLE_READ, <span class="hl-string">"dnode1:trades"</span>) </pre><p class="- topic/p p">此时用户 CliffLee 拥有读取权限而写入则没有权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"CliffLee"</span>,<span class="hl-string">"JI3564^"</span>)
select * <strong class="hl-keyword">from</strong> trades
insert into trades values(<span class="hl-number">1970.01</span>.<span class="hl-number">01</span>T00:<span class="hl-number">00</span>:<span class="hl-number">00.001</span>,`sym,<span class="hl-number">1</span>) =&gt; No access to table [trades]</pre><p class="- topic/p p">如上对该表进行过第一次权限操作之后，该表自动添加权限限制。此时只有管理员和表创建者 MitchTrubisky 对该表有读写权限。</p><p class="- topic/p p">也可以取消用户 CliffLee 读取的权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`MitchTrubisky, <span class="hl-string">"JI3564^"</span>)
revoke(<span class="hl-string">"CliffLee"</span>, TABLE_READ, <span class="hl-string">"trades"</span>)
login(<span class="hl-string">"CliffLee"</span>,<span class="hl-string">"JI3564^"</span>)
select * <strong class="hl-keyword">from</strong> trades =&gt; No access to shared table [trades]</pre><p class="- topic/p p">若在建表后希望仅自己和管理员对共享内存表有访问权限，可以使用 <code class="+ topic/ph pr-d/codeph ph codeph">addAccessControl</code> 对于表增加权限控制：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">share table(<span class="hl-number">1</span>:<span class="hl-number">0</span>, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) <strong class="hl-keyword">as</strong> st2
addAccessControl(st2)</pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title28" id="63-流数据"><h3 class="- topic/title title topictitle3" id="ariaid-title28">6.3. 流数据</h3><div class="- topic/body body"><p class="- topic/p p">在集群中，通过 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> / <code class="+ topic/ph pr-d/codeph ph codeph">deny</code> / <code class="+ topic/ph pr-d/codeph ph codeph">revoke</code> 管理用户对流数据引擎或流表的权限时，权限对象必须为 "nodeAlias:tableName"。</p></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title29" id="631-流数据引擎"><h4 class="- topic/title title topictitle4" id="ariaid-title29">6.3.1. 流数据引擎</h4><div class="- topic/body body"><p class="- topic/p p">用户可以使用命令 <code class="+ topic/ph pr-d/codeph ph codeph">addAccessControl</code> 限制其他用户访问流数据引擎。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例</strong>：</p><p class="- topic/p p">用户 u1 创建流数据引擎 agg1：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`admin, `<span class="hl-number">123456</span>)
createUser(`u1, <span class="hl-string">"111111"</span>);
createUser(`u2, <span class="hl-string">"222222"</span>);
login(`u1, <span class="hl-string">"111111"</span>)
share streamTable(<span class="hl-number">1000</span>:<span class="hl-number">0</span>, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) <strong class="hl-keyword">as</strong> trades
output1 = table(<span class="hl-number">10000</span>:<span class="hl-number">0</span>, `time`sym`sumVolume, [TIMESTAMP, SYMBOL, INT])
agg1 = createTimeSeriesEngine(name=<span class="hl-string">"agg1"</span>, windowSize=<span class="hl-number">600</span>, step=<span class="hl-number">600</span>, metrics=&lt;[sum(volume)]&gt;, dummyTable=trades, outputTable=output1, timeColumn=`time, useSystemTime=false, keyColumn=`sym, garbageSize=<span class="hl-number">50</span>, useWindowStartTime=false)</pre><p class="- topic/p p">给 agg1 增加访问控制：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">addAccessControl(agg1)</pre><p class="- topic/p p">用户 u2 注入数据到引擎失败：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`u2, <span class="hl-string">"222222"</span>)
insert into agg1 values(<span class="hl-number">2018.10</span>.<span class="hl-number">08</span>T01:<span class="hl-number">01</span>:<span class="hl-number">01.785</span>,`A,<span class="hl-number">10</span>) // ERROR: No access to table [agg1]</pre><p class="- topic/p p">给用户 u2 流数据引擎的写入权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`admin, `<span class="hl-number">123456</span>)
grant(<span class="hl-string">"u2"</span>, TABLE_WRITE, <span class="hl-string">"agg1"</span>)</pre><p class="- topic/p p">如果在集群中，权限对象必须为 "nodeAlias:tableName"，例如 agg1 在节点 dnode1：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">grant(<span class="hl-string">"u2"</span>, TABLE_READ, <span class="hl-string">"dnode1:agg1"</span>) </pre><p class="- topic/p p">用户 u2 访问时注入数据到引擎成功：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`u2, <span class="hl-string">"222222"</span>)
insert into agg1 values(<span class="hl-number">2018.10</span>.<span class="hl-number">08</span>T01:<span class="hl-number">01</span>:<span class="hl-number">01.785</span>+<span class="hl-number">1.</span><span class="hl-number">.600</span>,take(`A,<span class="hl-number">600</span>),<span class="hl-number">1.</span><span class="hl-number">.600</span>) </pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title30" id="632-订阅流数据表到流数据表"><h4 class="- topic/title title topictitle4" id="ariaid-title30">6.3.2. 订阅流数据表到流数据表</h4><div class="- topic/body body"><p class="- topic/p p">用户订阅流数据表到流数据表时需要有订阅表的 TABLE_READ 权限和写入流数据表的 TABLE_READ 和 TABLE_WRITE 权限。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 1</strong>：u1 用户创建发布流数据表 trades 和订阅流数据表 output1 并调用 <code class="+ topic/ph pr-d/codeph ph codeph">addAccessControl</code> 对表进行访问管理：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`admin, `<span class="hl-number">123456</span>)
createUser(`u1, <span class="hl-string">"111111"</span>);
login(`u1, <span class="hl-string">"111111"</span>)
share streamTable(<span class="hl-number">1000</span>:<span class="hl-number">0</span>, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) <strong class="hl-keyword">as</strong> trades
share streamTable(<span class="hl-number">10000</span>:<span class="hl-number">0</span>, `time`sym`sumVolume, [TIMESTAMP, SYMBOL, INT]) <strong class="hl-keyword">as</strong> output1
addAccessControl(`trades)
addAccessControl(`output1)</pre><p class="- topic/p p">u2 用户被赋予 trades 表的 TABLE_READ 权限和 output1 表的 TABLE_READ 和 TABLE_WRITE 权限后可以成功订阅：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`admin, `<span class="hl-number">123456</span>)
grant(<span class="hl-string">"u2"</span>, TABLE_READ, <span class="hl-string">"trades"</span>)
grant(<span class="hl-string">"u2"</span>, TABLE_WRITE, <span class="hl-string">"output1"</span>)
grant(<span class="hl-string">"u2"</span>, TABLE_READ, <span class="hl-string">"output1"</span>)
login(`u2, <span class="hl-string">"222222"</span>)
subscribeTable(tableName=<span class="hl-string">"trades"</span>, actionName=<span class="hl-string">"agg1"</span>, offset=<span class="hl-number">0</span>, handler=append!{output1}, msgAsTable=true); </pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 2</strong>：在集群中，权限对象必须为 "nodeAlias:tableName" 。</p><p class="- topic/p p">在远程节点 NODE2 创建发布表 trades 并进行权限管理：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`admin, `<span class="hl-number">123456</span>)
<strong class="hl-keyword">def</strong> pubTable(){
    share (streamTable(<span class="hl-number">1000</span>:<span class="hl-number">0</span>, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]), `trades)
    addAccessControl(`trades)
}
rpc(`NODE2,pubTable)
share streamTable(<span class="hl-number">10000</span>:<span class="hl-number">0</span>, `time`sym`sumVolume, [TIMESTAMP, SYMBOL, INT]) <strong class="hl-keyword">as</strong> output1</pre><p class="- topic/p p">本地节点用户订阅需要 NODE2 节点 trades 表的 TABLE_READ 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">createUser(`u1, <span class="hl-string">"111111"</span>);
grant(<span class="hl-string">"u1"</span>, TABLE_READ, <span class="hl-string">"NODE2:trades"</span>)
login(`u1, <span class="hl-string">"111111"</span>)
subscribeTable(server=`NODE2,tableName=<span class="hl-string">"trades"</span>, actionName=<span class="hl-string">"agg1"</span>, offset=<span class="hl-number">0</span>, handler=append!{output1}, msgAsTable=true);</pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title31" id="633-订阅流数据表到分布式表"><h4 class="- topic/title title topictitle4" id="ariaid-title31">6.3.3. 订阅流数据表到分布式表</h4><div class="- topic/body body"><p class="- topic/p p">用户订阅流数据表到分布式表时需要分布式表的 TABLE_WRITE 权限。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例</strong>：管理员创建发布表 trades 和订阅分布式数据库 "dfs://valuedb/pt"：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`admin, `<span class="hl-number">123456</span>)
dbName = <span class="hl-string">"dfs://valuedb"</span>
t = table(<span class="hl-number">10000</span>:<span class="hl-number">0</span>, `time`sym`sumVolume, [TIMESTAMP, SYMBOL, INT])
insert into t values(<span class="hl-number">2018.10</span>.<span class="hl-number">08</span>T01:<span class="hl-number">01</span>:<span class="hl-number">01.785</span>+<span class="hl-number">1.</span><span class="hl-number">.600</span>,take(`A,<span class="hl-number">600</span>),<span class="hl-number">1.</span><span class="hl-number">.600</span>) 
<strong class="hl-keyword">if</strong>(existsDatabase(dbName)){
        dropDatabase(dbName)
}
db=database(dbName, VALUE, <span class="hl-number">1.</span><span class="hl-number">.10</span>)
pt=  db.createPartitionedTable(t, <span class="hl-string">"pt"</span>, <span class="hl-string">"sumVolume"</span>).append!(t)
share streamTable(<span class="hl-number">1000</span>:<span class="hl-number">0</span>, `time`sym`volume, [TIMESTAMP, SYMBOL, INT]) <strong class="hl-keyword">as</strong> trades</pre><p class="- topic/p p">授权 u2 用户订阅分布式表的 TABLE_WRITE 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">createUser(`u2, <span class="hl-string">"222222"</span>);
grant(<span class="hl-string">"u2"</span>, TABLE_WRITE,<span class="hl-string">"dfs://valuedb/pt"</span>)</pre><p class="- topic/p p">u2 成功订阅到数据：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`u2, <span class="hl-string">"222222"</span>)
<strong class="hl-keyword">def</strong> saveTradesToDFS(mutable dfsTrades, msg): dfsTrades.append!(msg)
subscribeTable(tableName=<span class="hl-string">"trades"</span>, actionName=<span class="hl-string">"agg1"</span>, offset=<span class="hl-number">0</span>, handler=saveTradesToDFS{pt}, msgAsTable=true);
login(`admin, `<span class="hl-number">123456</span>)
select * <strong class="hl-keyword">from</strong> loadTable(dbName,`pt)</pre></div></article></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title32" id="64-视图权限"><h3 class="- topic/title title topictitle3" id="ariaid-title32">6.4. 视图权限</h3><div class="- topic/body body"><p class="- topic/p p"><a class="- topic/xref xref" href="../db_distr_comp/db_oper/FunctionView.html">函数视图</a>提供了一种灵活的方式来控制用户访问数据库和表。在视图的基础上，函数视图提供了函数功能，可以同时访问数据库并进行相关计算。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：</p><ul class="- topic/ul ul"><li class="- topic/li li">只有系统管理员有创建和删除函数视图的权限。用户即使不具备读写数据库原始数据的权限，也可通过执行函数视图，间接访问数据库，得到所需计算结果</li><li class="- topic/li li">如果函数视图和本地的函数重名，调用时系统会解析为本地函数</li><li class="- topic/li li">某些操作只需要 VIEW_EXEC 权限就可以在 FunctionView 中执行，详见表 <a class="- topic/xref xref" href="#51-ddl-%E5%92%8C-dml-%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0">DDL 和 DML 相关函数</a></li><li class="- topic/li li">VIEW_EXEC 的权限作用对象（objs）由高到低分为全局 (*)、命名空间 (&lt;namespace&gt;::*)、函数视图三个层级。权限可以设置为对所有函数视图生效，或针对特定函数视图生效，也可以按命名空间进行批量管理。当命名空间存在多层嵌套时，权限必须设置到 module 一层，暂不支持在更高层次的命名空间进行批量权限管理。</li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 1</strong>：管理员定义一个函数视图：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python"><strong class="hl-keyword">def</strong> countTradeAll(){  
	<strong class="hl-keyword">return</strong> <strong class="hl-keyword">exec</strong> count(*) <strong class="hl-keyword">from</strong> loadTable(<span class="hl-string">"dfs://TAQ"</span>,<span class="hl-string">"Trades"</span>)  
}
addFunctionView(countTradeAll)  
grant(<span class="hl-string">"NickFoles"</span>,VIEW_EXEC,<span class="hl-string">"countTradeAll"</span>)  </pre><p class="- topic/p p">以用户名 NickFoles 登录，执行视图 "countTradeAll"：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">countTradeAll()</pre><p class="- topic/p p">在此例中，虽然用户 NickFoles 没有访问表 "dfs://TAQ/Trades" 的权限，但是可以运行函数视图 "countTradeAll" 获取表的行数。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 2</strong>：函数视图也可以带参数。用户在使用的时候可以输入参数获取相应的结果。</p><p class="- topic/p p">创建一个函数视图，获取某一个股票在某一天的所有交易记录：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python"><strong class="hl-keyword">def</strong> getTrades(s, d){
	<strong class="hl-keyword">return</strong> select * <strong class="hl-keyword">from</strong> loadTable(<span class="hl-string">"dfs://TAQ"</span>,<span class="hl-string">"Trades"</span>) where sym=s, date=d
}
addFunctionView(getTrades)
grant(<span class="hl-string">"NickFoles"</span>,VIEW_EXEC,<span class="hl-string">"getTrades"</span>)  </pre><p class="- topic/p p">同样在此例中，用户 NickFoles 没有访问表"dfs://TAQ/Trades"的权限，但是可以执行视图“getTrades”，指定股票代码 IBM 和日期 2018.07.09，获得 IBM 在 2018.07.09 这一天的所有交易记录：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">getTrades(<span class="hl-string">"IBM"</span>, <span class="hl-number">2018.07</span>.<span class="hl-number">09</span>)</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">例 3</strong>：通过命名空间对函数视图进行批量管理。</p><p class="- topic/p p">在 [home]/modules/dir1/myModule.dos 文件中定义函数，并在文件第一行声明为模块，文件内容如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">module dir1::myModule

<strong class="hl-keyword">def</strong> f1(){
    <strong class="hl-keyword">print</strong> <span class="hl-string">"dir1::myModule::f1"</span>
}
<strong class="hl-keyword">def</strong> f2(){
    <strong class="hl-keyword">print</strong> <span class="hl-string">"dir1::myModule::f2"</span>
}</pre><p class="- topic/p p">使用 use 语句引用后，可通过 <code class="+ topic/ph pr-d/codeph ph codeph">addFunctionView</code> 函数一次将该模块中所有函数添加为函数视图。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">use dir1::myModule
addFunctionView(moduleName=<span class="hl-string">"dir1::myModule"</span>)
getFunctionViews()</pre><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="64-视图权限__entry__1">name</th><th class="- topic/entry entry colsep-0 rowsep-0" id="64-视图权限__entry__2">body</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="64-视图权限__entry__1">dir1::myModule::f1</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="64-视图权限__entry__2">def f1(){ print("dir1::myModule::f1")}</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="64-视图权限__entry__1">dir1::myModule::f2</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="64-视图权限__entry__2">def f2(){ print("dir1::myModule::f2")}</td></tr></tbody></table></div><p class="- topic/p p">为用户 user1 授权执行 dir1::myModule 命名空间下的所有函数视图</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>grant(userId="user1", accessType=VIEW_EXEC, objs="dir1::myModule::*")</code></pre><p class="- topic/p p">禁止用户 user2 执行 dir1::myModule 命名空间下的所有函数视图</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>deny(userId="user2", accessType=VIEW_EXEC, objs="dir1::myModule::*")</code></pre><p class="- topic/p p">命名空间必须明确到 module 层级。例如 dir1::myModule 模块，不能在 dir1 层级进行权限管理。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>grant(userId="user1", accessType=VIEW_EXEC, objs="dir1::*")// Error：The Module [dir1::*] does not exist.</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title33" id="65-定时作业权限"><h3 class="- topic/title title topictitle3" id="ariaid-title33">6.5. 定时作业权限</h3><div class="- topic/body body"><p class="- topic/p p">定时作业是指用户指定在特定的时间，以特定的频率执行一系列任务，多用于批处理类业务场景。</p><ul class="- topic/ul ul"><li class="- topic/li li">当用户创建定时作业（函数 <code class="+ topic/ph pr-d/codeph ph codeph"> scheduleJob</code>）时，若作业中包含库/表的读写或修改操作，不需要具备相关的权限也能成功创建。但执行定时作业时，需要具备与对象相关的权限，否则无法执行</li><li class="- topic/li li">系统管理员可以 <code class="+ topic/ph pr-d/codeph ph codeph">deleteScheduledJob</code> 删除其他用户定时作业，非管理员用户只能删除自己创建的定时作业</li></ul><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(<span class="hl-string">"NickFoles"</span>,<span class="hl-string">"AB123!@"</span>)  
<strong class="hl-keyword">def</strong> readTable(){
	read_t1=loadTable(<span class="hl-string">"dfs://db1"</span>,<span class="hl-string">"t1"</span>)  
	<strong class="hl-keyword">return</strong> <strong class="hl-keyword">exec</strong> count(*) <strong class="hl-keyword">from</strong> read_t1  
}
scheduleJob(<span class="hl-string">"readTableJob"</span>,<span class="hl-string">"read DFS table"</span>,readTable,minute(now()),date(now()),date(now())+<span class="hl-number">1</span>,<span class="hl-string">'D'</span>);</pre><p class="- topic/p p">不管 NickFoles 有没有读 "dfs://db1/t1" 的权限，"readTable" 任务都能设置成功。</p><p class="- topic/p p">在 "readTable" 任务实际运行时，如果用户 NickFoles 有读 "dfs://db1/t1" 的权限，则成功执行，否则鉴权失败。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title34" id="66-脚本执行权限"><h3 class="- topic/title title topictitle3" id="ariaid-title34">6.6. 脚本执行权限</h3><div class="- topic/body body"><p class="- topic/p p">SCRIPT_EXEC，TEST_EXEC 权限作用范围为全局。</p><p class="- topic/p p">用户执行 <code class="+ topic/ph pr-d/codeph ph codeph">run</code> 函数，或在客户端运行脚本都需要 SCRIPT_EXEC 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`admin, `<span class="hl-number">123456</span>)
createUser(`user1, <span class="hl-string">"123456"</span>);
grant(`user1,SCRIPT_EXEC)
login(`user1, <span class="hl-string">"123456"</span>)
run(<span class="hl-string">"test.txt"</span>)</pre><p class="- topic/p p">用户执行 <code class="+ topic/ph pr-d/codeph ph codeph">test</code>函数，或在客户端执行 unittest 都需要 TEST_EXEC 权限：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">login(`admin, `<span class="hl-number">123456</span>)
createUser(`user1, <span class="hl-string">"123456"</span>);
grant(`user1,TEST_EXEC)
login(`user1, <span class="hl-string">"123456"</span>)
test(<span class="hl-string">"test.txt"</span>)</pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title35" id="67-内存限制权限"><h3 class="- topic/title title topictitle3" id="ariaid-title35">6.7. 内存限制权限</h3><div class="- topic/body body"><p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 指定 <em class="+ topic/ph hi-d/i ph i">accessType</em> = QUERY_RESULT_MEM_LIMIT 来限制某个用户查询返回结果的内存上限和 <em class="+ topic/ph hi-d/i ph i">accessType</em> = TASK_GROUP_MEM_LIMIT 限制发送的批量子查询占用的内存上限，等同于 <code class="+ topic/ph pr-d/codeph ph codeph">setMemLimitOfQueryResult</code> 函数和 <code class="+ topic/ph pr-d/codeph ph codeph">setMemLimitOfTaskGroupResult</code> 函数，区别在于 <code class="+ topic/ph pr-d/codeph ph codeph">grant</code> 只对指定用户生效（暂不支持用户组），<code class="+ topic/ph pr-d/codeph ph codeph">setMemLimitOfQueryResult </code>函数和  <code class="+ topic/ph pr-d/codeph ph codeph">setMemLimitOfTaskGroupResult </code>函数对所有用户生效。</p><p class="- topic/p p">下述脚本限制用户“AlexSmith”查询时，查询结果所占用的内存大小不能超过 4 GB：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">grant(<span class="hl-string">"AlexSmith"</span>, QUERY_RESULT_MEM_LIMIT, <span class="hl-number">4</span>)</pre><p class="- topic/p p">下述脚本限制用户“AlexSmith”查询时，发送的批量子查询占用的内存不能超过 4 GB：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">grant(<span class="hl-string">"AlexSmith"</span>, TASK_GROUP_MEM_LIMIT, <span class="hl-number">4</span>)</pre></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title36" id="7-使用-https-实现安全通信"><h2 class="- topic/title title topictitle2" id="ariaid-title36">7. 使用 HTTPS 实现安全通信</h2><div class="- topic/body body"><p class="- topic/p p">DolphinDB 支持使用 HTTPS 安全协议与 web notebook、VSCode 等编辑器进行通信。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title37" id="71-使用-https-配置"><h3 class="- topic/title title topictitle3" id="ariaid-title37">7.1. 使用 HTTPS 配置</h3><div class="- topic/body body"><p class="- topic/p p">DolphinDB 提供两种配置 HTTPS 的方法：</p><ul class="- topic/ul ul"><li class="- topic/li li">在控制节点的配置文件中添加 <code class="+ topic/ph pr-d/codeph ph codeph">enableHTTPS=true</code></li><li class="- topic/li li">在启动控制节点的命令行添加 <code class="+ topic/ph pr-d/codeph ph codeph">-enableHTTPS true</code></li></ul><pre class="+ topic/pre pr-d/codeblock pre codeblock python">./dolphindb -enableHTTPS true -home master -publicName www.psui.com -mode controller -localSite <span class="hl-number">192.168</span>.<span class="hl-number">1.30</span>:<span class="hl-number">8500</span>:rh8500 -logFile ./log/master.log</pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title38" id="72-https-证书设置"><h3 class="- topic/title title topictitle3" id="ariaid-title38">7.2. HTTPS 证书设置</h3><div class="- topic/body body"><p class="- topic/p p">DolphinDB 使用服务端证书验证的安全策略。默认情况下，会生成自制证书，客户需要安装服务端的证书，否则浏览器提示不安全连接。在集群环境中，每个节点分布在不同的物理机器上，每台物理 server 需要一份证书，因此控制节点和代理节点需要生成证书，数据节点使用同一个物理服务器上代理节点生成的证书。用户也可购买经过第三方认证的证书。</p></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title39" id="721-第三方认证证书"><h4 class="- topic/title title topictitle4" id="ariaid-title39">7.2.1. 第三方认证证书</h4><div class="- topic/body body"><p class="- topic/p p">将第三方证书重命名为 server.crt，并且拷贝到控制节点和代理节点的 <em class="+ topic/ph hi-d/i ph i">home</em> 目录下的 <em class="+ topic/ph hi-d/i ph i">keys</em> 文件夹中，若 <em class="+ topic/ph hi-d/i ph i">keys</em> 文件夹不存在，则需手动创建。由于第三方证书经过公认的权威授权机构颁布，所以浏览器默认信任该证书，不需要再手动安装。绝大部分应用场景适合使用此方式。</p></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title40" id="722-安装自制证书"><h4 class="- topic/title title topictitle4" id="ariaid-title40">7.2.2. 安装自制证书</h4><div class="- topic/body body"><p class="- topic/p p">在小型封闭集群内部通信时，用户也可以使用自制证书进行 OPENSSL 安全通信，具体过程如下：</p><ol class="- topic/ol ol"><li class="- topic/li li"><p class="- topic/p p">把 publicName 设置为计算机的域名。</p><p class="- topic/p p">在集群控制节点的配置文件 (<em class="+ topic/ph hi-d/i ph i">controller.cfg</em>) 中加上<code class="+ topic/ph pr-d/codeph ph codeph">publicName=www.ABCD.com</code>，或者在命令行窗口启动控制节点时加上 <code class="+ topic/ph pr-d/codeph ph codeph">-publicName www.ABCD.com</code>。</p></li><li class="- topic/li li"><p class="- topic/p p">检查证书是否生成。</p><p class="- topic/p p">启动控制节点，并且检查证书文件 <em class="+ topic/ph hi-d/i ph i">server.crt</em> 和服务器的独立密钥 serverPrivate.key 是否存在主目录的 <em class="+ topic/ph hi-d/i ph i">keys</em> 目录下。</p></li><li class="- topic/li li"><p class="- topic/p p">把自签名证书安装到浏览器的证书颁发机构，例如：</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">在 Google Chrome，选择 设置-&gt;隐私和安全-&gt;安全-&gt;管理设备证书-&gt;Import，把 <em class="+ topic/ph hi-d/i ph i">server.crt</em> 导入。</p></li><li class="- topic/li li"><p class="- topic/p p">在浏览器地址栏中输入 "https://www.ABCD.com:8500/" 连接到 DolphinDB 集群管理器，其中 8500 是控制节点的端口。</p></li></ul></li></ol></div></article></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title41" id="8-支持-sso-single-sign-on"><h2 class="- topic/title title topictitle2" id="ariaid-title41">8. 支持 SSO (Single Sign On)</h2><div class="- topic/body body"><p class="- topic/p p">DolphinDB 的控制节点通过 OpenSSL ticket 为客户端提供安全通信支持。</p><p class="- topic/p p">DolphinDB 提供两个用于 SSO 的 API 函数：</p><ul class="- topic/ul ul"><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">getAuthenticatedUserTicket()</code> 获取当前登录用户的加密 ticket</li><li class="- topic/li li"><code class="+ topic/ph pr-d/codeph ph codeph">authenticateByTicket(ticket)</code> 使用上面获取的 ticket 登录系统</li></ul><p class="- topic/p p">DolphinDB 的开发者可以方便安全的使用这些接口来对系统进行扩展。</p></div></article></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div id="wh_topic_toc_content">
		                        
	                            <div class=" wh_topic_toc "><div class="wh_topic_label">在本页上</div><ul><li class="topic-item"><a href="#1-%E8%A7%92%E8%89%B2" data-tocid="1-角色">1. 角色</a><ul><li class="topic-item"><a href="#11-%E8%A7%92%E8%89%B2%E5%88%86%E7%B1%BB" data-tocid="11-角色分类">1.1. 角色分类</a><ul><li class="topic-item"><a href="#111-%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84" data-tocid="111-用户和组">1.1.1. 用户和组</a></li><li class="topic-item"><a href="#112-%E7%AE%A1%E7%90%86%E5%91%98%E5%92%8C%E8%B6%85%E7%BA%A7%E7%AE%A1%E7%90%86%E5%91%98" data-tocid="112-管理员和超级管理员">1.1.2. 管理员和超级管理员</a></li><li class="topic-item"><a href="#113-%E7%AE%A1%E7%90%86%E5%91%98%E5%92%8C%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7" data-tocid="113-管理员和普通用户">1.1.3. 管理员和普通用户</a></li></ul></li><li class="topic-item"><a href="#12-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86" data-tocid="12-角色管理">1.2. 角色管理</a><ul><li class="topic-item"><a href="#121-%E7%AE%A1%E7%90%86%E7%94%A8%E6%88%B7" data-tocid="121-管理用户">1.2.1. 管理用户</a></li><li class="topic-item"><a href="#122-%E7%AE%A1%E7%90%86%E7%BB%84" data-tocid="122-管理组">1.2.2. 管理组</a></li><li class="topic-item"><a href="#123-%E6%9F%A5%E7%9C%8B%E8%A7%92%E8%89%B2%E4%BF%A1%E6%81%AF" data-tocid="123-查看角色信息">1.2.3. 查看角色信息</a></li></ul></li></ul></li><li class="topic-item"><a href="#2-%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86" data-tocid="2-权限管理">2. 权限管理</a></li><li class="topic-item"><a href="#3-%E6%9D%83%E9%99%90%E7%A1%AE%E5%AE%9A%E8%A7%84%E5%88%99" data-tocid="3-权限确定规则">3. 权限确定规则</a><ul><li class="topic-item"><a href="#31-%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E6%9D%83%E9%99%90%E7%A1%AE%E5%AE%9A%E8%A7%84%E5%88%99" data-tocid="31-用户和组权限确定规则">3.1. 用户和组权限确定规则</a></li><li class="topic-item"><a href="#32-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E6%9D%83%E9%99%90%E7%A1%AE%E5%AE%9A%E8%A7%84%E5%88%99" data-tocid="32-数据库表权限确定规则">3.2. 数据库表权限确定规则</a></li><li class="topic-item"><a href="#33-%E6%9D%83%E9%99%90%E7%A1%AE%E5%AE%9A%E8%A7%84%E5%88%99%E5%85%BC%E5%AE%B9%E6%80%A7" data-tocid="33-权限确定规则兼容性">3.3. 权限确定规则兼容性</a></li></ul></li><li class="topic-item"><a href="#4-%E6%9D%83%E9%99%90%E7%B1%BB%E5%88%AB" data-tocid="4-权限类别">4. 权限类别</a><ul><li class="topic-item"><a href="#41-%E5%BA%93%E7%BA%A7%E6%9D%83%E9%99%90%E7%B1%BB%E5%88%AB" data-tocid="41-库级权限类别">4.1. 库级权限类别</a></li><li class="topic-item"><a href="#42-%E8%A1%A8%E7%BA%A7%E6%9D%83%E9%99%90%E7%B1%BB%E5%88%AB" data-tocid="42-表级权限类别">4.2. 表级权限类别</a></li><li class="topic-item"><a href="#43-%E5%85%B6%E4%BB%96%E6%9D%83%E9%99%90%E7%B1%BB%E5%88%AB" data-tocid="43-其他权限类别">4.3. 其他权限类别</a></li><li class="topic-item"><a href="#44-%E6%9D%83%E9%99%90%E7%B1%BB%E5%88%AB%E5%85%BC%E5%AE%B9%E6%80%A7" data-tocid="44-权限类别兼容性">4.4. 权限类别兼容性</a></li><li class="topic-item"><a href="#45-%E6%9D%83%E9%99%90%E5%9B%9E%E6%94%B6" data-tocid="45-权限回收">4.5. 权限回收</a></li></ul></li><li class="topic-item"><a href="#5-%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E7%9A%84%E6%9D%83%E9%99%90%E6%A0%A1%E9%AA%8C" data-tocid="5-相关函数的权限校验">5. 相关函数的权限校验</a><ul><li class="topic-item"><a href="#51-ddl-%E5%92%8C-dml-%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0" data-tocid="51-ddl-和-dml-相关函数">5.1. DDL 和 DML 相关函数</a></li><li class="topic-item"><a href="#52-%E5%8F%AF%E8%A7%81%E6%80%A7%E5%87%BD%E6%95%B0" data-tocid="52-可见性函数">5.2. 可见性函数</a></li></ul></li><li class="topic-item"><a href="#6-%E6%9D%83%E9%99%90%E6%93%8D%E4%BD%9C" data-tocid="6-权限操作">6. 权限操作</a><ul><li class="topic-item"><a href="#61-%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93" data-tocid="61-分布式数据库">6.1. 分布式数据库</a></li><li class="topic-item"><a href="#62-%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E8%A1%A8" data-tocid="62-共享内存表">6.2. 共享内存表</a></li><li class="topic-item"><a href="#63-%E6%B5%81%E6%95%B0%E6%8D%AE" data-tocid="63-流数据">6.3. 流数据</a><ul><li class="topic-item"><a href="#631-%E6%B5%81%E6%95%B0%E6%8D%AE%E5%BC%95%E6%93%8E" data-tocid="631-流数据引擎">6.3.1. 流数据引擎</a></li><li class="topic-item"><a href="#632-%E8%AE%A2%E9%98%85%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%88%B0%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8" data-tocid="632-订阅流数据表到流数据表">6.3.2. 订阅流数据表到流数据表</a></li><li class="topic-item"><a href="#633-%E8%AE%A2%E9%98%85%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%88%B0%E5%88%86%E5%B8%83%E5%BC%8F%E8%A1%A8" data-tocid="633-订阅流数据表到分布式表">6.3.3. 订阅流数据表到分布式表</a></li></ul></li><li class="topic-item"><a href="#64-%E8%A7%86%E5%9B%BE%E6%9D%83%E9%99%90" data-tocid="64-视图权限">6.4. 视图权限</a></li><li class="topic-item"><a href="#65-%E5%AE%9A%E6%97%B6%E4%BD%9C%E4%B8%9A%E6%9D%83%E9%99%90" data-tocid="65-定时作业权限">6.5. 定时作业权限</a></li><li class="topic-item"><a href="#66-%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%9D%83%E9%99%90" data-tocid="66-脚本执行权限">6.6. 脚本执行权限</a></li><li class="topic-item"><a href="#67-%E5%86%85%E5%AD%98%E9%99%90%E5%88%B6%E6%9D%83%E9%99%90" data-tocid="67-内存限制权限">6.7. 内存限制权限</a></li></ul></li><li class="topic-item"><a href="#7-%E4%BD%BF%E7%94%A8-https-%E5%AE%9E%E7%8E%B0%E5%AE%89%E5%85%A8%E9%80%9A%E4%BF%A1" data-tocid="7-使用-https-实现安全通信">7. 使用 HTTPS 实现安全通信</a><ul><li class="topic-item"><a href="#71-%E4%BD%BF%E7%94%A8-https-%E9%85%8D%E7%BD%AE" data-tocid="71-使用-https-配置">7.1. 使用 HTTPS 配置</a></li><li class="topic-item"><a href="#72-https-%E8%AF%81%E4%B9%A6%E8%AE%BE%E7%BD%AE" data-tocid="72-https-证书设置">7.2. HTTPS 证书设置</a><ul><li class="topic-item"><a href="#721-%E7%AC%AC%E4%B8%89%E6%96%B9%E8%AE%A4%E8%AF%81%E8%AF%81%E4%B9%A6" data-tocid="721-第三方认证证书">7.2.1. 第三方认证证书</a></li><li class="topic-item"><a href="#722-%E5%AE%89%E8%A3%85%E8%87%AA%E5%88%B6%E8%AF%81%E4%B9%A6" data-tocid="722-安装自制证书">7.2.2. 安装自制证书</a></li></ul></li></ul></li><li class="topic-item"><a href="#8-%E6%94%AF%E6%8C%81-sso-single-sign-on" data-tocid="8-支持-sso-single-sign-on">8. 支持 SSO (Single Sign On)</a></li></ul></div>
	                        	
                        	</div>
                        </nav>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
<title>Copyright</title><p><b> ©2025 浙江智臾科技有限公司 浙ICP备18048711号-3</b></p>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>