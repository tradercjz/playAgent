<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" data-whc_version="26.0">
    <head><link rel="shortcut icon" href="../favicon.ico"/><link rel="icon" href="../favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="教程难度 高级 面向读者 已经掌握 DolphinDB 的基本部署： 单节点部署 已经掌握 DolphinDB 的 JDBC 连接器使用方法 JDBC 连接器 掌握 Java 基础使用方法 掌握 Kafka 的基础使用方法 本教程提供了完整的部署过程和部署脚本，初学者也可以跟随教程内容复现同步程序部署 随着越来越多的用户使用 DolphinDB，各种不同的应用的场景也对 DolphinDB ..."/><meta name="DC.rights.owner" content="(C) 版权 2025"/><meta name="copyright" content="(C) 版权 2025"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="topic"/><meta name="DC.coverage" content=""/><meta name="DC.relation" content="../tutorials/about_tutorials.html"/><meta name="prodname" content="DolphinDB"/><meta name="brand" content="DolphinDB"/><meta name="DC.creator" content="DolphinDB"/><meta name="DC.publisher" content="DDB N/A DDB 200"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="debeziumkafka-实时同步-oracle-11g-数据到-dolphindb"/><title>Debezium+Kafka 实时同步 Oracle 11g 数据到 DolphinDB</title><!--  Generated with Oxygen version 26.0, build number 2024012323.  --><meta name="wh-path2root" content="../"/><meta name="wh-toc-id" content="&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;&lt;?workdir /tmp/temp20250305183303418/tutorials?&gt;&lt;?workdir-uri file:/tmp/temp20250305183303418/tutorials/?&gt;&lt;?path2project ../?&gt;&lt;?path2project-uri ../?&gt;&lt;?path2rootmap-uri ../?&gt;&lt;topic xmlns:dita-ot=&#34;http://dita-ot.sourceforge.net/ns/201007/dita-ot&#34; xmlns:ditaarch=&#34;http://dita.oasis-open.org/architecture/2005/&#34; class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;debeziumkafka-实时同步-oracle-11g-数据到-dolphindb&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Debezium+Kafka 实时同步 Oracle 11g 数据到 DolphinDB&lt;/title&gt;&lt;prolog class=&#34;- topic/prolog &#34;&gt;&lt;author class=&#34;- topic/author &#34; xtrc=&#34;author:1;12:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/author&gt;&lt;publisherinformation class=&#34;- topic/publisher bookmap/publisherinformation &#34; xtrc=&#34;publisherinformation:1;14:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:1;15:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;printlocation class=&#34;- topic/data bookmap/printlocation &#34; xtrc=&#34;printlocation:1;16:28&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;N/A&lt;/printlocation&gt; &lt;published class=&#34;- topic/data bookmap/published &#34; xtrc=&#34;published:1;17:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:2;18:25&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;publishtype class=&#34;- topic/data bookmap/publishtype &#34; value=&#34;HTML&#34; xtrc=&#34;publishtype:1;19:44&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;revisionid class=&#34;- topic/ph bookmap/revisionid &#34; xtrc=&#34;revisionid:1;20:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;200&lt;/revisionid&gt; &lt;summary class=&#34;- topic/ph bookmap/summary &#34; xtrc=&#34;summary:1;22:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:1;23:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/published&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:2;25:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/publisherinformation&gt;&lt;metadata class=&#34;- topic/metadata &#34;&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:2;39:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:1;28:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;category class=&#34;- topic/category &#34; xtrc=&#34;category:1;29:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;prodinfo class=&#34;- topic/prodinfo &#34; xtrc=&#34;prodinfo:1;34:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;prodname class=&#34;- topic/prodname &#34; xtrc=&#34;prodname:1;35:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/prodname&gt; &lt;brand class=&#34;- topic/brand &#34; xtrc=&#34;brand:1;36:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/brand&gt; &lt;/prodinfo&gt;&lt;/metadata&gt;&lt;/prolog&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:1;3:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:1;3:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;教程难度&lt;/b&gt;&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:1;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:1;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;高级&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:2;7:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:2;7:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;面向读者&lt;/b&gt;&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:2;9:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:2;9:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;已经掌握 DolphinDB 的基本部署：&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:3;10:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:3;10:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;md&#34; format=&#34;dita&#34; href=&#34;standalone_server.md&#34; xtrc=&#34;xref:1;10:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;单节点部署&lt;/xref&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:4;11:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;已经掌握 DolphinDB 的 JDBC 连接器使用方法&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:4;12:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:5;12:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://docs.dolphindb.cn/zh/jdbcdoc/jdbc.html&#34; scope=&#34;external&#34; xtrc=&#34;xref:2;12:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;?ditaot usertext?&gt;JDBC 连接器&lt;/xref&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:6;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;掌握 Java 基础使用方法&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:7;14:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;掌握 Kafka 的基础使用方法&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:8;15:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;本教程提供了完整的部署过程和部署脚本，初学者也可以跟随教程内容复现同步程序部署&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;related-links class=&#34;- topic/related-links &#34;&gt;&lt;linkpool class=&#34;- topic/linkpool &#34; xtrc=&#34;topicref:16;31:89&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_tutorials.ditamap&#34;&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;../tutorials/about_tutorials.dita&#34; mapclass=&#34;- map/topicref bookmap/chapter &#34; role=&#34;parent&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:1;5:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_tutorials.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot usertext?&gt;教程&lt;/linktext&gt;&lt;?ditaot usershortdesc?&gt;&lt;desc class=&#34;- topic/desc &#34;&gt;DolphinDB 产品使用教程&lt;/desc&gt;&lt;/link&gt;&lt;/linkpool&gt;&lt;/related-links&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;前言&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:2;17:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:2;17:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;前言&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:2;17:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:3;19:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;随着越来越多的用户使用 DolphinDB，各种不同的应用的场景也对 DolphinDB 的数据接入提出了不同的要求。部分用户需要将 Oracle 11g 的数据实时同步到 DolphinDB 中来，以满足在 DolphinDB 中使用数据的实时性需求。本篇教程将介绍使用 Debezium 来实时捕获和发布 Oracle 11g 的数据库更改事件，并完成 Oracle 到 DolphinDB 的实时数据同步的完整的解决方案。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;1-debezium-同步方案概述&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:3;21:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:3;21:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1. Debezium 同步方案概述&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:3;21:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:4;23:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Debezium 是一个开源的分布式平台，用于实时捕获和发布数据库更改事件。它可以将关系型数据库（如MySQL、PostgreSQL、Oracle 等）的变更事件转化为可观察的流数据，以供其他应用程序实时消费和处理。本文中将采用 Debezium 与 Kafka 组合的方式来实现从 Oracle11g 到 DolphinDB 的数据同步。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:5;25:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Kafka +Debezium 的数据同步方案需要部署 4 个服务，如下所示：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:5;27:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:9;27:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:3;27:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ZooKeeper&lt;/b&gt;：kafka 的依赖部署。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:10;28:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:4;28:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Kafka&lt;/b&gt;：数据存储。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:11;29:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:5;29:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Kafka-Connect&lt;/b&gt;：用于接入数据插件 source-connetor, sink-connector 的框架，可以提供高可用，也可以部署单实例版本。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:12;30:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:6;30:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Schema-Registry&lt;/b&gt; ：提供实时同步的数据的元数据注册功能 ，支持数据序列化。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:6;32:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;基于 Debezium 的数据架构图如下：&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/1.png&#34; placement=&#34;break&#34; xtrc=&#34;image:1;34:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;926&#34; dita-ot:image-height=&#34;258&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:1;34:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:7;36:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Debezium+Kafka 实时同步 Oracle 11g 数据到 DolphinDB 架构图&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:8;38:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;接下来，本文将逐一介绍这些服务的下载、安装，以及配置数据同步任务。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;2-部署-kafka-单实例实时数据存储&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:4;40:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:4;40:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2. 部署 Kafka 单实例实时数据存储&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:4;40:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:9;42:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;为方便用户快速复现教程内容，本文将采用 Kafka 单实例服务部署方案以介绍数据同步功能。部署环境我们采用 Linux 环境。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;21-部署准备&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:5;44:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:5;44:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.1 部署准备&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:5;44:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:10;46:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;首先下载程序包，Zookeeper（开源）, Kafka （开源）, Confluent （社区版）建议到到官网下载最新稳定版本。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:11;48:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;并将下面 4 个软件包放到 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:1;48:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;/opt&lt;/i&gt; 目录下。（软件、配置、数据路径文件较多。&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:7;48:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;注意：初次试用请尽量保持路径一致&lt;/b&gt;。）&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:6;50:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:13;50:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:8;50:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;jdk-17.0.7_linux-x64_bin.tar.gz&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:12;52:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; format=&#34;gz&#34; href=&#34;https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz&#34; scope=&#34;external&#34; xtrc=&#34;xref:3;52:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;?ditaot usertext?&gt;https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz&lt;/xref&gt;&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:7;54:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:14;54:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:9;54:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;apache-zookeeper-3.7.1-bin.tar.gz&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:13;56:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://zookeeper.apache.org/releases.html&#34; scope=&#34;external&#34; xtrc=&#34;xref:4;56:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;?ditaot usertext?&gt;Apache ZooKeeper&lt;/xref&gt;&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:8;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:15;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:10;58:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;kafka_2.13-3.4.1.tgz (下载scala 2.13版本)&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:14;60:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://kafka.apache.org/downloads&#34; scope=&#34;external&#34; xtrc=&#34;xref:5;60:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;?ditaot usertext?&gt;Apache Kafka&lt;/xref&gt;&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:9;62:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:16;62:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:11;62:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;confluent-community-7.4.0.tar.gz&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:15;64:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://www.confluent.io/installation/&#34; scope=&#34;external&#34; xtrc=&#34;xref:6;64:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;?ditaot usertext?&gt;https://www.confluent.io/installation/&lt;/xref&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:16;66:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Confluent 是 Kafka 相关的商业公司。下载 Confluent 时选择 self-managed，然后录入信息，再点击 start free 后方能下载。注意，下载 community 版本即可满足需要，本教程只需要其中的 schema-registry 包。如需使用更多功能，也可下载正式版。正式版包括了 Zookeeper 、Kafka 以及管理、监控 Kafka 的更多功能。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/2.png&#34; placement=&#34;break&#34; xtrc=&#34;image:2;68:2&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;437&#34; dita-ot:image-height=&#34;619&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:2;68:2&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:17;70:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;下载完以上 4 个程序包后，即可开始部署。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;22-部署-zookeeper&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:6;72:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:6;72:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.2 部署 Zookeeper&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:6;72:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;221-基础准备&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:7;74:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:7;74:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.2.1 基础准备&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:7;74:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:18;76:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:12;76:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步：创建部署用户&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:19;78:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建用户 kafka，授予 sudo 免密权限（需自行设置）。然后切换到 kafka 用户来进行操作（以下均为 kafka 用户操作）。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:1;80:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;useradd kafka su kafka&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:20;85:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:13;85:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步：安装部署 Java 环境&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:21;87:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;由于整套架构涉及的程序都是基于 java 虚拟机运行的。所以必须安装 java 运行环境。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:22;89:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;安装 Java 到路径 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:2;89:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;/opt/java17&lt;/i&gt;。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:2;91:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /opt sudo mkdir -p /usr/local/java sudo tar -xvf jdk-17.0.7_linux-x64_bin.tar.gz sudo mv jdk-17.0.7 /usr/local/java/java17&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:23;98:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;设置 Java 环境变量 (kafka 用户下执行)。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:3;100:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;vim ~/.bashrc # 输入下面代码 JAVA_HOME=/usr/local/java/java17 PATH=$JAVA_HOME/bin:$PATH export JAVA_HOME PATH source ~/.bashrc java --version&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/3.png&#34; placement=&#34;break&#34; xtrc=&#34;image:3;111:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;813&#34; dita-ot:image-height=&#34;103&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:3;111:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;3&lt;/alt&gt;&lt;/image&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;222-安装-zookeeper&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:8;113:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:8;113:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.2.2 安装 Zookeeper&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:8;113:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:24;115:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:14;115:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步：解压并安装 Zookeeper&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:25;117:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;由于 3.7.1 版本 Zookeeper 的用户、组具有默认值，故此处根据实际情况进行调整。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:4;119:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /opt sudo tar -xvf apache-zookeeper-3.7.1-bin.tar.gz sudo mv apache-zookeeper-3.7.1-bin zookeeper sudo chown -R root:root zookeeper sudo chmod -R 755 zookeeper&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:26;127:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:15;127:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步： 准备 Zookeeper 的配置文件和存储文件&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:27;129:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 Zookeeper 的配置文件、数据文件、日志文件的存储路径。建议保持路径一致。相关的程序配置文件包请参见附录&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:5;131:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo mkdir -p /KFDATA/zookeeper/etc sudo mkdir -p /KFDATA/zookeeper/data sudo mkdir -p /KFDATA/zookeeper/datalog sudo mkdir -p /KFDATA/zookeeper/logs sudo chown -R kafka:kafka /KFDATA chmod -R 700 /KFDATA/zookeeper&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:28;140:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;准备 Zookeeper 的配置文件 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:3;140:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;zoo.cfg&lt;/i&gt;。先从 zookeeper 安装路径下复制 *log4j.properties *过来，然后进行修改。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:29;142:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;说明：Zookeeper 的不同版本 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:4;142:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;log4j.properties&lt;/i&gt; 配置内容会略有区别。如有不同，请按 log4j 的规则调整。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:6;144:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/zookeeper/etc touch zoo.cfg echo tickTime=2000 &amp;gt; zoo.cfg echo initLimit=10 &amp;gt;&amp;gt;zoo.cfg echo syncLimit=5 &amp;gt;&amp;gt;zoo.cfg echo dataDir=/KFDATA/zookeeper/data &amp;gt;&amp;gt;zoo.cfg echo dataLogDir=/KFDATA/zookeeper/datalog &amp;gt;&amp;gt;zoo.cfg echo clientPort=2181 &amp;gt;&amp;gt;zoo.cfg sudo cp /opt/zookeeper/conf/log4j.properties ./ sudo chown kafka:kafka ./log4j.properties&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:30;157:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;修改 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:5;157:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;log4j.properties&lt;/i&gt; 中的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:6;157:26&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;zookeeper.log.dir&lt;/i&gt; 参数 ：&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/4.png&#34; placement=&#34;break&#34; xtrc=&#34;image:4;159:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;353&#34; dita-ot:image-height=&#34;48&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:4;159:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;4&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:31;161:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:16;161:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第三步：创建 Zookeeper 的启动文件&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:32;163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建一个 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:7;163:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;zk.env&lt;/i&gt;，配置 Zookeeper 启动所需环境变量，用于启动 service 文件调用。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:7;165:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/zookeeper/etc/ touch zk.env echo JAVA_HOME=/usr/local/java/java17 &amp;gt; zk.env echo PATH=&#34;/usr/local/java/java17/bin:/opt/zookeeper/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin&#34; &amp;gt;&amp;gt; zk.env echo ZOO_LOG_DIR=/KFDATA/zookeeper/logs &amp;gt;&amp;gt; zk.env echo ZOO_LOG4J_OPTS=\&#34;-Dlog4j.configuration=file:/KFDATA/zookeeper/etc/log4j.properties\&#34; &amp;gt;&amp;gt; zk.env&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:33;174:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;如果对 Zookeeper 很熟练可以自行调用 Zookeeper 安装目录下的 bin 文件夹下的操作脚本来进行操作或测试。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:34;176:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:1;176:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;vim&lt;/codeph&gt; 命令编辑一个 service 文件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:8;178:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo vim /usr/lib/systemd/system/zookeeper.service&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:35;182:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;录入以下启动命令信息并保存。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:9;184:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;[Unit] Description=Apache Kafka - ZooKeeper After=network.target [Service] Type=forking User=kafka Group=kafka EnvironmentFile=/KFDATA/zookeeper/etc/zk.env ExecStart=/opt/zookeeper/bin/zkServer.sh start /KFDATA/zookeeper/etc/zoo.cfg ExecStop=/opt/zookeeper/bin/zkServer.sh stop /KFDATA/zookeeper/etc/zoo.cfg TimeoutStopSec=180 Restart=no [Install] WantedBy=multi-user.target &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:36;205:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;重新加载 service 启动服务。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:10;207:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo systemctl daemon-reload&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:37;211:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:17;211:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第四步：创建测试脚本&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:38;213:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;（1）创建连接 Zookeeper 测试文件 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:8;213:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;zkCon.sh&lt;/i&gt;。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:11;215:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;mkdir -p /KFDATA/bin cd /KFDATA/bin touch zkCon.sh echo export JAVA_HOME=/usr/local/java/java17 &amp;gt;zkCon.sh echo export PATH=&#34;{$JAVE_HOME}/bin:/opt/zookeeper/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin&#34; &amp;gt;&amp;gt;zkCon.sh echo export ZOO_LOG_DIR=/KFDATA/zookeeper/logs &amp;gt;&amp;gt;zkCon.sh echo export ZOO_LOG4J_OPTS=\&#34;-Dlog4j.configuration=file:/KFDATA/zookeeper/etc/log4j.properties\&#34; &amp;gt;&amp;gt;zkCon.sh echo '/opt/zookeeper/bin/zkCli.sh -server localhost:2181 -Dzookeeper.config.path=/KFDATA/zookeeper/zoo.cfg' &amp;gt;&amp;gt;zkCon.sh&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:39;226:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;对脚本授予执行权限。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:12;228:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;chmod +x zkCon.sh &lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;223-部署启动-zookeeper&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:9;234:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:9;234:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.2.3 部署启动 Zookeeper&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:9;234:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:40;236:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:18;236:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步：通过 systemctl 工具启动 Zookeeper 服务&lt;/b&gt;&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:13;238:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo systemctl start zookeeper.service&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:41;242:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:19;242:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步：查看 Zookeeper 启动情况&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:42;244:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;可以通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:2;244:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;jps&lt;/codeph&gt; 命令查看 Java 进程， QuorumPeerMain 进程是 Zookeeper 的启动进程。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/5.png&#34; placement=&#34;break&#34; xtrc=&#34;image:5;246:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;328&#34; dita-ot:image-height=&#34;67&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:5;246:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;5&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:43;248:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;也可以通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:3;248:7&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;systemctl&lt;/codeph&gt; 命令查看，如图即是正常启动。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:14;250:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; sudo systemctl status zookeeper&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/6.png&#34; placement=&#34;break&#34; xtrc=&#34;image:6;254:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;937&#34; dita-ot:image-height=&#34;218&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:6;254:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;6&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:44;256:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:20;256:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第三步：通过客户端连接 Zookeeper ，并进行查看&lt;/b&gt;&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:15;258:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/bin/ ./zkCon.sh # 等待zookeeper 命令行窗口 ls / ls /zookeeper &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:45;266:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;如果返回如下显示，表示 Zookeeper 启动成功，可以在 Zookeeper 中观察到自身的基础信息。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/7.png&#34; placement=&#34;break&#34; xtrc=&#34;image:7;268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;823&#34; dita-ot:image-height=&#34;245&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:7;268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;7&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:46;270:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:9;270:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ctrl +c&lt;/i&gt; 可以退出 Zookeeper 客户端连接。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;23-部署-kafka&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:10;272:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:10;272:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.3 部署 Kafka&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:10;272:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;231-安装-kafka&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:11;274:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:11;274:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.3.1 安装 Kafka&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:11;274:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:47;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:21;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步：解压安装 Kafka 文件&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:48;278:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;执行以下命令，修改一下 Kafka 的安装文件名。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:16;280:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /opt sudo tar -xvf kafka_2.13-3.4.1.tgz sudo mv kafka_2.13-3.4.1 kafka&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:49;286:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:22;286:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步：准备 Kafka 的配置文件和存储文件&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:50;288:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 Kafka 的配置文件、数据文件、日志文件的存储路径。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:17;290:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;mkdir -p /KFDATA/kafka/etc mkdir -p /KFDATA/kafka/data mkdir -p /KFDATA/kafka/logs&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:51;296:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;准备 Kafka 相关配置文件，创建启动配置文件，和日志配置文件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:18;298:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/kafka/etc touch kafka-server.properties cp /opt/kafka/config/log4j.properties ./ cp /opt/kafka/config/tools-log4j.properties ./&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:52;305:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;修改 kafka-server.properties 文件中的配置，修改内容如下。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:19;307:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;############################# Server Basics ############################# broker.id=1 ############################# Socket Server Settings ############################# listeners=PLAINTEXT://0.0.0.0:9092 advertised.listeners=PLAINTEXT://192.168.189.130:9092 num.network.threads=3 num.io.threads=8 socket.send.buffer.bytes=102400 socket.receive.buffer.bytes=102400 socket.request.max.bytes=104857600 ############################# Log Basics ############################# log.dirs=/KFDATA/kafka/data num.partitions=1 num.recovery.threads.per.data.dir=1 ############################# Internal Topic Settings ############################# offsets.topic.replication.factor=1 transaction.state.log.replication.factor=1 transaction.state.log.min.isr=1 ############################# Log Retention Policy ############################# log.retention.hours=-1 log.retention.bytes=21474836480 log.segment.bytes=1073741824 log.retention.check.interval.ms=300000 auto.create.topics.enable=true ############################# Zookeeper ############################# zookeeper.connect=192.168.189.130:2181 # Timeout in ms for connecting to zookeeper zookeeper.connection.timeout.ms=12000 ############################# Group Coordinator Settings ############################# group.initial.rebalance.delay.ms=0 ############################# message Settings ############################# message.max.byte=5242880&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:53;342:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;其中以下两项需要视具体环境修改，&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:10;342:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;advertise.listeners&lt;/i&gt; 是对外监听端口。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:20;344:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;advertised.listeners=PLAINTEXT://192.168.189.130:9092 zookeeper.connect=192.168.189.130:2181&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:54;349:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:23;349:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第三步：准备 Kafka 的启动文件&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:55;351:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 Kafka 启动的环境变量文件, 这里配置了开启 JMX 监控端口，如果不需要，可以忽略后两项配置。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:56;353:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;JMX 端口的作用是可以通过此端口连接，获取一些监控指标。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:21;355:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/kafka/etc touch kf-server.env echo PATH=&#34;/usr/local/java/java17/bin:/opt/zookeeper/bin:/opt/kafka:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin&#34; &amp;gt;&amp;gt;kf-server.env echo LOG_DIR=&#34;/KFDATA/kafka/logs/&#34; &amp;gt;&amp;gt;kf-server.env echo KAFKA_LOG4J_OPTS=\&#34;-Dlog4j.configuration=file:/KFDATA/kafka/etc/log4j.properties\&#34; &amp;gt;&amp;gt;kf-server.env echo KAFKA_JMX_OPTS=\&#34;-Dcom.sun.management.jmxremote=true -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=192.168.189.130 -Djava.net.preferIPv4Stack=true\&#34; &amp;gt;&amp;gt;kf-server.env echo JMX_PORT=29999 &amp;gt;&amp;gt;kf-server.env&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:57;366:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 Kafka 的 systemd service 文件，通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:4;366:34&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;vim&lt;/codeph&gt; 命令打开一个文件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:22;368:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo vim /usr/lib/systemd/system/kafka-server.service&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:58;372:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;录入以下内容并保存。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:23;374:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;[Unit] Description=Apache Kafka - broker After=network.target confluent-zookeeper.target [Service] Type=forking User=kafka Group=kafka EnvironmentFile=/KFDATA/kafka/etc/kf-server.env ExecStart=/opt/kafka/bin/kafka-server-start.sh -daemon /KFDATA/kafka/etc/kafka-server.properties ExecStop=/KFDATA/kafka/bin/kafka-server-stop.sh LimitNOFILE=1000000 TimeoutStopSec=180 Restart=no [Install] WantedBy=multi-user.target&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:59;394:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;重新加载 service 启动 服务。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:24;396:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo systemctl daemon-reload&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;232-部署启动-kafka&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:12;402:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:12;402:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.3.2 部署启动 Kafka&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:12;402:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:60;404:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:24;404:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步： 通过 systemctl 工具启动 Kafka 服务&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:61;406:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;执行下述命令启动 Kafka 服务：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:25;408:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo systemctl start kafka-server.service&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:62;412:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:25;412:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步： 查看 Kafka 启动情况&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:63;414:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;检查 Kafka 启动情况，可以连接 Zookeeper 客户端 。查看 zookeeper 中的数据。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:26;416:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/bin ./zkCon.sh ls /&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:64;422:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;可以看到 Zookeeper 中已经多了一些 kafka 注册信息，如 brokers ,cluseter, config, controller 等。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/8.png&#34; placement=&#34;break&#34; xtrc=&#34;image:8;424:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;826&#34; dita-ot:image-height=&#34;48&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:8;424:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;8&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:65;426:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;此时，可以测试创建一个 topic 进行测试：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:27;428:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /opt/kafka/bin ./kafka-topics.sh --bootstrap-server 192.168.189.130:9092 --create --topic test110&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/9.png&#34; placement=&#34;break&#34; xtrc=&#34;image:9;433:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1076&#34; dita-ot:image-height=&#34;45&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:9;433:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;9&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:66;435:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;执行下述代码，查看当前 Kafka 中 topic 列表：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:28;437:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;./kafka-topics.sh --bootstrap-server 192.168.189.130:9092 --list&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/10.png&#34; placement=&#34;break&#34; xtrc=&#34;image:10;441:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;914&#34; dita-ot:image-height=&#34;42&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:10;441:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;10&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:67;443:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;如果返回上述图片显示内容，说明 Kafka 已经启动成功。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;24-部署-schema-registry&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:13;445:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:13;445:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.4 部署 Schema-Registry&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:13;445:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:68;447:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Schema-Registry 是用于注册传输数据的数据结构的。并记录数据结构改变的每一个版本。数据写入 Kafka 和从 Kafka 中读出都需要 schema-registry 中记录的数据结构来进行序列化和反序列化。通过使用 schema-registry 来注册数据结构。Kafka 中只需保存序列化后的数据即可。可以减少数据的空间占用。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;241-安装-schema-registry&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:14;449:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:14;449:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.4.1 安装 Schema-Registry&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:14;449:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:69;451:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:26;451:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步：解压安装 Schema-Registry 文件&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:70;453:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Schema-Registry 程序是 confluent 程序包中一部分。故这里我们要安装 conluent 程序包 , 部署社区版本即可。解压缩 confluent-community-7.4.0.tar.gz，并修改文件名，设置隶属组。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:29;455:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /opt sudo tar -xvf confluent-community-7.4.0.tar.gz sudo mv confluent-7.4.0 confluent sudo chown -R root:root confluent sudo chmod -R 755 confluent&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:71;463:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:27;463:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步：准备 Schema-Registry 的配置文件和存储文件&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:72;465:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 schema-registry 的配置、日志文件存储路径。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:30;467:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;mkdir -p /KFDATA/schema-registry/etc mkdir -p /KFDATA/schema-registry/logs&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:73;472:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;准备 schema-registry 的配置文件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:31;474:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/schema-registry/etc cp /opt/confluent/etc/schema-registry/schema-registry.properties ./ cp /opt/confluent/etc/schema-registry/log4j.properties ./&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:74;480:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;修改 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:5;480:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;schema-registry.properties&lt;/codeph&gt; 文件 , 修改连接的 Kafka Server 地址。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/11.png&#34; placement=&#34;break&#34; xtrc=&#34;image:11;482:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;646&#34; dita-ot:image-height=&#34;58&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:11;482:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;11&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:75;484:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:28;484:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第三步：准备 Schema-Registry的启动文件&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:76;486:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 Schema-Registry 启动环境变量文件，用于 Schema-Registry 启动时使用。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:32;488:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;touch schema-registry.env echo PATH=&#34;/usr/local/java/java17/bin:/opt/confluent/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin&#34; &amp;gt;schema-registry.env echo LOG_DIR=&#34;/KFDATA/schema-registry/logs&#34; &amp;gt;&amp;gt;schema-registry.env echo LOG4J_DIR=&#34;/KFDATA/schema-registry/etc/log4j.properties&#34; &amp;gt;&amp;gt;schema-registry.env echo SCHEMA_REGISTRY_LOG4J_OPTS=\&#34;-Dlog4j.configuration=file:/KFDATA/schema-registry/etc/log4j.properties\&#34; &amp;gt;&amp;gt;schema-registry.env&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:77;496:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 Schema-Registry 的 systemd service 启动文件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:33;498:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo vim /usr/lib/systemd/system/schema-registry.service&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:78;502:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;录入以下内容并保存。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:34;504:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;[Unit] Description=RESTful Avro schema registry for Apache Kafka After=network.target [Service] Type=forking User=kafka Group=kafka EnvironmentFile=/KFDATA/schema-registry/etc/schema-registry.env ExecStart=/opt/confluent/bin/schema-registry-start -daemon /KFDATA/schema-registry/etc/schema-registry.properties TimeoutStopSec=180 Restart=no [Install] WantedBy=multi-user.target&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:79;522:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;重新加载 service 启动服务。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:35;524:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo systemctl daemon-reload&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;242-部署启动-schema-registry&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:15;530:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:15;530:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.4.2 部署启动 Schema-Registry&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:15;530:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:80;532:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:29;532:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步： 通过 systemctl 工具启动 Schema-Registry服务&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:81;534:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;执行以下命令。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:36;536:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo systemctl start schema-registry&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:82;540:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:30;540:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步：查看 Schema-Registry 启动情况&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:83;542:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;通过 systemctl 工具查看启动状态。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:37;544:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo systemctl status schema-registry&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/12.png&#34; placement=&#34;break&#34; xtrc=&#34;image:12;548:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1052&#34; dita-ot:image-height=&#34;233&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:12;548:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;12&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:84;550:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看 Kafka 中的 topic。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:38;552:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /opt/kafka/bin ./kafka-topics.sh --bootstrap-server 192.168.189.130:9092 --list&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:85;557:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;可以看到 kafka 中已经创建出了 schema-registry 需要使用的 topic。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/13.png&#34; placement=&#34;break&#34; xtrc=&#34;image:13;559:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;916&#34; dita-ot:image-height=&#34;86&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:13;559:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;13&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:86;561:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;schema-registry 启动成功。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;25-部署-kafka-connect&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:16;563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:16;563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.5 部署 Kafka-Connect&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:16;563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:87;565:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Kafka-Connect 是 Kafka 提供的 HA 框架，实现了 Kafka-Connect 接口的 connector (连接器) ，只需处理自己需要进行读取、写入数据任务。高可用部分由 Kafka-Connect 框架负责。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:88;567:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Kafka-Connect 可用通过 REST API 进行访问。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;251-安装-kafka-connect&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:17;569:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:17;569:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.5.1 安装 Kafka-Connect&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:17;569:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:89;571:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:31;571:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步： Kafka-Connect 安装&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:90;573:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Kafka-Connect 由 Kafka 提供，启动程序在 Kafka 的安装路径下，已经存在。数据元数据注册由 schema-registry 处理。相应的序列化包在已安装 Confluent 路径下。故无需再安装程序包。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:91;575:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:32;575:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步：准备 Kafka-Connect 的配置文件和存储文件&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:92;577:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 Kafka-Connect 的配置、日志文件存储路径。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:39;579:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;mkdir -p /KFDATA/kafka-connect/etc mkdir -p /KFDATA/kafka-connect/logs&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:93;584:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 Kafka-Connect 的配置文件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:40;586:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/kafka-connect/etc vim kafka-connect.properties&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:94;591:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;录入以下内容并保存。 IP 地址部分，需要根据前环境修改。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:41;593:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;bootstrap.servers=192.168.189.130:9092 group.id=connect-cluster key.converter=io.confluent.connect.avro.AvroConverter key.converter.schema.registry.url=http://192.168.189.130:8081 value.converter=io.confluent.connect.avro.AvroConverter value.converter.schema.registry.url=http://192.168.189.130:8081 key.converter.schemas.enable=true value.converter.schemas.enable=true internal.key.converter=org.apache.kafka.connect.json.JsonConverter internal.value.converter=org.apache.kafka.connect.json.JsonConverter internal.key.converter.schemas.enable=false internal.value.converter.schemas.enable=false config.storage.topic=connect-configs offset.storage.topic=connect-offsets status.storage.topic=connect-statuses config.storage.replication.factor=1 offset.storage.replication.factor=1 status.storage.replication.factor=1 plugin.path=/opt/confluent/share/java/plugin rest.host.name=192.168.189.130 rest.port=8083 rest.advertised.host.name=192.168.189.130 rest.advertised.port=8083 offset.flush.timeout.ms=50000 offset.flush.interval.ms=10000 send.buffer.bytes=13107200 consumer.max.poll.records=10000 consumer.partition.assignment.strategy=org.apache.kafka.clients.consumer.CooperativeStickyAssignor&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:95;629:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 Kafka-Connect 的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:11;629:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;log4j&lt;/i&gt; 配置文件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:42;631:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/kafka-connect/etc cp /opt/kafka/config/connect-log4j.properties ./log4j.properties&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:96;636:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;修改文件中的以下参数配置。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:43;638:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;vim ./log4j.properties log4j.appender.connectAppender.File=${kafka.logs.dir}/connect.log&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:97;643:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;将其修改为：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:44;645:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;log4j.appender.connectAppender.File=/KFDATA/kafka-connect/logs/connect.log&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:98;649:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:33;649:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第三步： 准备 Kafka-Connect 的启动文件&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:99;651:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 Kafka-Connect 启动环境变量文件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:45;653:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/kafka-connect/etc touch kafka-connect.env echo PATH=&#34;/usr/local/java/java17/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin&#34; &amp;gt;kafka-connect.env echo LOG_DIR=&#34;/KFDATA/kafka-connect/logs/&#34; &amp;gt;&amp;gt;kafka-connect.env echo LOG4J_DIR=&#34;/KFDATA/kafka-connect/etc/log4j.properties&#34; &amp;gt;&amp;gt;kafka-connect.env echo KAFKA_LOG4J_OPTS=\&#34;-Dlog4j.configuration=file:/KFDATA/kafka-connect/etc/log4j.properties\&#34; &amp;gt;&amp;gt;kafka-connect.env echo CLASSPATH=/opt/confluent/share/java/schema-registry/*:/opt/confluent/share/java/kafka-serde-tools/*:/opt/confluent/share/java/confluent-common/* &amp;gt;&amp;gt;kafka-connect.env echo JMX_PORT=29998 &amp;gt;&amp;gt;kafka-connect.env&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:100;665:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 Kafka-Connect 的 systemd service 文件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:46;667:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo vim /usr/lib/systemd/system/kafka-connect.service&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:101;671:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;录入以下内容，并保存。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:47;673:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;[Unit] Description=Apache Kafka Connect - distributed After=network.target [Service] Type=simple User=kafka Group=kafka EnvironmentFile=/KFDATA/kafka-connect/etc/kafka-connect.env ExecStart=/opt/kafka/bin/connect-distributed.sh /KFDATA/kafka-connect/etc/kafka-connect.properties TimeoutStopSec=180 Restart=no [Install] WantedBy=multi-user.target &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:102;692:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;重新加载 service 启动服务。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:48;694:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo systemctl daemon-reload&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;252-部署启动-kafka-connect&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:18;698:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:18;698:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2.5.2 部署启动 Kafka-Connect&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:18;698:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:103;700:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:34;700:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步： 通过 systemctl 工具启动 Kafka-Connect 服务&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:104;702:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;执行以下命令。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:49;704:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo systemctl start kafka-connect.service&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:105;708:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:35;708:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步： 查看 Kafka-Connect 启动情况&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:106;710:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:6;710:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;jps&lt;/codeph&gt; 命令查看启动情况。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:50;712:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;jps -mlvV |grep connect&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/14.png&#34; placement=&#34;break&#34; xtrc=&#34;image:14;716:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1095&#34; dita-ot:image-height=&#34;171&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:14;716:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;14&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:107;718:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看 Kafka 中的 topic 情况，Kafka-Connect 会在 Kafka 中创建 connect-configs , connect-offsets, connect-statuses 三个 topic。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:51;720:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /opt/kafka/bin ./kafka-topics.sh --bootstrap-server 192.168.189.130:9092 --list&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/15.png&#34; placement=&#34;break&#34; xtrc=&#34;image:15;725:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;902&#34; dita-ot:image-height=&#34;145&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:15;725:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;15&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:108;727:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:7;727:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;curl&lt;/codeph&gt; 命令访问 kafka-connect ，可以看到当前还没有配置 connector 任务。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:52;729:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; curl -H &#34;Accept:application/json&#34; 192.168.189.130:8083/connectors/&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/16.png&#34; placement=&#34;break&#34; xtrc=&#34;image:16;733:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;903&#34; dita-ot:image-height=&#34;46&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:16;733:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;16&lt;/alt&gt;&lt;/image&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;3-从-oracle-到-kafka-的数据同步部署程序与配置任务&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:19;735:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:19;735:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;3. 从 Oracle 到 Kafka 的数据同步：部署程序与配置任务&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:19;735:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;31-配置-oracle-数据库&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:20;737:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:20;737:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;3.1 配置 Oracle 数据库&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:20;737:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:109;739:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;对于 Source 数据库 Oracle ，本教程采用 Oracle 提供的 LogMiner 工具来捕获数据的数据变化 ，这里需要对 Oracle 数据库做一些设置。主要配置如下：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:10;741:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:17;741:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 需开启归档模式&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:18;742:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;要进行实时同步的 Oracle 表需要开启表级补充日志&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:19;743:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建具有一定权限的 Oracle 用户&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:110;745:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:36;745:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步： 开启 Oracle 归档模式&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:111;747:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建备份文件路径：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:53;749:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;mkdir -p /data/oradata/recovery_area&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:112;753:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sqlplus 以 dba 权限登录：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:54;755:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sqlplus / as sysdba&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:113;759:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;执行以下命令开启 Oracle 归档模式：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:55;761:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;-- 设置数据库归档空间大小为20GB,该值为建议最小提供值 alter system set db_recovery_file_dest_size = 20G; -- 设置数据库归档路径 alter system set db_recovery_file_dest = '/data/oradata/recovery_area' scope=spfile; -- 立即关闭数据库 shutdown immediate -- mount模式启动 startup mount -- 开启归档模式 alter database archivelog; -- 开启数据库 alter database open;&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:114;776:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看是否开启归档日志，如图显示 Archive Mode 则表示归档已开启：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:56;778:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;archive log list&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/17.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:17;782:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;518&#34; dita-ot:image-height=&#34;106&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:17;782:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;17&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:115;784:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;归档日志空间大小需根据实际需求设置。当归档日志满时，Oracle将不可用，需自行设置脚本来定时清理归档日志。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:116;786:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:37;786:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步： 开启补充日志&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:117;788:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;开启最小补充日志：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:57;790:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ALTER DATABASE ADD SUPPLEMENTAL LOG DATA; -- 开启最小补充日志&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:118;794:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;除了最小补充日志，还需要开启全字段的补充日志。可以开启数据库级全字段补充日志，也可以根据需要同步的表开启表级别全字段补充日志，只开启表级别可以减少归档日志的产生量。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:119;796:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;开启数据库级全字段补充日志：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:58;798:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS; -- 开启 -- ALTER DATABASE DROP SUPPLEMENTAL LOG DATA (ALL) COLUMNS; -- 关闭&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:120;803:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;或开启表级别全字段补充日志，SCHEMA 和 TABLENAME 需替换成具体的同步表(推荐采用此种方式)：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:59;805:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ALTER TABLE SCHEMA.TABLENAME ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS; -- 开启 -- ALTER TABLE SCHEMA.TABLENAME DROP SUPPLEMENTAL LOG DATA (ALL) COLUMNS; -- 关闭&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:121;810:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:38;810:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第三步：&lt;/b&gt; &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:39;810:10&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建数据同步用的 debezium 用户&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:122;812:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 logminer_tbs 表空间。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:60;814:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;CREATE TABLESPACE logminer_tbs DATAFILE '/data/oradata/dbname/logminer_tbs.dbf' SIZE 25M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED;&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:123;819:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建专门用于日志挖掘的用户，命名为 debezium。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:61;821:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;CREATE USER debezium IDENTIFIED BY password DEFAULT TABLESPACE logminer_tbs QUOTA UNLIMITED ON logminer_tbs;&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:124;827:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;对 debezium 用户授权（以 Oracle 11g 版本的设置为示例，其他 Oracle 版本可以参考 Debezium 文档说明）。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:62;829:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;GRANT SELECT ANY TABLE TO debezium; GRANT FLASHBACK ANY TABLE TO debezium; GRANT CREATE SESSION TO debezium; GRANT SELECT ON V_$DATABASE to debezium; GRANT SELECT_CATALOG_ROLE TO debezium; GRANT EXECUTE_CATALOG_ROLE TO debezium; GRANT SELECT ANY TRANSACTION TO debezium; GRANT SELECT ANY DICTIONARY to debezium; GRANT CREATE TABLE TO debezium; GRANT CREATE SEQUENCE TO debezium; GRANT EXECUTE ON DBMS_LOGMNR TO debezium; GRANT EXECUTE ON DBMS_LOGMNR_D TO debezium; GRANT SELECT ON V_$LOG TO debezium; GRANT SELECT ON V_$LOG_HISTORY TO debezium; GRANT SELECT ON V_$LOGMNR_LOGS TO debezium; GRANT SELECT ON V_$LOGMNR_CONTENTS TO debezium; GRANT SELECT ON V_$LOGMNR_PARAMETERS TO debezium; GRANT SELECT ON V_$LOGFILE TO debezium; GRANT SELECT ON V_$ARCHIVED_LOG TO debezium; GRANT SELECT ON V_$ARCHIVE_DEST_STATUS TO debezium;&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:125;856:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;其中&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:8;856:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;SELECT ANY TABLE&lt;/codeph&gt;和&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:9;856:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;FLASHBACK ANY TABLE&lt;/codeph&gt;可以缩减权限为需实时同步的表：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:63;858:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;GRANT SELECT ON SCHEMA.TABLENAME TO debezium; GRANT FLASHBACK ON SCHEMA.TABLENAME TO debezium;&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;32-安装-debezium-oracle-连接器插件&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:21;863:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:21;863:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;3.2 安装 Debezium-Oracle 连接器插件&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:21;863:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:126;865:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 的 Debezium 数据同步插件需要安装在 Kafka_Connect 程序部署文件路径下。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:127;867:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;配置启动 Debezium-Oracle 连接器，需要以下两步：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:11;869:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:20;869:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;下载 Debezium-Oracle-Connector 插件，将插件解压并放到 Kafka Connect 的插件路径下&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:21;870:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;重新启动 Kafka Connect 程序，以加载插件&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:128;872:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:40;872:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步： 下载安装 Debezium-Oracle 插件和 ojdbc 包&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:129;874:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;官方网站 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://debezium.io/&#34; scope=&#34;external&#34; xtrc=&#34;xref:7;874:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;?ditaot usertext?&gt;Debezium&lt;/xref&gt;，选择 2.5.1.Final 版本进行下载，程序名为&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:10;874:65&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;debezium-connector-oracle-2.5.1.Final-plugin.tar.gz&lt;/codeph&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:130;876:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;在 confluent 的安装路径下创建插件路径，在此路径下解压 Debezium 的 Oracle 插件包，请确保 kafka 用户对此路径的读权限。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:64;878:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo mkdir -p /opt/confluent/share/java/plugin cd /opt/confluent/share/java/plugin sudo tar -xvf ./debezium-connector-oracle-2.5.1.Final-plugin.tar.gz sudo rm ./debezium-connector-oracle-2.5.1.Final-plugin.tar.gz&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:131;885:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;连接 Oracle 数据库还需 Oracle 的 JDBC 包，可以到 Oracle 官网 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://www.oracle.com/database/technologies/appdev/jdbc-drivers-archive.html&#34; scope=&#34;external&#34; xtrc=&#34;xref:8;885:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;?ditaot usertext?&gt;JDBC Drivers Archive&lt;/xref&gt; 下载对应 Oracle 版本的 JDBC 包，目前 Oracle 官网已下架 Oracle 11g 版本的ojdbc包，可以在此下载&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:11;885:215&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ojdbc8.jar&lt;/codeph&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:132;887:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;在当前的&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:12;887:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;debezium-connector-oracle&lt;/codeph&gt;目录下再放入 ojdbc 包 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:13;887:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ojdbc8.jar&lt;/codeph&gt;&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:65;889:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cp ~/ojdbc8.jar /opt/confluent/share/java/plugin/debezium-connector-oracle/&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:133;893:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:41;893:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步： 配置 Kafka-Connect 加载插件&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:134;895:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;修改 Kafka Connect 的配置文件，添加插件路径配置。若已配置插件路径，则跳过该步骤。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:66;897:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/kafka-connect/etc vim kafka-connect.properties&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:135;902:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;添加或修改参数 plugin.path 如下。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:67;904:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;plugin.path=/opt/confluent/share/java/plugin&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:136;908:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;重新启动 Kafka Connect。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:68;910:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo systemctl restart kafka-connect&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:137;914:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看 kafka connect 的日志输出，能查询到信息则说明插件加载成功。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:69;916:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cat /KFDATA/kafka-connect/logs/connect.log | grep OracleConnector&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/18.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:18;920:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1304&#34; dita-ot:image-height=&#34;34&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:18;920:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;18&lt;/alt&gt;&lt;/image&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;33-配置-oracle-数据同步连接任务&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:22;922:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:22;922:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;3.3 配置 Oracle 数据同步连接任务&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:22;922:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:138;924:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;配置同步任务的及检查的很多命令都要带上 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:12;924:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;url&lt;/i&gt; 等参数。为了操作快捷，本教程封装了一些加载配置文件的操作脚本在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:13;924:59&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;kafka-tools.tar&lt;/i&gt; 包中，详情参见附录。下载当前包，解压缩到 /KFDATA 目录下。后续的很多操作，包括检查 Kafka 的 topic、查看数据和配置同步任务等都会使用 kafka-tools 包中的脚本。包中的脚本在无参数运行时会输出 help。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:70;926:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA sudo tar -xvf kafka-tools.tar sudo chown kafka:kafka kafka-tools rm ./kafka-tools.tar&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:139;933:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;修改 */KFDATA/kafka-tools/config/config.properties *配置参数。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:140;935:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;按照本机的路径、IP 等对应修改 Kafka 和 Kafka_Connect 的启动 IP 地址，以及安装目录。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:141;937:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;示例如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:71;939:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;#kafka parameters kafka_home=/opt/kafka confluent_home=/opt/confluent bootstrap_server=192.168.189.130:9092 #kafka-connect parameters connect_rest_url=192.168.1.178:8083 #rest_pd means restful request password,This is not necessary #rest_pd=appsdba:passwd schema_ip=192.168.189.130 schema_port=8081&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:142;953:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:42;953:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步：准备 Oracle 数据库表&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:143;955:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;在 debezium 用户下创建&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:14;955:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;index_example&lt;/codeph&gt;示例表。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:72;957:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;create table debezium.index_example ( trade_date date, stock_code varchar2(20), effDate date, indexShortName varchar2(20), indexCode varchar2(20), secShortName varchar2(50), exchangeCD varchar2(10), weight number, tm_stamp date, flag integer, primary key (trade_date, stock_code, indexCode, flag) );&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:144;973:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;向&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:15;973:2&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;index_example&lt;/codeph&gt;表中插入 4 条数据。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:73;975:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;insert into debezium.index_example values(to_date('2006-11-30', 'YYYY-MM-DD'), '000759', to_date('2018-06-30 03:48:05', 'YYYY-MM-DD HH24:MI:SS'), '中证500', '000905', '中百集团', 'XSHE', 0.0044, to_date('2018-06-30 05:43:05', 'YYYY-MM-DD HH24:MI:SS'), 1); insert into debezium.index_example values(to_date('2006-11-30', 'YYYY-MM-DD'), '000759', to_date('2018-06-30 04:47:05', 'YYYY-MM-DD HH24:MI:SS'), '中证500', '000906', '中百集团', 'XSHE', 0.0011, to_date('2018-06-30 05:48:06', 'YYYY-MM-DD HH24:MI:SS'), 1); insert into debezium.index_example values(to_date('2006-11-30', 'YYYY-MM-DD'), '600031', to_date('2018-06-30 03:48:05', 'YYYY-MM-DD HH24:MI:SS'), '上证180', '000010', '三一重工', 'XSHG', 0.0043, to_date('2018-06-30 05:48:05', 'YYYY-MM-DD HH24:MI:SS'), 1); insert into debezium.index_example values(to_date('2006-11-30', 'YYYY-MM-DD'), '600031', to_date('2018-06-30 03:48:05', 'YYYY-MM-DD HH24:MI:SS'), '沪深300', '000300', '三一重工', 'XSHG', 0.0029, to_date('2018-06-30 05:48:05', 'YYYY-MM-DD HH24:MI:SS'), 1); commit;&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:145;995:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;在 debezium 用户下创建&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:16;995:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;stock_example&lt;/codeph&gt;示例表。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:74;997:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;create table debezium.stock_example ( id number, ts_code varchar2(20), symbol_id varchar2(20), name varchar2(20), area varchar2(20), industry varchar2(20), list_date date, primary key (id, ts_code) );&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:146;1010:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;向&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:17;1010:2&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;stock_example&lt;/codeph&gt;表中插入 3 条数据并提交。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:75;1012:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;insert into debezium.stock_example values (1, '000001.SZ', '000001', '平安银行', '深圳', '银行', to_date('1991-04-03', 'YYYY-MM-DD')); insert into debezium.stock_example values (2, '000002.SZ', '000002', '万科A', '深圳', '地产', to_date('1991-01-29', 'YYYY-MM-DD')); insert into debezium.stock_example values (3, '000004.SZ', '000004', 'ST国华', '深圳', '软件服务', to_date('1991-01-14', 'YYYY-MM-DD')); &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:147;1024:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看 Oracle 表中数据。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/19.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:19;1026:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1377&#34; dita-ot:image-height=&#34;103&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:19;1026:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;19&lt;/alt&gt;&lt;/image&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/20.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:20;1028:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;804&#34; dita-ot:image-height=&#34;88&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:20;1028:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;20&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:148;1030:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;若在 3.1 节的 step2 中未开启数据库级全字段增量日志，在此步还需开启表级全字段增量日志。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:76;1032:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ALTER TABLE debezium.index_example ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS; ALTER TABLE debezium.stock_example ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:149;1037:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:43;1037:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步：准备连接器配置文件，并启动连接任务&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:150;1039:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建连接 Oracle 的 source 连接器配置文件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:77;1041:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;mkdir -p /KFDATA/datasyn-config vim /KFDATA/datasyn-config/source-oracle.json&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:151;1046:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;录入以下配置，hostname 和 kafka 启动地址需对应修改。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:78;1048:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;{ &#34;name&#34;: &#34;oracle-connector&#34;, &#34;config&#34;: { &#34;connector.class&#34;: &#34;io.debezium.connector.oracle.OracleConnector&#34;, &#34;tasks.max&#34;: &#34;1&#34;, &#34;topic.prefix&#34;: &#34;oracle_service&#34;, &#34;database.hostname&#34;: &#34;183.134.101.144&#34;, &#34;database.port&#34;: 1521, &#34;database.user&#34;: &#34;debezium&#34;, &#34;database.password&#34;: &#34;123456&#34;, &#34;database.dbname&#34;: &#34;testdb&#34;, &#34;database.connection.adapter&#34;: &#34;logminer&#34;, &#34;schema.include.list&#34;: &#34;debezium&#34;, &#34;table.include.list&#34;: &#34;debezium.index_example,debezium.stock_example&#34;, &#34;schema.history.internal.kafka.bootstrap.servers&#34;: &#34;183.134.101.144:9092&#34;, &#34;schema.history.internal.kafka.topic&#34;: &#34;schema-changes.test&#34;, &#34;event.processing.failure.handling.mode&#34;: &#34;skip&#34;, &#34;decimal.handling.mode&#34;: &#34;string&#34;, &#34;snapshot.mode&#34;: &#34;initial&#34;, &#34;log.mining.strategy&#34;: &#34;online_catalog&#34;, &#34;log.mining.query.filter.mode&#34;: &#34;in&#34;, &#34;log.mining.continuous.mine&#34;: true, &#34;heartbeat.interval.ms&#34;: &#34;20000&#34;, &#34;schema.history.internal.store.only.captured.tables.ddl&#34;: true, &#34;schema.history.internal.store.only.captured.databases.ddl&#34;: true, } }&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:152;1078:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;参数说明：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:1;1080:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;3&#34; xtrc=&#34;tgroup:1;1080:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:1;1080:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:2;1080:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:3;1080:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:1;1080:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:1;1080:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:1;1080:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;参数名称&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:2;1080:40&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;默认值&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:3;1080:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;参数说明&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:1;1082:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:2;1082:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:4;1082:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;connector.class&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:5;1082:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:6;1082:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;连接器的 Java 类的名称。这里是 oracle 的连接器类名。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:3;1083:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:7;1083:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;tasks.max&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:8;1083:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:9;1083:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;当前 connector 的最大并行任务数。oracle 的 source 连接器任务数只能是 1。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:4;1084:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:10;1084:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;topic.prefix&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:11;1084:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:12;1084:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;当前 connector 同步写入任务的命名空间。会被用于添加到同步表对应 topic 名称前等。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:5;1085:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:13;1085:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;database.hostname&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:14;1085:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:15;1085:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 数据库服务器的 IP 地址或主机名。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:6;1086:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:16;1086:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;database.port&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:17;1086:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;3306&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:18;1086:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 数据库服务器的整数端口号。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:7;1087:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:19;1087:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;database.user&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:20;1087:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:21;1087:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 数据库服务器连接用户。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:8;1088:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:22;1088:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;database.password&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:23;1088:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:24;1088:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 数据库服务器连接用户密码。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:9;1089:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:25;1089:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;database.dbname&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:26;1089:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:27;1089:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 数据库实例名称。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:10;1090:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:28;1090:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;database.connection.adapter&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:29;1090:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;logminer&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:30;1090:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;使用的适配器名称。选项为 logminer、olr 或者 xstream 。分别对应 Oracle LogMiner API、OpenLogReplicator和Oracle XStream API。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:11;1091:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:31;1091:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;schema.include.list&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:32;1091:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:33;1091:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;匹配的模式名。可以多个，用逗号分割即可。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:12;1092:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:34;1092:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;table.include.list&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:35;1092:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:36;1092:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;匹配的表名。可以多个，用逗号分割即可。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:13;1093:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:37;1093:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;schema.history.internal.kafka.bootstrap.servers&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:38;1093:52&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:39;1093:71&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;数据同步记录 Oracle 的表结构信息的 kafka 连接。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:14;1094:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:40;1094:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;schema.history.internal.kafka.topic&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:41;1094:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:42;1094:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;数据同步记录 Oracle 表结构的 topic 名称。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:15;1095:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:43;1095:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;event.processing.failure.handling.mode&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:44;1095:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;fail&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:45;1095:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;处理事件时碰到异常如何处理。可选 fail 、warn 和 skip。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:16;1096:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:46;1096:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;decimal.handling.mode&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:47;1096:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;precise&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:48;1096:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;针对 Oracle 的 NUMBER、DECIMAL 和 NUMERIC 类型的处理模式。”precise” 表示转换成 java.math.BigDecimal ，”double” 表示转换成 double 值，”string” 表示转换成字符串。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:17;1097:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:49;1097:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;snapshot.mode&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:50;1097:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;initial&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:51;1097:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;指定 connector 用来捕获表快照的形式。常用的是 ”initial”和 ”schema_only” 。“initial“ 在 connector 第一次启动时会获取表结构和表的快照数据，并继续获取新增的变更数据。”schema_only” 表示只获取表结构，并只会获取新增的变更数据。其他形式请参考 debezium 官方文档。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:18;1098:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:52;1098:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;log.mining.strategy&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:53;1098:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;redo_log_catalog&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:54;1098:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;指定挖掘策略。挖掘策略决定了Oracle LogMiner 如何构建数据字典来解析日志文件。有 redo_log_catalog 和 online_catalog 两种模式。推荐使用 online_catalog，这种模式的优点是速度快、不产生多余日志。缺点是如果DDL变化时如果还有旧的表结构对应的数据变更没有挖掘完成，无法根据旧的表结构解析日志，不适用于表结构频繁变更的情况。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:19;1099:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;19&#34; xtrc=&#34;entry:55;1099:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;log.mining.query.filter.mode&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;19&#34; xtrc=&#34;entry:56;1099:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;none&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;19&#34; xtrc=&#34;entry:57;1099:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle LogMiner 查询构建的方式。查询过滤方式，推荐使用 ”in” 的方式。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:20;1100:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;20&#34; xtrc=&#34;entry:58;1100:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;log.mining.continuous.mine&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;20&#34; xtrc=&#34;entry:59;1100:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;false&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;20&#34; xtrc=&#34;entry:60;1100:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;连续挖掘选项。Oracle 12c 及之后该选项已弃用。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:21;1101:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;21&#34; xtrc=&#34;entry:61;1101:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;heartbeat.interval.ms&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;21&#34; xtrc=&#34;entry:62;1101:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;0&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;21&#34; xtrc=&#34;entry:63;1101:64&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;connector 向 topic 发送心跳信息的频率，单位为毫秒。当需捕获的表在较长时间没有数据更改时，设置此参数可以及时刷新 SCN 号，设置为 0 时 connector 不会发送任何心跳信息，可能会导致 connector 记录的SCN号和数据库最新 SCN 号之间的间隔较大。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:22;1102:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;22&#34; xtrc=&#34;entry:64;1102:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;schema.history.internal.store.only.captured.tables.ddl&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;22&#34; xtrc=&#34;entry:65;1102:59&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;false&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;22&#34; xtrc=&#34;entry:66;1102:78&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;指定 connector 记录一个 schema 或者一个数据库中所有非系统表的表结构，还是只记录需要捕获表的表结构。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:23;1103:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;23&#34; xtrc=&#34;entry:67;1103:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;schema.history.internal.store.only.captured.databases.ddl&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;23&#34; xtrc=&#34;entry:68;1103:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;false&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;23&#34; xtrc=&#34;entry:69;1103:81&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;指定 connector 是否记录数据库实例中所有逻辑数据库的表结构。&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:153;1105:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;更多详细参数说明可以参看（Debezium 2.5），不同Debezium版本的参数配置不同，若使用其他版本的Debezium，需找到对应文档做修改。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:154;1107:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://debezium.io/documentation/reference/2.5/connectors/oracle.html&#34; scope=&#34;external&#34; xtrc=&#34;xref:9;1107:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;?ditaot usertext?&gt;Debezium Connector for Oracle :: Debezium Documentation&lt;/xref&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:155;1109:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:44;1109:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第三步： 启动 Oracle 的数据同步任务&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:156;1111:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;通过 REST API 启动 Oracle 的 source 连接器&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:79;1113:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;curl -i -X POST -H &#34;Accept:application/json&#34; -H &#34;Content-Type:application/json&#34; http://183.134.101.144:8083/connectors/ -d @/KFDATA/datasyn-config/source-oracle.json&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:157;1117:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;也可以通过 kafka-tools 中的脚本启动&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:80;1119:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/kafka-tools/bin ./rest.sh create /KFDATA/datasyn-config/source-oracle.json&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/21.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:21;1124:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;552&#34; dita-ot:image-height=&#34;132&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:21;1124:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;21&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:158;1126:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:45;1126:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第四步：查看 Oracle 数据同步任务状态&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:159;1128:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看同步任务列表。&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:14;1128:10&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;list&lt;/i&gt; 参数展示任务名列表，showall 参数会显示全部同步任务状态。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:81;1130:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/kafka-tools/bin ./rest.sh showall &lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/22.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:22;1136:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1444&#34; dita-ot:image-height=&#34;138&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:22;1136:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;22&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:160;1138:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:15;1138:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;topic&lt;/i&gt; 列表：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:82;1140:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;./kafka.sh tplist&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/23.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:23;1144:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;373&#34; dita-ot:image-height=&#34;183&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:23;1144:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;23&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:161;1146:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看 topic oracle_service.DEBEZIUM.INDEX_EXAMPLE和 oracle_service.DEBEZIUM.STOCK_EXAMPLE 中的数据条数：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:83;1148:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;./kafka.sh get_offsets oracle_service.DEBEZIUM.INDEX_EXAMPLE ./kafka.sh get_offsets oracle_service.DEBEZIUM.STOCK_EXAMPLE&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:162;1153:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;结果如图所示&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/24.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:24;1155:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;666&#34; dita-ot:image-height=&#34;64&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:24;1155:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;24&lt;/alt&gt;&lt;/image&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;4-从kafka-到-dolphindb-的数据同步部署程序与配置任务&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:23;1157:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:23;1157:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;4. 从Kafka 到 DolphinDB 的数据同步：部署程序与配置任务&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:23;1157:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;41-安装-kafka-dolphindb-数据同步连接器插件&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:24;1159:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:24;1159:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;4.1 安装 Kafka-DolphinDB 数据同步连接器插件&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:24;1159:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:163;1161:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;配置启动 Kafka-DolphinDB 连接器，需要以下两步：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:12;1163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:22;1163:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;下载 Kafka-DolphinDB-Connector 插件，将插件解压并放到 Kafka Connect 的插件路径下。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:23;1164:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;重新启动 Kafka Connect 程序，以加载插件。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:164;1166:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:46;1166:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步：下载 Kafka-DolphinDB 插件&lt;/b&gt;&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:13;1168:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:24;1168:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;jdbc-2.00.11.1-ddbcdc-beta1.jar ：该 DolphinDB JDBC 包为数据同步做了一些专门修改，为特殊版本，后续会进行版本统一支持。参见附录。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:25;1169:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;kafka-connect-jdbc-10.7.4-ddb1.10.jar ：是基于 kafka-connect-jdbc-10.7.4 开发的 DolphinDB 连接器，后续会进行代码开源。参见附录。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:165;1171:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建插件路径，在此路径下放置 Kafka-DolphinDB 插件包，将上述两个 jar 包放在此目录下。请确保 kafka 用户包含对这两个文件的读权限。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:84;1173:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo mkdir -p /opt/confluent/share/java/plugin/kafka-connect-jdbc sudo cp ~/jdbc-2.00.11.1-ddbcdc-beta1.jar /opt/confluent/share/java/plugin/kafka-connect-jdbc/ sudo cp ~/kafka-connect-jdbc-10.7.4-ddb1.10.jar /opt/confluent/share/java/plugin/kafka-connect-jdbc/&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:166;1179:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;如果上面的操作碰到权限问题，则可以使用以下命令赋予权限。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:85;1181:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo chmod o+rx /opt/confluent/share/java/plugin/kafka-connect-jdbc/*&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:167;1185:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:47;1185:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步： 重启 kafka-connect&lt;/b&gt;&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:86;1187:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;sudo systemctl restart kafka-connect&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:168;1191:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看kafka-connect路径的日志输出&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:87;1193:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cat /KFDATA/kafka-connect/logs/connect.log | grep JdbcSinkConnector&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:169;1197:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;出现下图中所示信息时，说明插件加载成功：&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/25.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:25;1199:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1455&#34; dita-ot:image-height=&#34;80&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:25;1199:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;25&lt;/alt&gt;&lt;/image&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;42-配置-dolphindb-的数据同步连接任务&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:25;1201:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:25;1201:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;4.2 配置 DolphinDB 的数据同步连接任务&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:25;1201:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:170;1203:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:48;1203:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步：创建同步的 DolphinDB 库、表&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:171;1205:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;根据 Oracle 表结构，创建与 Oracle 表结构一致的表，Oracle 数据类型转换为 DolphinDB 数据类型对照表可以参考4.2节。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:172;1207:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:18;1207:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;index_example&lt;/codeph&gt; 表：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:88;1209:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;dbName = &#34;dfs://index_data&#34; tbName = &#34;index_example&#34; colNames = `trade_date`stock_code`effDate`indexShortName`indexCode`secShortName`exchangeCD`weight`tm_stamp`flag colTypes = `DATE`SYMBOL`TIMESTAMP`SYMBOL`SYMBOL`SYMBOL`SYMBOL`DOUBLE`TIMESTAMP`INT t = table(1:0, colNames, colTypes) db = database(directory=dbName, partitionType=RANGE, partitionScheme=1990.01M+(0..80)*12, engine=&#34;TSDB&#34;, atomic=&#34;CHUNK&#34;) db.createPartitionedTable(t, tbName, partitionColumns=`trade_date, sortColumns=`stock_code`indexCode`flag`trade_date, keepDuplicates=LAST, softDelete=true)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:173;1219:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:19;1219:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;stock_example&lt;/codeph&gt; 表：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:89;1221:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;dbName = &#34;dfs://stock_data&#34; tbName = &#34;stock_example&#34; colNames = `id`ts_code`symbol_id`name`area`industry`list_date colTypes = `LONG`SYMBOL`SYMBOL`SYMBOL`SYMBOL`SYMBOL`DATE t = table(1:0, colNames, colTypes) db=database(directory=dbName, partitionType=HASH, partitionScheme=[LONG, 1], engine=&#34;TSDB&#34;, atomic=&#34;CHUNK&#34;) db.createPartitionedTable(t, tbName, partitionColumns=`id, sortColumns=`ts_code`id, keepDuplicates=LAST, sortKeyMappingFunction=[hashBucket{,100}], softDelete=true)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:174;1231:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;注：建表时的软删除功能，即softDelete选项需要DolphinDB 2.00.11及以上的版本。旧版本DolphinDB建表时可以去除该选项。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:175;1233:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:49;1233:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步： 配置同步配置表&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:176;1235:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;在DolphinDB 中创建一张配置表，记录 kafka topic 和 DolphinDB 库表之间的映射关系。配置表的库表名可以自行调整，并在 DolphinDB 的同步任务中设置相应的库表名称。配置表中字段名是固定的，需和示例保持一致。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:177;1237:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;数据库名：dfs://ddb_sync_config&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:178;1239:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;表名：sync_config&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:90;1241:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;db = database(&#34;dfs://ddb_sync_config&#34;, HASH, [SYMBOL, 2]) t = table(1:0, `connector_name`topic_name`target_db`target_tab`add_sortcol_flag, [SYMBOL, SYMBOL, SYMBOL, SYMBOL, SYMBOL]) db.createTable(t, &#34;sync_config&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:179;1248:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;kafka topic 名可以通过之前介绍的&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:20;1248:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;./kafka.sh tplist&lt;/codeph&gt; 的命令查看。debezium.index_example 和 debezium.stock_example 表对应的 kafka topic 分别是 oracle_service.DEBEZIUM.INDEX_EXAMPLE 和 oracle_service.DEBEZIUM.STOCK_EXAMPLE。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:180;1250:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;插入配置信息，将 kafka topic 和 DolphinDB 库表名称一一对应。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:91;1252:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;def addSyncConfig(connector_name, topic_name, dbname, tbname, add_sortcol_flag=&#34;0&#34;) { loadTable(&#34;dfs://ddb_sync_config&#34;, &#34;sync_config&#34;).append!( table([connector_name] as col1, [topic_name] as col2, [dbname] as col3, [tbname] as col4, [add_sortcol_flag] as col5)) } addSyncConfig(&#34;ddb-sink&#34;, &#34;oracle_service.DEBEZIUM.INDEX_EXAMPLE&#34;, &#34;dfs://index_data&#34;, &#34;index_example&#34;, &#34;0&#34;) addSyncConfig(&#34;ddb-sink&#34;, &#34;oracle_service.DEBEZIUM.STOCK_EXAMPLE&#34;, &#34;dfs://stock_data&#34;, &#34;stock_example&#34;, &#34;0&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:181;1266:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;以下是配置表的各个字段说明：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:2;1268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;3&#34; xtrc=&#34;tgroup:2;1268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:4;1268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:5;1268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:6;1268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:2;1268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:24;1268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:70;1268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;字段名&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:71;1268:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;类型&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:72;1268:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;字段作用&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:2;1270:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:25;1270:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:73;1270:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;connector_name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:74;1270:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:75;1270:30&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;配置的 DolphinDB Sink 同步任务名&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:26;1271:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:76;1271:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;topic_name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:77;1271:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:78;1271:30&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;要同步的 kafka topic 名称&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:27;1272:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:79;1272:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;target_db&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:80;1272:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:81;1272:30&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;对应的 DolphinDB 分布式库名&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:28;1273:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:82;1273:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;target_tab&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:83;1273:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:84;1273:30&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;对应的 DolphinDB 分布式表名&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:29;1274:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:85;1274:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;add_sortcol_flag&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:86;1274:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:87;1274:30&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;是否需要添加 dummySortKey__ 列，需要则设置为 ”1”，否则设置为 ”0”。具体原因详见 4.1 节的DolphinDB 同步须知。&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:182;1276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:50;1276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第三步： 准备连接器配置文件，并启动连接任务&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:183;1278:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;创建 DolphinDB 数据同步任务配置文件。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:92;1280:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/datasyn-config vim ddb-sink.json&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:184;1285:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;配置如下&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:93;1287:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;{ &#34;name&#34;: &#34;ddb-sink&#34;, &#34;config&#34;: { &#34;connector.class&#34;: &#34;io.confluent.connect.jdbc.JdbcSinkConnector&#34;, &#34;tasks.max&#34;: &#34;2&#34;, &#34;topics&#34;: &#34;oracle_service.DEBEZIUM.INDEX_EXAMPLE,oracle_service.DEBEZIUM.STOCK_EXAMPLE&#34;, &#34;connection.url&#34;: &#34;jdbc:dolphindb://183.134.101.144:8848?user=admin&amp;amp;password=123456&#34;, &#34;transforms&#34;: &#34;unwrap&#34;, &#34;transforms.unwrap.type&#34;: &#34;io.debezium.transforms.ExtractNewRecordState&#34;, &#34;transforms.unwrap.drop.tombstones&#34;: &#34;false&#34;, &#34;auto.evolve&#34;: &#34;false&#34;, &#34;insert.mode&#34;: &#34;insert&#34;, &#34;delete.enabled&#34;: &#34;true&#34;, &#34;batch.size&#34;:&#34;10000&#34;, &#34;pk.mode&#34;: &#34;record_key&#34;, &#34;ddbsync.config.table&#34;:&#34;dfs://ddb_sync_config,sync_config&#34;, &#34;ddbsync.addSortColFlag&#34;: &#34;true&#34; } }&lt;/codeblock&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:3;1309:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;3&#34; xtrc=&#34;tgroup:3;1309:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:7;1309:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:8;1309:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:9;1309:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:3;1309:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:30;1309:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:88;1309:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;参数名称&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:89;1309:34&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;默认值&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:90;1309:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;参数说明&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:3;1311:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:31;1311:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:91;1311:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:92;1311:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:93;1311:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;同步任务名称，不可重复。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:32;1312:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:94;1312:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;connector.class&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:95;1312:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:96;1312:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;连接器的 Java 类的名称。这里是 JdbcSink 的通用连接器类名。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:33;1313:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:97;1313:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;tasks.max&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:98;1313:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:99;1313:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;当前 connector 的最大并行任务数。可以调节增大，会创建多 consumer 并行消费读取 Kafka 中数据。一般的数据同步场景设置到 10 基本可以满足同步速度上的需求。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:34;1314:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:100;1314:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;topics&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:101;1314:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:102;1314:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;配置要同步的 Kafka 中的 topic 名称，配置多个 topic 时用逗号分割。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:35;1315:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:103;1315:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;connection.url&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:104;1315:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:105;1315:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;DolphinDB 数据库服务器的IP地址或主机名。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:36;1316:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:106;1316:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;transforms&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:107;1316:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:108;1316:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;声明数据转换操作，请设置为 unwrap。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:37;1317:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:109;1317:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;transforms.unwrap.type&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:110;1317:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;无&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:111;1317:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;声明数据转换器类别。请设置为 false。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:38;1318:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:112;1318:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;transforms.unwrap.drop.tombstones&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:113;1318:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;false&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:114;1318:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;声明是否删除 Kafka 中的墓碑数据。请设置为 false。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:39;1319:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:115;1319:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;auto.evolve&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:116;1319:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;true&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:117;1319:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;当 DolphinDB 中缺少列时，是否自动增加列。当前不支持自动增加列，必须配置为 false。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:40;1320:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:118;1320:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;insert.mode&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:119;1320:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;insert&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:120;1320:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;数据插入模式。当前只支持 insert 模式。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:41;1321:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:121;1321:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;pk.mode&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:122;1321:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;none&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:123;1321:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;主键模式。必须设置为 record_key。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:42;1322:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:124;1322:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;delete.enabled&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:125;1322:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;false&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:126;1322:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;在主键模式为 record_key 情况下。对于 null 值 record 是否按照 delete 进行操作。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:43;1323:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:127;1323:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;batch.size&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:128;1323:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;3000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:129;1323:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;设置在数据量足够大时。以每批最大多少条来写入到目标数据库。注意：当该值大于 Connect worker 中设置的 consumer.max.pol.records 时，每次提交数量会受 consumer.max.pol.records 的值限制。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:44;1324:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:130;1324:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ddbsync.config.table&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:131;1324:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;dfs://ddb_sync_config,sync_config&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:132;1324:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Kafka 中的 topic 对应 DolphinDB 表的配置表名称。可以自行定义库、表名称。但表中的字段要保持一致。表结构见 3.2 节。&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:45;1325:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:133;1325:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ddbsync.addSortColFlag&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:134;1325:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;false&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:135;1325:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;是否开启补充列。若部分表需要通过补充列来设置sortColumns，则需要开启。具体原因见 4.1 节。&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:185;1327:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;参数说明：以上参数项为同步 DolphinDB 所需参数。如果对 Confluent 的JDBC Sink Connect 有经验可适当调节。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:186;1329:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;通过 REST API 启动source连接器：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:94;1331:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;curl -i -X POST -H &#34;Accept:application/json&#34; -H &#34;Content-Type:application/json&#34; http://183.134.101.144:8083/connectors/ -d @ddb-sink.json&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:187;1335:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;也可以通过 kafka-tools 中的脚本启动：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:95;1337:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/kafka-tools/bin ./rest.sh create /KFDATA/datasyn-config/ddb-sink.json&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:188;1342:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看同步任务状态， ddb-sink 是 DolphinDB 的数据同步任务：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:96;1344:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;./rest.sh showall&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/26.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:26;1348:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1454&#34; dita-ot:image-height=&#34;200&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:26;1348:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;26&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:189;1350:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:51;1350:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第四步： 查看表初始数据同步进度&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:190;1352:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;在设置 Oracle 同步任务时，将&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:21;1352:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;snapshot.mode&lt;/codeph&gt;选项值设置为 ”initial” ，该选项意味着 Oracle 会同步表的初始数据到 Kafka 中，设置完下游的 DolphinDB 任务后，可以检查初始数据的同步情况。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:191;1354:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;通过 kafka.sh 脚本查看消费者列表：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:97;1356:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;./kafka.sh cm_list&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/27.png&#34; placement=&#34;break&#34; xtrc=&#34;image:27;1360:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;348&#34; dita-ot:image-height=&#34;33&#34; dita-ot:horizontal-dpi=&#34;72&#34; dita-ot:vertical-dpi=&#34;72&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:27;1360:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;27&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:192;1362:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看 DolphinDB 同步任务对应的 Kafka 消费组中的每一个 consumer 的消费进度，通过此命令可以查看同步程序中每一张的表同步进度。 Lag 为 0 则表示 Kafka 中 topic 当前没有未消费的数据，即 Kafka 中的数据与对应表的数据是一致的。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:98;1364:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;./kafka.sh cm_detail connector-ddb-sink&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/28.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:28;1368:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1445&#34; dita-ot:image-height=&#34;123&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:28;1368:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;28&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:193;1370:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;如上图显示，数据已被 DolphinDB 同步任务消费完毕，此时在 DolphinDB 的 web 界面查看表中数据，表数据和 Oracle 表中数据是一致的。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/29.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:29;1372:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1087&#34; dita-ot:image-height=&#34;147&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:29;1372:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;29&lt;/alt&gt;&lt;/image&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/30.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:30;1374:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;515&#34; dita-ot:image-height=&#34;121&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:30;1374:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;30&lt;/alt&gt;&lt;/image&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;43-实时同步验证&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:26;1376:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:26;1376:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;4.3 实时同步验证&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:26;1376:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:194;1378:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:52;1378:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第一步：插入数据&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:195;1380:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;向 Oracle 表插入两条新数据：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:99;1382:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;insert into debezium.index_example values (to_date('2006-11-30', 'YYYY-MM-DD'), '600051', to_date('2018-06-30 05:48:05', 'YYYY-MM-DD HH:MI:SS'), '上证180', '000010', '三一重工', 'XXXB', 0.0043, to_date('2018-06-30 05:48:05', 'YYYY-MM-DD HH24:MI:SS'), 1); insert into debezium.index_example values (to_date('2006-11-30', 'YYYY-MM-DD'), '600052', to_date('2018-06-30 06:48:02', 'YYYY-MM-DD HH:MI:SS'), '沪深300', '000300', '三一重工', 'XSHG', 0.0029, to_date('2018-06-30 05:48:05', 'YYYY-MM-DD HH24:MI:SS'), 1);&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:196;1394:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看 DolphinDB 对应的表数据：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:100;1396:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;select * from loadTable(&#34;dfs://index_data&#34;, &#34;index_example&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:197;1400:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;可以看到新数据已写入：&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/31.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:31;1402:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1090&#34; dita-ot:image-height=&#34;193&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:31;1402:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;31&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:198;1404:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:53;1404:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第二步：更新数据&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:199;1406:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 更改 code 值为600031数据的 tm_stamp 字段值，更改为 2024.02.28 16:00:00：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:101;1408:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;update debezium.index_example set tm_stamp = to_date('2024-02-28 16:00:00', 'YYYY-MM-DD HH24:MI:SS') where stock_code = '600031';&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:200;1414:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;再查看 DolphinDB 中数据，数据已被修改：&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/32.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:32;1416:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1099&#34; dita-ot:image-height=&#34;197&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:32;1416:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;32&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:201;1418:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:54;1418:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;第三步：删除数据&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:202;1420:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 删除一条数据：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:102;1422:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;delete from debezium.index_example where stock_code = '600052';&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:203;1426:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;再查看 DolphinDB 中数据，数据已被删除：&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/33.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:33;1428:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1093&#34; dita-ot:image-height=&#34;181&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:33;1428:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;33&lt;/alt&gt;&lt;/image&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;5-部署注意事项&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:27;1430:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:27;1430:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;5. 部署注意事项&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:27;1430:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;51-实时同步须知&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:28;1432:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:28;1432:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;5.1 实时同步须知&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:28;1432:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:204;1434:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;DolphinDB 是一款支持海量数据的分布式时序数据库。针对不同的数据处理需求，在底层架构上天然上与通常的关系型数据库不同，所以需要有以下限制：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:14;1436:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:26;1436:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;DolphinDB 的表没有主键设计，必须使用 TSDB 引擎，将主键设置为 sortColumn 字段，并设置 &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:55;1436:60&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;keepDuplicates=LAST&lt;/b&gt; 来进行去重，以确保数据唯一性。TSDB 引擎的 sortColumn 是分区内去重，如果使用的是分区表，需要至少将其中一个主键列设置为分区列。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:27;1437:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 表的主键可能不满足 TSDB 引擎的 sortColumn 设置规则，有以下三种情况：&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:15;1438:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:28;1438:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 表中有两个及以上的主键，其中一个主键为整数类型或时间类型，但末尾列不是整数类型或时间类型：&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:16;1439:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:29;1439:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;该情况需要调整 sortColumn 设置的顺序，将整数类型或时间类型的主键移动到末尾。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:30;1440:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 表中只有一个主键，或者 Oracle 表中的主键的数据类型均不包含整数类型或时间类型：&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:17;1441:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:31;1441:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;该情况需要建表时在末尾补充一个 dummySortKey__ 列，值均设置为0，对应同步程序的配置表中需要将add_sortcol_flag 列的值设置为“1”，若使用 DataX 进行同步，则需要做数据转换。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:32;1442:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 表中的主键类型包含 DolphinDB 不支持的类型。&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:18;1443:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:33;1443:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;DolphinDB TSDB 引擎的 sortColumns 支持整数、日期或时间、字符串类型，暂时不支持小数类型，但预计会在后续的版本里支持，请关注版本更新。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:205;1445:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;DDL 语句相关：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:19;1447:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:34;1447:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;当前不支持 DDL 语句同步。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:35;1448:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;若表结构发生更改，需进行单表修复，具体操作后续会在实时同步的运维手册文档中给出。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:206;1450:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;其他：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:20;1452:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:36;1452:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;表字段命名时，请尽量规避一些简单的名字，比如 code, timestamp 等，这种命名与 DolphinDB 内关键字重复，可能会导致无法正确同步。&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;52-oracle-dolphindb-数据类型对应表&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:29;1454:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:29;1454:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;5.2 Oracle-DolphinDB 数据类型对应表&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:29;1454:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:207;1456:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;以下的类型对应表为推荐设置的 DolphinDB 类型，注意两者数据类型表示的精度范围，确保 DolphinDB 数据类型的精度可以覆盖原 Oracle 类型。&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:4;1458:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:4;1458:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:10;1458:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:11;1458:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:4;1458:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:46;1458:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:136;1458:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle类型&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:137;1458:28&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;DolphinDB类型&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:4;1460:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:47;1460:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:138;1460:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;NUMBER / NUMBER(P, S &amp;gt; 0)&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:139;1460:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;DOUBLE / DECIMAL&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:48;1461:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:140;1461:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;FLOAT / DOUBLE PRICISION&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:141;1461:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:49;1462:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:142;1462:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;INTEGER / NUMBER(P, 0)&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:143;1462:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:50;1463:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:144;1463:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;VARCHAR(M) / CHAR(M)&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:145;1463:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;SYMBOL / STRING&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:51;1464:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:146;1464:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;DATE&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:147;1464:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;DATE（仅日期）或TIMESTAMP（毫秒级时间戳）&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:52;1465:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:148;1465:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;TIMESTAMP(0 - 3)&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:149;1465:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;TIMESTAMP（毫秒级时间戳）&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:53;1466:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:150;1466:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;TIMESTAMP, TIMESTAMP(4 - 6)&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:151;1466:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;NANOTIMESTAMP（纳秒级时间戳）&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:54;1467:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:152;1467:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;TIMESTAMP(7 - 9)&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:153;1467:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;NANOTIMESTAMP&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:208;1469:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;在浮点数数据处理上，Oracle 的 NUMBER 类型是精确值，如果转换成 DolphinDB 的 DOUBLE 类型，会存在浮点数精度丢失问题。DolphinDB 的 DOUBLE 类型的精度为15-16位有效数字。因此推荐用户转换成 DolphinDB 的 DECIMAL 类型，确保浮点数精度。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:209;1471:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;在时间类型转换上，请参照表中的类型映射，以保证 DolphinDB 中的时间类型字段在精度上可以覆盖 Oracle 中时间类型字段的精度。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;6-同步性能测试&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:30;1473:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:30;1473:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;6. 同步性能测试&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:30;1473:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;61-性能测试配置&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:31;1475:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:31;1475:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;6.1 性能测试配置&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:31;1475:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:210;1477:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:56;1477:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;参数配置调优&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:211;1479:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;本次性能测试修改了 kafka 的配置参数 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:16;1479:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;message.max.bytes&lt;/i&gt; 为 10,485,760，当更新数据量比较大时，kafka 每批处理的消息变多了，会有一定的性能提升。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:212;1481:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;此外，也可以调整 Oracle 同步任务的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:17;1481:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;log.mining.batch.size.max&lt;/i&gt; 配置参数来增大 Oracle LogMiner 每批处理的数据量。该调整会增加 Oracle 的内存使用，需按实际情况评估调整。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:213;1483:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:57;1483:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;建表语句&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:214;1485:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 建表，并生成测试数据代码：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:103;1487:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;DROP TABLE debezium.performance_test1; CREATE TABLE debezium.performance_test1 ( dt date, id varchar2(20), str1 char(10), val number, qty varchar2(20), tm date ); -- 生成100w行数据，每天1000行 INSERT INTO debezium.performance_test1 SELECT to_date('2020-01-01', 'YYYY-MM-DD') + trunc(level/1000), to_char(mod(level,1000)+1), 'aa', 1.234, 1000, to_date('2024-01-01 15:00:00', 'YYYY-MM-DD HH24:MI:SS') FROM dual connect by level &amp;lt;= 1000000; -- 添加主键 ALTER TABLE debezium.performance_test1 ADD CONSTRAINT pk_performance_test1 PRIMARY KEY (id, dt); DROP TABLE debezium.performance_test2; CREATE TABLE debezium.performance_test2 ( dt date, id varchar2(20), str1 char(10), val number, qty varchar2(20), tm date ); -- 生成1亿行数据，每天100000行 INSERT INTO debezium.performance_test2 SELECT to_date('2020-01-01', 'YYYY-MM-DD') + trunc(((lvl1-1)*10000+lvl2)/100000), to_char(mod(((lvl1-1)*10000+lvl2), 100000)+1), 'aa', 1.234, 1000, to_date('2024-01-01 15:00:00', 'YYYY-MM-DD HH24:MI:SS') FROM (select level as lvl1 from dual connect by Level &amp;lt;= 10000) CROSS JOIN (select level as lvl2 from dual connect by Level &amp;lt;= 10000); -- 添加主键 ALTER TABLE debezium.performance_test2 ADD CONSTRAINT pk_performance_test2 PRIMARY KEY (id, dt);&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:215;1528:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;DolphinDB 建表代码：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:104;1530:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;dbName = &#34;dfs://performance_test1&#34; tbName = &#34;performance_test1&#34; colNames = `dt`id`str1`val`qty`tm colTypes = `DATE`SYMBOL`SYMBOL`DOUBLE`LONG`TIMESTAMP t = table(1:0, colNames, colTypes) pkColumns = `id`dt db = database(dbName, HASH, [SYMBOL, 2], , 'TSDB', 'CHUNK') db.createTable(t, tbName, sortColumns=pkColumns, keepDuplicates=LAST, softDelete=true) dbName = &#34;dfs://performance_test2&#34; tbName = &#34;performance_test2&#34; colNames = `dt`id`str1`val`qty`tm colTypes = `DATE`SYMBOL`SYMBOL`DOUBLE`LONG`TIMESTAMP t = table(1:0, colNames, colTypes) pkColumns = `id`dt partitionCols = `dt`id db1 = database(, RANGE, date(datetimeAdd(1990.01M, 0..100*12, 'M'))) db2 = database(, HASH, [SYMBOL, 50]) db = database(dbName, COMPO, [db1, db2], , `TSDB, `CHUNK) db.createPartitionedTable(t, tbName, partitionColumns=partitionCols, sortColumns=pkColumns, keepDuplicates=LAST, softDelete=true)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;62-性能测试结果&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:32;1553:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:32;1553:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;6.2 性能测试结果&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:32;1553:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:216;1555:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;性能测试结果如下表所示，其中总耗时等于 DolphinDB 更新完成时间减去 Oracle 更新完成时间，因此总耗时包含了以下数据同步的完整链路：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:21;1557:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:37;1557:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Debezium 挖掘 Oracle 日志到 Kafka&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:38;1558:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Kafka 推送数据给相应 topic 的消费者&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:39;1559:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;下游的 DolphinDB Connector 消费 Kafka 中数据，解析为相应的 DolphinDB 更新语句，并执行写入 DolphinDB 完成&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:217;1561:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Kafka 每次推送的变更数据在3000-4000条，具体条数和 Kafka 的日志大小配置相关。对于 insert 和 update 类型的操作，DolphinDB 的处理效率很高。对于 delete 类型操作，由于 delete 操作涉及数据查找， DolphinDB 的处理效率和具体表的数据行数、分区方式相关。&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:5;1563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;6&#34; xtrc=&#34;tgroup:5;1563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:12;1563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:13;1563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:14;1563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:15;1563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col5&#34; colnum=&#34;5&#34; xtrc=&#34;colspec:16;1563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col6&#34; colnum=&#34;6&#34; xtrc=&#34;colspec:17;1563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:5;1563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:55;1563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:154;1563:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;测试表&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:155;1563:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;原始数据行数&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:156;1563:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;原始数据大小&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:157;1563:38&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;操作类型&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:158;1563:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;操作行数&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:159;1563:52&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;总耗时&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:5;1565:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:56;1565:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:160;1565:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;表1performance_test1&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:161;1565:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;100万&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:162;1565:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;39MB&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:163;1565:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;insert&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:164;1565:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:165;1565:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1s&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:57;1566:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:166;1566:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:167;1566:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:168;1566:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:169;1566:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:170;1566:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:171;1566:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:58;1567:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:172;1567:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1,000,000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:173;1567:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1min5s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:174;1567:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:175;1567:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:176;1567:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:177;1567:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:59;1568:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:178;1568:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;update&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:179;1568:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:180;1568:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:181;1568:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:182;1568:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:183;1568:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:60;1569:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:184;1569:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:185;1569:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;4s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:186;1569:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:187;1569:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:188;1569:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:189;1569:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:61;1570:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:190;1570:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1,000,000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:191;1570:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1min16s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:192;1570:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:193;1570:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:194;1570:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:195;1570:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:62;1571:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:196;1571:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;delete&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:197;1571:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:198;1571:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;3s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:199;1571:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:200;1571:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:201;1571:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:63;1572:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:202;1572:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:203;1572:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;9s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:204;1572:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:205;1572:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:206;1572:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:207;1572:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:64;1573:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:208;1573:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1,000,000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:209;1573:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;6min9s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:210;1573:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:211;1573:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:212;1573:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:213;1573:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:65;1574:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:214;1574:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;表2performance_test2&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:215;1574:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1亿&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:216;1574:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;3.2GB&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:217;1574:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;insert&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:218;1574:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:219;1574:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1s&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:66;1575:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:220;1575:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:221;1575:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;2s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:222;1575:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:223;1575:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:224;1575:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:225;1575:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:67;1576:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:226;1576:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1,000,000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:227;1576:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1min4s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:228;1576:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:229;1576:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:230;1576:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:231;1576:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:68;1577:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:232;1577:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;update&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:233;1577:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:234;1577:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:235;1577:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:236;1577:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:237;1577:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:69;1578:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:238;1578:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:239;1578:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;5s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:240;1578:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:241;1578:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:242;1578:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:243;1578:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:70;1579:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:244;1579:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1,000,000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:245;1579:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1min14s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:246;1579:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:247;1579:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:248;1579:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:249;1579:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:71;1580:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:250;1580:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;delete&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:251;1580:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:252;1580:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;3s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:253;1580:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:254;1580:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:255;1580:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:72;1581:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:256;1581:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;10,000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:257;1581:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;7s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:258;1581:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:259;1581:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:260;1581:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:261;1581:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:73;1582:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;19&#34; xtrc=&#34;entry:262;1582:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;1,000,000&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;19&#34; xtrc=&#34;entry:263;1582:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;3min22s&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;19&#34; xtrc=&#34;entry:264;1582:37&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;19&#34; xtrc=&#34;entry:265;1582:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;19&#34; xtrc=&#34;entry:266;1582:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;19&#34; xtrc=&#34;entry:267;1582:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt; &lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;7-常见问题解答faq&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:33;1584:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:33;1584:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;7. 常见问题解答（FAQ）&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:33;1584:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;71-创建同步任务时报错&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:34;1586:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:34;1586:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;7.1 创建同步任务时报错&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:34;1586:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:22;1588:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:40;1588:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:58;1588:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;json 文件格式错误&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/34.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:34;1590:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1462&#34; dita-ot:image-height=&#34;154&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:34;1590:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;34&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:218;1592:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;造成上述问题的原因可能是多了逗号、少了逗号或者括号不正确，需要检查并修订 json 文件。&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:23;1594:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:41;1594:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:59;1594:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Failed to resolve Oracle database version&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/35.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:35;1596:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;1451&#34; dita-ot:image-height=&#34;155&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:35;1596:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;35&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:219;1598:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;该报错提示意味着 Oracle 数据库无法正常连接。造成上述问题的可能原因：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:24;1600:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:42;1600:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;未将 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:18;1600:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ojdbc8.jar&lt;/i&gt; 包到插件目录下&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:43;1601:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Kafka 用户对 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:19;1601:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ojdbc8.jar&lt;/i&gt; 文件没有读权限&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:220;1603:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;根据原因调整文件目录或读权限后，如果还是出现该错误，或者是其他无法连接 Oracle 的提示，可以尝试更换连接方式的写法，在配置文件中加入如下代码：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:105;1605:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&#34;database.url&#34; : &#34;jdbc:oracle:thin:@192.168.189.130:1521:testdb&#34;,&lt;/codeblock&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:25;1609:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:44;1609:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:60;1609:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Can’t find JdbcSinkConnector&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:221;1611:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看日志提示没有 JdbcSinkConnector 包的加载。JdbcSinkConnector 是包含在 kafka-connect-jdbc-10.7.4-ddb1.10.jar 包内，需要确认该 jar 包是否防止在 kafka connect 的插件路径下，确认 kafka 对该文件的读权限。再通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:22;1611:157&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;java --version&lt;/codeph&gt; 查看 Java 版本是否是17，Java 版本较低时，可能无法正确加载插件。目前已知使用 Java 8 时无法正确加载该插件。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;72-数据未同步或者未正确同步&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:35;1613:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:35;1613:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;7.2 数据未同步或者未正确同步&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:35;1613:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:222;1615:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;当数据未同步或者未正确同步时，请先按以下两步进行检查。然后对照后面的提供的错误列表进行参考调整。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:223;1617:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:61;1617:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;step1 查看同步任务状态&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:224;1619:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;先查看同步任务是否报错：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:106;1621:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/kafka-tools/bin ./rest.sh showall&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:225;1626:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;再看 kafka connect 的日志中是否出现 ERROR：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:107;1628:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/kafka-connect/logs cat connect.log | grep ERROR&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:226;1633:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;如果有出现 ERROR，看 ERROR 显示的日志是 Oracle 报错还是 ddb-sink 报错，查看具体的报错信息。如果同步任务未报错，也没有 ERROR，再通过以下方式排查。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:227;1635:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:62;1635:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;step2 查看 Oracle 数据是否同步到 Kafka&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:228;1637:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看 Kafka 所有的 topic：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:108;1639:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;cd /KFDATA/kafka-tools/bin ./kafka.sh tplist&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DKOD/36.jpg&#34; placement=&#34;break&#34; xtrc=&#34;image:36;1644:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34; dita-ot:image-width=&#34;368&#34; dita-ot:image-height=&#34;184&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrc=&#34;alt:36;1644:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;36&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:229;1646:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;在查看该 topic 对应的数据条数：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:109;1648:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;./kafka.sh get_offsets oracle_service.DEBEZIUM.INDEX_EXAMPLE&lt;/codeblock&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:26;1652:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:45;1652:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:63;1652:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;一张表出现两个 topic 名字&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:230;1654:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;这说明 Oracle source 任务的 topic.prefix 或 DolphinDB sink 任务的 topics 配置项拼写有误，请检查这两项。DolphinDB sink 任务的 topics 必须为 .. 的格式。创建 sink 任务时，如果 topic 不存在，则会自动创建 topic，因此拼写错误会导致出现两个 topic 。&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:27;1656:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:46;1656:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:64;1656:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;没有表对应的 topic / 有对应的 topic，但数据条数为0&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:231;1658:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;这说明 Oracle 数据未正常同步到 Kafka 中，请在同步任务的 table.include.list 中检查 Oracle 表名的拼写，或者在同步任务中未配置参数 &#34;log.mining.strategy&#34;:&#34;online_catalog&#34; 导致数据延迟大。&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:28;1660:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:47;1660:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:65;1660:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;有对应的 topic，有数据条数，但DolphinDB未同步&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:232;1662:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;检查 DolphinDB Sink 任务中 topics 配置项中的拼写，检查同步任务配置表中是否有相同的条数。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:233;1664:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;查看 Kafka 中数据是否与 Oracle 变更数据一致：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:110;1666:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;./tpconsumer.sh --op=2 --topic=oracle_service.DEBEZIUM.INDEX_EXAMPLE --offset=0 --max-messages=20&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:234;1670:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;在显示的结果中，初始数据同步的消息数据 op = r，新插入数据 op = c，更新数据 op = u&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:29;1672:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:48;1672:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:66;1672:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;插入数据正常，但更新或删除数据时未同步/报错&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:235;1674:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Oracle 未开启全字段补充日志&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:111;1676:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ALTER TABLE debezium.index_example ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS; ALTER TABLE debezium.stock_example ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;73-同步任务运行报错&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:36;1681:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:36;1681:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:67;1681:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;7.3 同步任务运行报错&lt;/b&gt;&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:36;1681:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:30;1683:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:49;1683:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:68;1683:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Java.lang.OutOfMemoryError&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:236;1685:2&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Kafka Connect 的默认内存为1GB，当数据更新量较大时会出现 JVM 内存不足，需要调整 JVM 大小。根据之前配置的安装路径，修改 kafka connect 的配置文件：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:112;1687:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;vim /KFDATA/kafka-connect/etc/kafka-connect.env&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:237;1691:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;在末尾加入 JVM 选项，内存大小根据实际需要调整：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:113;1693:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;KAFKA_HEAP_OPTS=&#34;-Xms10G -Xmx10G&#34;&lt;/codeblock&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:31;1697:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:50;1697:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:69;1697:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;Supplemental logging not properly configured.&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:238;1699:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;未开启最小补充日志时，会报此错误&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:114;1701:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:239;1705:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;除了最小补充日志，还需开启全字段补充日志&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:115;1707:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;ALTER TABLE debezium.index_example ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS; ALTER TABLE debezium.stock_example ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;8-附录&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:37;1712:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:37;1712:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;8. 附录&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:37;1712:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:240;1714:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; format=&#34;jar&#34; href=&#34;script/DKOD/kafka-connect-jdbc-10.7.4-ddb1.10.jar&#34; xtrc=&#34;xref:10;1714:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;?ditaot usertext?&gt;DolphinDB 的 Kafka-Connect 插件包&lt;/xref&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:241;1716:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; format=&#34;jar&#34; href=&#34;script/DKOD/jdbc-2.00.11.1-ddbcdc-beta1.jar&#34; xtrc=&#34;xref:11;1716:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;?ditaot usertext?&gt;DolphinDB 的 JDBC 包&lt;/xref&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:242;1718:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;xref class=&#34;- topic/xref &#34; format=&#34;tar&#34; href=&#34;script/DKOD/kafka-tools.tar&#34; xtrc=&#34;xref:12;1718:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/tutorials/Debezium_Kafka_Oracle_sync.md&#34;&gt;&lt;?ditaot usertext?&gt;运维脚本包 kafka-tools&lt;/xref&gt;&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;"/><meta name="wh-source-relpath" content="tutorials/Debezium_Kafka_Oracle_sync.md"/><meta name="wh-out-relpath" content="tutorials/Debezium_Kafka_Oracle_sync.html"/>

    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/commons.css?buildId=2024012323"/>
    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic.css?buildId=2024012323"/>

    <script src="../oxygen-webhelp/app/options/properties.js?buildId=20250305183303"></script>
    <script src="../oxygen-webhelp/app/localization/strings.js?buildId=2024012323"></script>
    <script src="../oxygen-webhelp/app/search/index/keywords.js?buildId=20250305183303"></script>
    <script defer="defer" src="../oxygen-webhelp/app/commons.js?buildId=2024012323"></script>
    <script defer="defer" src="../oxygen-webhelp/app/topic.js?buildId=2024012323"></script>
<link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/styles.css?buildId=2024012323"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script></head>

    <body id="debeziumkafka-实时同步-oracle-11g-数据到-dolphindb" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            跳转到主要内容
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div xmlns:whc="http://www.oxygenxml.com/webhelp/components" class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="https://docs.dolphindb.cn/zh/index.html" class=" wh_logo d-none d-sm-block "><img src="../logo.png" alt="  DolphinDB 文档中心  "/></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="booktitle">  <span class="ph mainbooktitle">DolphinDB 文档中心</span>  </span></a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="搜索 " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="搜索查询" required="required"/><button type="submit" class="wh_search_button" aria-label="搜索"><span class="search_input_text">搜索</span></button></div></form>
            
            <script src="/vendors/react/umd/react.production.min.js" defer="defer"></script>
<script src="/vendors/react-dom/umd/react-dom.production.min.js" defer="defer"></script>
<script src="/vendors/dayjs/dayjs.min.js" defer="defer"></script>
<script src="/vendors/antd/dist/antd.min.js" defer="defer"></script>
<script src="/vendors/@ant-design/icons/dist/index.umd.min.js" defer="defer"></script>
<script src="/zh/index.js" type="module"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" defer="defer"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer="defer"><!--


--></script>
<script defer="defer"><!--

// 从主页重定向
const currentUrl = window.location.href;

// 判断当前URL是否包含index.html并且路径最后部分是index.html
if (currentUrl.endsWith('index.html')) {
    // 处理根目录下的index.html跳转
    const baseUrl = currentUrl.split('/index.html')[0]; // 获取index.html之前的部分
    const redirectUrl = `${baseUrl}/about/ddb_intro.html`; // 构建跳转路径
    window.location.href = redirectUrl; // 执行跳转
}

--></script>
            
        </div></div>
    </div>
</header>
        
        
         
        
        
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="../index.html"><span>主页</span></a></span></li><li><div class="topicref" data-id="about_tutorials"><div class="title"><a href="../tutorials/about_tutorials.html"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div></li><li><div class="topicref"><div class="title"><a href="../tutorials/database.html">数据库</a></div></div></li><li class="active"><div class="topicref" data-id="debeziumkafka-实时同步-oracle-11g-数据到-dolphindb"><div class="title"><a href="../tutorials/Debezium_Kafka_Oracle_sync.html">Debezium+Kafka 实时同步 Oracle 11g 数据到 DolphinDB</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="切换搜索突出显示" title="切换搜索突出显示"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="折叠截面" title="折叠截面"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="打印此页" aria-label="打印此页"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem"><div data-tocid="ddb_intro-d9713e87" class="topicref" data-id="ddb_intro" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../about/ddb_intro.html" id="ddb_intro-d9713e87-link">关于DolphinDB</a></div></div></li><li role="treeitem"><div data-tocid="chap1_getstarted-d9713e136" class="topicref" data-id="chap1_getstarted" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../getstarted/chap1_getstarted.html" id="chap1_getstarted-d9713e136-link">快速上手</a><div class="wh-tooltip"><p class="shortdesc">如何快速部署 DolphinDB、建库建表、写入和查询数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="sectionddb_deployment-d9713e189" class="topicref" data-id="sectionddb_deployment" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action sectionddb_deployment-d9713e189-link" class="wh-expand-btn"></span><div class="title"><a href="../deploy/deploy_intro.html" id="sectionddb_deployment-d9713e189-link"><span class="keyword label">部署</span></a><div class="wh-tooltip"><p class="shortdesc">如何在不同的场景中部署 DolphinDB</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259" class="topicref" data-id="new_chap_database_manage_new_chap_dbmanage_landing_page" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link" class="wh-expand-btn"></span><div class="title"><a href="../db_distr_comp/cfg/db_intro.html" id="new_chap_database_manage_new_chap_dbmanage_landing_page-d9713e2259-link"><span class="keyword label">数据库</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 数据库的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_streaming-d9713e3760" class="topicref" data-id="chap7_tutorials_streaming" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_streaming-d9713e3760-link" class="wh-expand-btn"></span><div class="title"><a href="../stream/str_intro.html" id="chap7_tutorials_streaming-d9713e3760-link"><span class="keyword label">流数据</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 流数据引擎及流数据计算的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e7513" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e7513-link" class="wh-expand-btn"></span><div class="title"><a href="../db_distr_comp/db_oper/import_data.html" id="tocId-d9713e7513-link">数据迁移</a><div class="wh-tooltip"><p class="shortdesc">如何从不同数据源向 DolphinDB 迁移数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_system_management-d9713e7940" class="topicref" data-id="chap7_tutorials_system_management" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_system_management-d9713e7940-link" class="wh-expand-btn"></span><div class="title"><a href="../sys_man/om_intro.html" id="chap7_tutorials_system_management-d9713e7940-link"><span class="keyword label">系统运维</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 的系统运维功能及方法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="troubleshooting-d9713e8780" class="topicref" data-id="troubleshooting" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action troubleshooting-d9713e8780-link" class="wh-expand-btn"></span><div class="title"><a href="../error_codes/troubleshooting.html" id="troubleshooting-d9713e8780-link">故障排查</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="about_language_resources-d9713e20911" class="topicref" data-id="about_language_resources" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_language_resources-d9713e20911-link" class="wh-expand-btn"></span><div class="title"><a href="../progr/progr_intro.html" id="about_language_resources-d9713e20911-link"><span class="keyword label">编程语言</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 编程基本概念与方法、SQL 在 DolphinDB 的应用</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="functions_references-d9713e30925" class="topicref" data-id="functions_references" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action functions_references-d9713e30925-link" class="wh-expand-btn"></span><div class="title"><a href="../funcs/funcs_intro.html" id="functions_references-d9713e30925-link"><span class="keyword label">函数参考</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 函数分类、语法、详解及示例</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="api_protocol-d9713e94064" class="topicref" data-id="api_protocol" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action api_protocol-d9713e94064-link" class="wh-expand-btn"></span><div class="title"><a href="../api/connapi_intro.html" id="api_protocol-d9713e94064-link"><span class="keyword label">连接器 &amp; API</span></a><div class="wh-tooltip"><p class="shortdesc">面向不同编程语言的 DolphinDB API 及连接器，相关协议和用法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap6_plugin-d9713e94210" class="topicref" data-id="chap6_plugin" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap6_plugin-d9713e94210-link" class="wh-expand-btn"></span><div class="title"><a href="../plugins/plg_intro.html" id="chap6_plugin-d9713e94210-link"><span class="keyword label">插件</span></a><div class="wh-tooltip"><p class="shortdesc">多个应用场景的插件使用说明和插件开发指导</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="third_party-d9713e97904" class="topicref" data-id="third_party" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action third_party-d9713e97904-link" class="wh-expand-btn"></span><div class="title"><a href="../third_party.html" id="third_party-d9713e97904-link">第三方工具</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="about_tutorials-d9713e98227" class="topicref" data-id="about_tutorials" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action about_tutorials-d9713e98227-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/about_tutorials.html" id="about_tutorials-d9713e98227-link"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e98280" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e98280-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/new_users_finance.html" id="tocId-d9713e98280-link">新用户入门</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="tocId-d9713e98327" class="topicref" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action tocId-d9713e98327-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/database.html" id="tocId-d9713e98327-link">数据库</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="分区数据库设计和操作-d9713e98328" class="topicref" data-id="分区数据库设计和操作" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/database.html" id="分区数据库设计和操作-d9713e98328-link">分区数据库设计和操作</a></div></div></li><li role="treeitem"><div data-tocid="dolphindb-内存表详解-d9713e98374" class="topicref" data-id="dolphindb-内存表详解" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/in_memory_table.html" id="dolphindb-内存表详解-d9713e98374-link">DolphinDB 内存表详解</a></div></div></li><li role="treeitem"><div data-tocid="内存数据表-d9713e98420" class="topicref" data-id="内存数据表" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/partitioned_in_memory_table.html" id="内存数据表-d9713e98420-link">内存数据表</a></div></div></li><li role="treeitem"><div data-tocid="oltp-内存存储引擎非嵌入式版使用教程-d9713e98466" class="topicref" data-id="oltp-内存存储引擎非嵌入式版使用教程" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/oltp_in-memory_storage_engine_non-embedded_version_tutorials.html" id="oltp-内存存储引擎非嵌入式版使用教程-d9713e98466-link">OLTP 内存存储引擎（非嵌入式版）使用教程</a></div></div></li><li role="treeitem"><div data-tocid="利用缓存表快速实现-mysql-库间信息同步-d9713e98512" class="topicref" data-id="利用缓存表快速实现-mysql-库间信息同步" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/cachedtable.html" id="利用缓存表快速实现-mysql-库间信息同步-d9713e98512-link">利用缓存表快速实现 MySQL 库间信息同步</a></div></div></li><li role="treeitem"><div data-tocid="建库建表最容易忽略的十个细节-d9713e98558" class="topicref" data-id="建库建表最容易忽略的十个细节" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/database_and_table_creation_details.html" id="建库建表最容易忽略的十个细节-d9713e98558-link">建库建表最容易忽略的十个细节</a></div></div></li><li role="treeitem"><div data-tocid="redo-log-和-cache-engine-d9713e98604" class="topicref" data-id="redo-log-和-cache-engine" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/redoLog_cacheEngine.html" id="redo-log-和-cache-engine-d9713e98604-link">redo log 和 cache engine</a></div></div></li><li role="treeitem"><div data-tocid="tsdb-存储引擎简介-d9713e98650" class="topicref" data-id="tsdb-存储引擎简介" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/tsdb_engine.html" id="tsdb-存储引擎简介-d9713e98650-link">TSDB 存储引擎简介</a></div></div></li><li role="treeitem"><div data-tocid="tsdb-存储引擎详解-d9713e98696" class="topicref" data-id="tsdb-存储引擎详解" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/tsdb_explained.html" id="tsdb-存储引擎详解-d9713e98696-link">TSDB 存储引擎详解</a></div></div></li><li role="treeitem"><div data-tocid="分布式表数据更新原理和性能-d9713e98742" class="topicref" data-id="分布式表数据更新原理和性能" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/dolphindb_update.html" id="分布式表数据更新原理和性能-d9713e98742-link">分布式表数据更新原理和性能</a></div></div></li><li role="treeitem"><div data-tocid="软删除-d9713e98788" class="topicref" data-id="软删除" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/soft_delete.html" id="软删除-d9713e98788-link">软删除</a></div></div></li><li role="treeitem"><div data-tocid="基于-datax-的-dolphindb-数据导入工具-d9713e98835" class="topicref" data-id="基于-datax-的-dolphindb-数据导入工具" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/datax_writer.html" id="基于-datax-的-dolphindb-数据导入工具-d9713e98835-link">基于 DataX 的 DolphinDB 数据导入工具</a></div></div></li><li role="treeitem"><div data-tocid="debezium--kafka-实时同步-mysql-数据到-dolphindb-d9713e98881" class="topicref" data-id="debezium--kafka-实时同步-mysql-数据到-dolphindb" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/Debezium_and_Kafka_data_sync.html" id="debezium--kafka-实时同步-mysql-数据到-dolphindb-d9713e98881-link">Debezium + Kafka 实时同步 MySQL 数据到 DolphinDB</a></div></div></li><li role="treeitem" class="active"><div data-tocid="debeziumkafka-实时同步-oracle-11g-数据到-dolphindb-d9713e98927" class="topicref" data-id="debeziumkafka-实时同步-oracle-11g-数据到-dolphindb" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/Debezium_Kafka_Oracle_sync.html" id="debeziumkafka-实时同步-oracle-11g-数据到-dolphindb-d9713e98927-link">Debezium+Kafka 实时同步 Oracle 11g 数据到 DolphinDB</a></div></div></li><li role="treeitem"><div data-tocid="clear_cache-d9713e98973" class="topicref" data-id="clear_cache" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/clear_cache.html" id="clear_cache-d9713e98973-link">数据库缓存清理机制 </a></div></div></li><li role="treeitem"><div data-tocid="best_practice_for_storage_compute_separation-d9713e99019" class="topicref" data-id="best_practice_for_storage_compute_separation" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/best_practice_for_storage_compute_separation.html" id="best_practice_for_storage_compute_separation-d9713e99019-link">存算分离最佳实践教程</a></div></div></li><li role="treeitem"><div data-tocid="database_and_table_creation_wizard-d9713e99065" class="topicref" data-id="database_and_table_creation_wizard" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/database_and_table_creation_wizard.html" id="database_and_table_creation_wizard-d9713e99065-link">DolphinDB Web 界面库表创建指南</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e99111" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e99111-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/std_sql_ddb.html" id="tocId-d9713e99111-link">编程</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e100448" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e100448-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming-real-time-correlation-processing_2.html" id="tocId-d9713e100448-link">流数据</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e100955" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e100955-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/scheduledJob_2.html" id="tocId-d9713e100955-link">系统运维</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="模块概述-d9713e101923" class="topicref" data-id="模块概述" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action 模块概述-d9713e101923-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/tu_modules.html" id="模块概述-d9713e101923-link">模块</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e102568" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e102568-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/OHLC_2.html" id="tocId-d9713e102568-link">金融场景案例</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e104827" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e104827-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/streaming_engine_anomaly_alerts_2.html" id="tocId-d9713e104827-link">物联网场景案例</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105795" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105795-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/dolphindb_tensor_libtorch_tutorial.html" id="tocId-d9713e105795-link">机器学习</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105842" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105842-link" class="wh-expand-btn"></span><div class="title"><a href="../tutorials/api_performance.html" id="tocId-d9713e105842-link">测试报告</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9713e105982" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9713e105982-link" class="wh-expand-btn"></span><div class="title"><a href="../rn/server/3_00_2.html" id="tocId-d9713e105982-link">版本说明</a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 版本发布历史</p></div></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        <button id="wh_close_topic_toc_button" class="close-toc-button d-none" aria-label="Toggle topic table of content" aria-controls="wh_topic_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        <div class=" wh_topic_content body "><main role="main"><article class="- topic/topic topic" role="article" aria-labelledby="ariaid-title1"><h1 class="- topic/title title topictitle1" id="ariaid-title1">Debezium+Kafka 实时同步 Oracle 11g 数据到 DolphinDB</h1><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">教程难度</strong></p><ul class="- topic/ul ul"><li class="- topic/li li">高级</li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">面向读者</strong></p><ul class="- topic/ul ul"><li class="- topic/li li">已经掌握 DolphinDB 的基本部署：<ul class="- topic/ul ul"><li class="- topic/li li"><a class="- topic/xref xref" href="standalone_server.html">单节点部署</a></li></ul></li><li class="- topic/li li">已经掌握 DolphinDB 的 JDBC 连接器使用方法<ul class="- topic/ul ul"><li class="- topic/li li"><a class="- topic/xref xref" href="https://docs.dolphindb.cn/zh/jdbcdoc/jdbc.html" target="_blank" rel="external noopener">JDBC 连接器</a></li></ul></li><li class="- topic/li li">掌握 Java 基础使用方法</li><li class="- topic/li li">掌握 Kafka 的基础使用方法</li><li class="- topic/li li">本教程提供了完整的部署过程和部署脚本，初学者也可以跟随教程内容复现同步程序部署</li></ul></div><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title2" id="前言"><h2 class="- topic/title title topictitle2" id="ariaid-title2">前言</h2><div class="- topic/body body"><p class="- topic/p p">随着越来越多的用户使用 DolphinDB，各种不同的应用的场景也对 DolphinDB 的数据接入提出了不同的要求。部分用户需要将 Oracle 11g 的数据实时同步到 DolphinDB 中来，以满足在 DolphinDB 中使用数据的实时性需求。本篇教程将介绍使用 Debezium 来实时捕获和发布 Oracle 11g 的数据库更改事件，并完成 Oracle 到 DolphinDB 的实时数据同步的完整的解决方案。</p></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title3" id="1-debezium-同步方案概述"><h2 class="- topic/title title topictitle2" id="ariaid-title3">1. Debezium 同步方案概述</h2><div class="- topic/body body"><p class="- topic/p p">Debezium 是一个开源的分布式平台，用于实时捕获和发布数据库更改事件。它可以将关系型数据库（如MySQL、PostgreSQL、Oracle 等）的变更事件转化为可观察的流数据，以供其他应用程序实时消费和处理。本文中将采用 Debezium 与 Kafka 组合的方式来实现从 Oracle11g 到 DolphinDB 的数据同步。</p><p class="- topic/p p">Kafka +Debezium 的数据同步方案需要部署 4 个服务，如下所示：</p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">ZooKeeper</strong>：kafka 的依赖部署。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">Kafka</strong>：数据存储。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">Kafka-Connect</strong>：用于接入数据插件 source-connetor, sink-connector 的框架，可以提供高可用，也可以部署单实例版本。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">Schema-Registry</strong> ：提供实时同步的数据的元数据注册功能 ，支持数据序列化。</li></ul><p class="- topic/p p">基于 Debezium 的数据架构图如下：</p><br/><img class="- topic/image image" src="images/DKOD/1.png" alt="1"/><br/><p class="- topic/p p">Debezium+Kafka 实时同步 Oracle 11g 数据到 DolphinDB 架构图</p><p class="- topic/p p">接下来，本文将逐一介绍这些服务的下载、安装，以及配置数据同步任务。</p></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title4" id="2-部署-kafka-单实例实时数据存储"><h2 class="- topic/title title topictitle2" id="ariaid-title4">2. 部署 Kafka 单实例实时数据存储</h2><div class="- topic/body body"><p class="- topic/p p">为方便用户快速复现教程内容，本文将采用 Kafka 单实例服务部署方案以介绍数据同步功能。部署环境我们采用 Linux 环境。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title5" id="21-部署准备"><h3 class="- topic/title title topictitle3" id="ariaid-title5">2.1 部署准备</h3><div class="- topic/body body"><p class="- topic/p p">首先下载程序包，Zookeeper（开源）, Kafka （开源）, Confluent （社区版）建议到到官网下载最新稳定版本。</p><p class="- topic/p p">并将下面 4 个软件包放到 <em class="+ topic/ph hi-d/i ph i">/opt</em> 目录下。（软件、配置、数据路径文件较多。<strong class="+ topic/ph hi-d/b ph b">注意：初次试用请尽量保持路径一致</strong>。）</p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">jdk-17.0.7_linux-x64_bin.tar.gz</strong></li></ul><p class="- topic/p p"><a class="- topic/xref xref" href="https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz" target="_blank" rel="external noopener">https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz</a></p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">apache-zookeeper-3.7.1-bin.tar.gz</strong></li></ul><p class="- topic/p p"><a class="- topic/xref xref" href="https://zookeeper.apache.org/releases.html" target="_blank" rel="external noopener">Apache ZooKeeper</a></p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">kafka_2.13-3.4.1.tgz (下载scala 2.13版本)</strong></li></ul><p class="- topic/p p"><a class="- topic/xref xref" href="https://kafka.apache.org/downloads" target="_blank" rel="external noopener">Apache Kafka</a></p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">confluent-community-7.4.0.tar.gz</strong></li></ul><p class="- topic/p p"><a class="- topic/xref xref" href="https://www.confluent.io/installation/" target="_blank" rel="external noopener">https://www.confluent.io/installation/</a></p><p class="- topic/p p">Confluent 是 Kafka 相关的商业公司。下载 Confluent 时选择 self-managed，然后录入信息，再点击 start free 后方能下载。注意，下载 community 版本即可满足需要，本教程只需要其中的 schema-registry 包。如需使用更多功能，也可下载正式版。正式版包括了 Zookeeper 、Kafka 以及管理、监控 Kafka 的更多功能。</p><br/><img class="- topic/image image" src="images/DKOD/2.png" alt="2"/><br/><p class="- topic/p p">下载完以上 4 个程序包后，即可开始部署。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title6" id="22-部署-zookeeper"><h3 class="- topic/title title topictitle3" id="ariaid-title6">2.2 部署 Zookeeper</h3><div class="- topic/body body"></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title7" id="221-基础准备"><h4 class="- topic/title title topictitle4" id="ariaid-title7">2.2.1 基础准备</h4><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步：创建部署用户</strong></p><p class="- topic/p p">创建用户 kafka，授予 sudo 免密权限（需自行设置）。然后切换到 kafka 用户来进行操作（以下均为 kafka 用户操作）。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>useradd kafka
su kafka</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步：安装部署 Java 环境</strong></p><p class="- topic/p p">由于整套架构涉及的程序都是基于 java 虚拟机运行的。所以必须安装 java 运行环境。</p><p class="- topic/p p">安装 Java 到路径 <em class="+ topic/ph hi-d/i ph i">/opt/java17</em>。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /opt
sudo mkdir -p /usr/local/java
sudo tar -xvf jdk-17.0.7_linux-x64_bin.tar.gz
sudo mv jdk-17.0.7 /usr/local/java/java17</code></pre><p class="- topic/p p">设置 Java 环境变量 (kafka 用户下执行)。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>vim ~/.bashrc
# 输入下面代码
JAVA_HOME=/usr/local/java/java17
PATH=$JAVA_HOME/bin:$PATH
export JAVA_HOME PATH

source ~/.bashrc
java --version</code></pre><br/><img class="- topic/image image" src="images/DKOD/3.png" alt="3"/><br/></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title8" id="222-安装-zookeeper"><h4 class="- topic/title title topictitle4" id="ariaid-title8">2.2.2 安装 Zookeeper</h4><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步：解压并安装 Zookeeper</strong></p><p class="- topic/p p">由于 3.7.1 版本 Zookeeper 的用户、组具有默认值，故此处根据实际情况进行调整。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /opt
sudo tar -xvf apache-zookeeper-3.7.1-bin.tar.gz
sudo mv apache-zookeeper-3.7.1-bin zookeeper
sudo chown -R root:root zookeeper
sudo chmod -R 755 zookeeper</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步： 准备 Zookeeper 的配置文件和存储文件</strong></p><p class="- topic/p p">创建 Zookeeper 的配置文件、数据文件、日志文件的存储路径。建议保持路径一致。相关的程序配置文件包请参见附录</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo mkdir -p /KFDATA/zookeeper/etc
sudo mkdir -p /KFDATA/zookeeper/data
sudo mkdir -p /KFDATA/zookeeper/datalog
sudo mkdir -p /KFDATA/zookeeper/logs
sudo chown -R kafka:kafka /KFDATA
chmod -R 700 /KFDATA/zookeeper</code></pre><p class="- topic/p p">准备 Zookeeper 的配置文件 <em class="+ topic/ph hi-d/i ph i">zoo.cfg</em>。先从 zookeeper 安装路径下复制 *log4j.properties *过来，然后进行修改。</p><p class="- topic/p p">说明：Zookeeper 的不同版本 <em class="+ topic/ph hi-d/i ph i">log4j.properties</em> 配置内容会略有区别。如有不同，请按 log4j 的规则调整。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/zookeeper/etc
touch zoo.cfg
echo tickTime=2000 &gt; zoo.cfg
echo initLimit=10 &gt;&gt;zoo.cfg
echo syncLimit=5 &gt;&gt;zoo.cfg
echo  dataDir=/KFDATA/zookeeper/data &gt;&gt;zoo.cfg
echo  dataLogDir=/KFDATA/zookeeper/datalog &gt;&gt;zoo.cfg
echo  clientPort=2181 &gt;&gt;zoo.cfg
sudo cp /opt/zookeeper/conf/log4j.properties ./
sudo chown kafka:kafka ./log4j.properties</code></pre><p class="- topic/p p">修改 <em class="+ topic/ph hi-d/i ph i">log4j.properties</em> 中的 <em class="+ topic/ph hi-d/i ph i">zookeeper.log.dir</em> 参数 ：</p><br/><img class="- topic/image image" src="images/DKOD/4.png" alt="4"/><br/><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第三步：创建 Zookeeper 的启动文件</strong></p><p class="- topic/p p">创建一个 <em class="+ topic/ph hi-d/i ph i">zk.env</em>，配置 Zookeeper 启动所需环境变量，用于启动 service 文件调用。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/zookeeper/etc/
touch zk.env
echo JAVA_HOME=/usr/local/java/java17 &gt; zk.env
echo PATH="/usr/local/java/java17/bin:/opt/zookeeper/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin" &gt;&gt; zk.env
echo ZOO_LOG_DIR=/KFDATA/zookeeper/logs &gt;&gt; zk.env
echo ZOO_LOG4J_OPTS=\"-Dlog4j.configuration=file:/KFDATA/zookeeper/etc/log4j.properties\" &gt;&gt; zk.env</code></pre><p class="- topic/p p">如果对 Zookeeper 很熟练可以自行调用 Zookeeper 安装目录下的 bin 文件夹下的操作脚本来进行操作或测试。</p><p class="- topic/p p">使用 <code class="+ topic/ph pr-d/codeph ph codeph">vim</code> 命令编辑一个 service 文件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo vim /usr/lib/systemd/system/zookeeper.service</code></pre><p class="- topic/p p">录入以下启动命令信息并保存。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>[Unit]
Description=Apache Kafka - ZooKeeper
After=network.target

[Service]
Type=forking
User=kafka
Group=kafka
EnvironmentFile=/KFDATA/zookeeper/etc/zk.env
ExecStart=/opt/zookeeper/bin/zkServer.sh start /KFDATA/zookeeper/etc/zoo.cfg
ExecStop=/opt/zookeeper/bin/zkServer.sh stop /KFDATA/zookeeper/etc/zoo.cfg
TimeoutStopSec=180
Restart=no


[Install]
WantedBy=multi-user.target
</code></pre><p class="- topic/p p">重新加载 service 启动服务。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo systemctl daemon-reload</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第四步：创建测试脚本</strong></p><p class="- topic/p p">（1）创建连接 Zookeeper 测试文件 <em class="+ topic/ph hi-d/i ph i">zkCon.sh</em>。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>mkdir -p /KFDATA/bin
cd /KFDATA/bin
touch zkCon.sh
echo export JAVA_HOME=/usr/local/java/java17 &gt;zkCon.sh
echo export PATH="{$JAVE_HOME}/bin:/opt/zookeeper/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin" &gt;&gt;zkCon.sh
echo export ZOO_LOG_DIR=/KFDATA/zookeeper/logs &gt;&gt;zkCon.sh
echo export ZOO_LOG4J_OPTS=\"-Dlog4j.configuration=file:/KFDATA/zookeeper/etc/log4j.properties\" &gt;&gt;zkCon.sh
echo  '/opt/zookeeper/bin/zkCli.sh -server localhost:2181 -Dzookeeper.config.path=/KFDATA/zookeeper/zoo.cfg' &gt;&gt;zkCon.sh</code></pre><p class="- topic/p p">对脚本授予执行权限。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>chmod +x  zkCon.sh </code></pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title9" id="223-部署启动-zookeeper"><h4 class="- topic/title title topictitle4" id="ariaid-title9">2.2.3 部署启动 Zookeeper</h4><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步：通过 systemctl 工具启动 Zookeeper 服务</strong></p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo systemctl start zookeeper.service</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步：查看 Zookeeper 启动情况</strong></p><p class="- topic/p p">可以通过 <code class="+ topic/ph pr-d/codeph ph codeph">jps</code> 命令查看 Java 进程， QuorumPeerMain 进程是 Zookeeper 的启动进程。</p><br/><img class="- topic/image image" src="images/DKOD/5.png" alt="5"/><br/><p class="- topic/p p">也可以通过 <code class="+ topic/ph pr-d/codeph ph codeph">systemctl</code> 命令查看，如图即是正常启动。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code> sudo systemctl status zookeeper</code></pre><br/><img class="- topic/image image" src="images/DKOD/6.png" alt="6"/><br/><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第三步：通过客户端连接 Zookeeper ，并进行查看</strong></p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/bin/
./zkCon.sh
# 等待zookeeper 命令行窗口
ls /
ls /zookeeper </code></pre><p class="- topic/p p">如果返回如下显示，表示 Zookeeper 启动成功，可以在 Zookeeper 中观察到自身的基础信息。</p><br/><img class="- topic/image image" src="images/DKOD/7.png" alt="7"/><br/><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">ctrl +c</em> 可以退出 Zookeeper 客户端连接。</p></div></article></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title10" id="23-部署-kafka"><h3 class="- topic/title title topictitle3" id="ariaid-title10">2.3 部署 Kafka</h3><div class="- topic/body body"></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title11" id="231-安装-kafka"><h4 class="- topic/title title topictitle4" id="ariaid-title11">2.3.1 安装 Kafka</h4><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步：解压安装 Kafka 文件</strong></p><p class="- topic/p p">执行以下命令，修改一下 Kafka 的安装文件名。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /opt
sudo tar -xvf kafka_2.13-3.4.1.tgz
sudo mv kafka_2.13-3.4.1 kafka</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步：准备 Kafka 的配置文件和存储文件</strong></p><p class="- topic/p p">创建 Kafka 的配置文件、数据文件、日志文件的存储路径。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>mkdir -p /KFDATA/kafka/etc
mkdir -p /KFDATA/kafka/data
mkdir -p /KFDATA/kafka/logs</code></pre><p class="- topic/p p">准备 Kafka 相关配置文件，创建启动配置文件，和日志配置文件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/kafka/etc
touch kafka-server.properties
cp /opt/kafka/config/log4j.properties ./
cp /opt/kafka/config/tools-log4j.properties ./</code></pre><p class="- topic/p p">修改 kafka-server.properties 文件中的配置，修改内容如下。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>############################# Server Basics #############################
broker.id=1
############################# Socket Server Settings #############################
listeners=PLAINTEXT://0.0.0.0:9092
advertised.listeners=PLAINTEXT://192.168.189.130:9092
num.network.threads=3
num.io.threads=8
socket.send.buffer.bytes=102400
socket.receive.buffer.bytes=102400
socket.request.max.bytes=104857600
############################# Log Basics #############################
log.dirs=/KFDATA/kafka/data
num.partitions=1
num.recovery.threads.per.data.dir=1
############################# Internal Topic Settings  #############################
offsets.topic.replication.factor=1
transaction.state.log.replication.factor=1
transaction.state.log.min.isr=1
############################# Log Retention Policy #############################
log.retention.hours=-1
log.retention.bytes=21474836480 
log.segment.bytes=1073741824
log.retention.check.interval.ms=300000
auto.create.topics.enable=true
############################# Zookeeper #############################
zookeeper.connect=192.168.189.130:2181
# Timeout in ms for connecting to zookeeper
zookeeper.connection.timeout.ms=12000
############################# Group Coordinator Settings #############################
group.initial.rebalance.delay.ms=0
############################# message Settings #############################
message.max.byte=5242880</code></pre><p class="- topic/p p">其中以下两项需要视具体环境修改，<em class="+ topic/ph hi-d/i ph i">advertise.listeners</em> 是对外监听端口。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>advertised.listeners=PLAINTEXT://192.168.189.130:9092
zookeeper.connect=192.168.189.130:2181</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第三步：准备 Kafka 的启动文件</strong></p><p class="- topic/p p">创建 Kafka 启动的环境变量文件, 这里配置了开启 JMX 监控端口，如果不需要，可以忽略后两项配置。</p><p class="- topic/p p">JMX 端口的作用是可以通过此端口连接，获取一些监控指标。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/kafka/etc
touch kf-server.env

echo PATH="/usr/local/java/java17/bin:/opt/zookeeper/bin:/opt/kafka:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin" &gt;&gt;kf-server.env
echo LOG_DIR="/KFDATA/kafka/logs/" &gt;&gt;kf-server.env
echo KAFKA_LOG4J_OPTS=\"-Dlog4j.configuration=file:/KFDATA/kafka/etc/log4j.properties\" &gt;&gt;kf-server.env
echo KAFKA_JMX_OPTS=\"-Dcom.sun.management.jmxremote=true -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=192.168.189.130 -Djava.net.preferIPv4Stack=true\" &gt;&gt;kf-server.env
echo JMX_PORT=29999 &gt;&gt;kf-server.env</code></pre><p class="- topic/p p">创建 Kafka 的 systemd service 文件，通过 <code class="+ topic/ph pr-d/codeph ph codeph">vim</code> 命令打开一个文件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo vim /usr/lib/systemd/system/kafka-server.service</code></pre><p class="- topic/p p">录入以下内容并保存。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>[Unit]
Description=Apache Kafka - broker
After=network.target confluent-zookeeper.target

[Service]
Type=forking
User=kafka
Group=kafka
EnvironmentFile=/KFDATA/kafka/etc/kf-server.env
ExecStart=/opt/kafka/bin/kafka-server-start.sh -daemon /KFDATA/kafka/etc/kafka-server.properties
ExecStop=/KFDATA/kafka/bin/kafka-server-stop.sh
LimitNOFILE=1000000
TimeoutStopSec=180
Restart=no

[Install]
WantedBy=multi-user.target</code></pre><p class="- topic/p p">重新加载 service 启动 服务。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo systemctl daemon-reload</code></pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title12" id="232-部署启动-kafka"><h4 class="- topic/title title topictitle4" id="ariaid-title12">2.3.2 部署启动 Kafka</h4><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步： 通过 systemctl 工具启动 Kafka 服务</strong></p><p class="- topic/p p">执行下述命令启动 Kafka 服务：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo systemctl start kafka-server.service</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步： 查看 Kafka 启动情况</strong></p><p class="- topic/p p">检查 Kafka 启动情况，可以连接 Zookeeper 客户端 。查看 zookeeper 中的数据。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/bin
./zkCon.sh
ls /</code></pre><p class="- topic/p p">可以看到 Zookeeper 中已经多了一些 kafka 注册信息，如 brokers ,cluseter, config, controller 等。</p><br/><img class="- topic/image image" src="images/DKOD/8.png" alt="8"/><br/><p class="- topic/p p">此时，可以测试创建一个 topic 进行测试：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd  /opt/kafka/bin
./kafka-topics.sh --bootstrap-server 192.168.189.130:9092 --create --topic test110</code></pre><br/><img class="- topic/image image" src="images/DKOD/9.png" alt="9"/><br/><p class="- topic/p p">执行下述代码，查看当前 Kafka 中 topic 列表：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./kafka-topics.sh --bootstrap-server 192.168.189.130:9092 --list</code></pre><br/><img class="- topic/image image" src="images/DKOD/10.png" alt="10"/><br/><p class="- topic/p p">如果返回上述图片显示内容，说明 Kafka 已经启动成功。</p></div></article></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title13" id="24-部署-schema-registry"><h3 class="- topic/title title topictitle3" id="ariaid-title13">2.4 部署 Schema-Registry</h3><div class="- topic/body body"><p class="- topic/p p">Schema-Registry 是用于注册传输数据的数据结构的。并记录数据结构改变的每一个版本。数据写入 Kafka 和从 Kafka 中读出都需要 schema-registry 中记录的数据结构来进行序列化和反序列化。通过使用 schema-registry 来注册数据结构。Kafka 中只需保存序列化后的数据即可。可以减少数据的空间占用。</p></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title14" id="241-安装-schema-registry"><h4 class="- topic/title title topictitle4" id="ariaid-title14">2.4.1 安装 Schema-Registry</h4><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步：解压安装 Schema-Registry 文件</strong></p><p class="- topic/p p">Schema-Registry 程序是 confluent 程序包中一部分。故这里我们要安装 conluent 程序包 , 部署社区版本即可。解压缩 confluent-community-7.4.0.tar.gz，并修改文件名，设置隶属组。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /opt
sudo tar -xvf confluent-community-7.4.0.tar.gz
sudo mv confluent-7.4.0 confluent
sudo chown -R root:root confluent
sudo chmod -R 755 confluent</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步：准备 Schema-Registry 的配置文件和存储文件</strong></p><p class="- topic/p p">创建 schema-registry 的配置、日志文件存储路径。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>mkdir -p /KFDATA/schema-registry/etc
mkdir -p /KFDATA/schema-registry/logs</code></pre><p class="- topic/p p">准备 schema-registry 的配置文件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/schema-registry/etc
cp /opt/confluent/etc/schema-registry/schema-registry.properties ./
cp /opt/confluent/etc/schema-registry/log4j.properties ./</code></pre><p class="- topic/p p">修改 <code class="+ topic/ph pr-d/codeph ph codeph">schema-registry.properties</code> 文件 , 修改连接的 Kafka Server 地址。</p><br/><img class="- topic/image image" src="images/DKOD/11.png" alt="11"/><br/><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第三步：准备 Schema-Registry的启动文件</strong></p><p class="- topic/p p">创建 Schema-Registry 启动环境变量文件，用于 Schema-Registry 启动时使用。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>touch schema-registry.env
echo PATH="/usr/local/java/java17/bin:/opt/confluent/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin" &gt;schema-registry.env
echo LOG_DIR="/KFDATA/schema-registry/logs" &gt;&gt;schema-registry.env
echo LOG4J_DIR="/KFDATA/schema-registry/etc/log4j.properties" &gt;&gt;schema-registry.env
echo SCHEMA_REGISTRY_LOG4J_OPTS=\"-Dlog4j.configuration=file:/KFDATA/schema-registry/etc/log4j.properties\" &gt;&gt;schema-registry.env</code></pre><p class="- topic/p p">创建 Schema-Registry 的 systemd service 启动文件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo vim /usr/lib/systemd/system/schema-registry.service</code></pre><p class="- topic/p p">录入以下内容并保存。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>[Unit]
Description=RESTful Avro schema registry for Apache Kafka
After=network.target

[Service]
Type=forking
User=kafka
Group=kafka
EnvironmentFile=/KFDATA/schema-registry/etc/schema-registry.env
ExecStart=/opt/confluent/bin/schema-registry-start -daemon /KFDATA/schema-registry/etc/schema-registry.properties
TimeoutStopSec=180
Restart=no

[Install]
WantedBy=multi-user.target</code></pre><p class="- topic/p p">重新加载 service 启动服务。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo systemctl daemon-reload</code></pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title15" id="242-部署启动-schema-registry"><h4 class="- topic/title title topictitle4" id="ariaid-title15">2.4.2 部署启动 Schema-Registry</h4><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步： 通过 systemctl 工具启动 Schema-Registry服务</strong></p><p class="- topic/p p">执行以下命令。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo systemctl start schema-registry</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步：查看 Schema-Registry 启动情况</strong></p><p class="- topic/p p">通过 systemctl 工具查看启动状态。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo systemctl status schema-registry</code></pre><br/><img class="- topic/image image" src="images/DKOD/12.png" alt="12"/><br/><p class="- topic/p p">查看 Kafka 中的 topic。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /opt/kafka/bin
./kafka-topics.sh --bootstrap-server 192.168.189.130:9092 --list</code></pre><p class="- topic/p p">可以看到 kafka 中已经创建出了 schema-registry 需要使用的 topic。</p><br/><img class="- topic/image image" src="images/DKOD/13.png" alt="13"/><br/><p class="- topic/p p">schema-registry 启动成功。</p></div></article></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title16" id="25-部署-kafka-connect"><h3 class="- topic/title title topictitle3" id="ariaid-title16">2.5 部署 Kafka-Connect</h3><div class="- topic/body body"><p class="- topic/p p">Kafka-Connect 是 Kafka 提供的 HA 框架，实现了 Kafka-Connect 接口的 connector (连接器) ，只需处理自己需要进行读取、写入数据任务。高可用部分由 Kafka-Connect 框架负责。</p><p class="- topic/p p">Kafka-Connect 可用通过 REST API 进行访问。</p></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title17" id="251-安装-kafka-connect"><h4 class="- topic/title title topictitle4" id="ariaid-title17">2.5.1 安装 Kafka-Connect</h4><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步： Kafka-Connect 安装</strong></p><p class="- topic/p p">Kafka-Connect 由 Kafka 提供，启动程序在 Kafka 的安装路径下，已经存在。数据元数据注册由 schema-registry 处理。相应的序列化包在已安装 Confluent 路径下。故无需再安装程序包。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步：准备 Kafka-Connect 的配置文件和存储文件</strong></p><p class="- topic/p p">创建 Kafka-Connect 的配置、日志文件存储路径。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>mkdir -p /KFDATA/kafka-connect/etc
mkdir -p /KFDATA/kafka-connect/logs</code></pre><p class="- topic/p p">创建 Kafka-Connect 的配置文件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/kafka-connect/etc
vim kafka-connect.properties</code></pre><p class="- topic/p p">录入以下内容并保存。 IP 地址部分，需要根据前环境修改。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>bootstrap.servers=192.168.189.130:9092
group.id=connect-cluster

key.converter=io.confluent.connect.avro.AvroConverter
key.converter.schema.registry.url=http://192.168.189.130:8081
value.converter=io.confluent.connect.avro.AvroConverter
value.converter.schema.registry.url=http://192.168.189.130:8081
key.converter.schemas.enable=true
value.converter.schemas.enable=true

internal.key.converter=org.apache.kafka.connect.json.JsonConverter
internal.value.converter=org.apache.kafka.connect.json.JsonConverter
internal.key.converter.schemas.enable=false
internal.value.converter.schemas.enable=false

config.storage.topic=connect-configs
offset.storage.topic=connect-offsets
status.storage.topic=connect-statuses
config.storage.replication.factor=1
offset.storage.replication.factor=1
status.storage.replication.factor=1

plugin.path=/opt/confluent/share/java/plugin
rest.host.name=192.168.189.130
rest.port=8083
rest.advertised.host.name=192.168.189.130
rest.advertised.port=8083

offset.flush.timeout.ms=50000
offset.flush.interval.ms=10000
send.buffer.bytes=13107200
consumer.max.poll.records=10000
consumer.partition.assignment.strategy=org.apache.kafka.clients.consumer.CooperativeStickyAssignor</code></pre><p class="- topic/p p">创建 Kafka-Connect 的 <em class="+ topic/ph hi-d/i ph i">log4j</em> 配置文件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/kafka-connect/etc
cp /opt/kafka/config/connect-log4j.properties ./log4j.properties</code></pre><p class="- topic/p p">修改文件中的以下参数配置。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>vim ./log4j.properties
log4j.appender.connectAppender.File=${kafka.logs.dir}/connect.log</code></pre><p class="- topic/p p">将其修改为：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>log4j.appender.connectAppender.File=/KFDATA/kafka-connect/logs/connect.log</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第三步： 准备 Kafka-Connect 的启动文件</strong></p><p class="- topic/p p">创建 Kafka-Connect 启动环境变量文件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/kafka-connect/etc
touch kafka-connect.env

echo PATH="/usr/local/java/java17/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin" &gt;kafka-connect.env
echo LOG_DIR="/KFDATA/kafka-connect/logs/" &gt;&gt;kafka-connect.env
echo LOG4J_DIR="/KFDATA/kafka-connect/etc/log4j.properties" &gt;&gt;kafka-connect.env
echo KAFKA_LOG4J_OPTS=\"-Dlog4j.configuration=file:/KFDATA/kafka-connect/etc/log4j.properties\" &gt;&gt;kafka-connect.env
echo CLASSPATH=/opt/confluent/share/java/schema-registry/*:/opt/confluent/share/java/kafka-serde-tools/*:/opt/confluent/share/java/confluent-common/* &gt;&gt;kafka-connect.env
echo JMX_PORT=29998 &gt;&gt;kafka-connect.env</code></pre><p class="- topic/p p">创建 Kafka-Connect 的 systemd service 文件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo vim /usr/lib/systemd/system/kafka-connect.service</code></pre><p class="- topic/p p">录入以下内容，并保存。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>[Unit]
Description=Apache Kafka Connect - distributed
After=network.target

[Service]
Type=simple
User=kafka
Group=kafka
EnvironmentFile=/KFDATA/kafka-connect/etc/kafka-connect.env
ExecStart=/opt/kafka/bin/connect-distributed.sh /KFDATA/kafka-connect/etc/kafka-connect.properties
TimeoutStopSec=180
Restart=no

[Install]
WantedBy=multi-user.target
</code></pre><p class="- topic/p p">重新加载 service 启动服务。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo systemctl daemon-reload</code></pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title18" id="252-部署启动-kafka-connect"><h4 class="- topic/title title topictitle4" id="ariaid-title18">2.5.2 部署启动 Kafka-Connect</h4><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步： 通过 systemctl 工具启动 Kafka-Connect 服务</strong></p><p class="- topic/p p">执行以下命令。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo systemctl start kafka-connect.service</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步： 查看 Kafka-Connect 启动情况</strong></p><p class="- topic/p p">通过 <code class="+ topic/ph pr-d/codeph ph codeph">jps</code> 命令查看启动情况。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>jps -mlvV |grep connect</code></pre><br/><img class="- topic/image image" src="images/DKOD/14.png" alt="14"/><br/><p class="- topic/p p">查看 Kafka 中的 topic 情况，Kafka-Connect 会在 Kafka 中创建 connect-configs , connect-offsets, connect-statuses 三个 topic。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd  /opt/kafka/bin
./kafka-topics.sh --bootstrap-server 192.168.189.130:9092 --list</code></pre><br/><img class="- topic/image image" src="images/DKOD/15.png" alt="15"/><br/><p class="- topic/p p">使用 <code class="+ topic/ph pr-d/codeph ph codeph">curl</code> 命令访问 kafka-connect ，可以看到当前还没有配置 connector 任务。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code> curl -H "Accept:application/json" 192.168.189.130:8083/connectors/</code></pre><br/><img class="- topic/image image" src="images/DKOD/16.png" alt="16"/><br/></div></article></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title19" id="3-从-oracle-到-kafka-的数据同步部署程序与配置任务"><h2 class="- topic/title title topictitle2" id="ariaid-title19">3. 从 Oracle 到 Kafka 的数据同步：部署程序与配置任务</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title20" id="31-配置-oracle-数据库"><h3 class="- topic/title title topictitle3" id="ariaid-title20">3.1 配置 Oracle 数据库</h3><div class="- topic/body body"><p class="- topic/p p">对于 Source 数据库 Oracle ，本教程采用 Oracle 提供的 LogMiner 工具来捕获数据的数据变化 ，这里需要对 Oracle 数据库做一些设置。主要配置如下：</p><ul class="- topic/ul ul"><li class="- topic/li li">Oracle 需开启归档模式</li><li class="- topic/li li">要进行实时同步的 Oracle 表需要开启表级补充日志</li><li class="- topic/li li">创建具有一定权限的 Oracle 用户</li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步： 开启 Oracle 归档模式</strong></p><p class="- topic/p p">创建备份文件路径：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>mkdir -p /data/oradata/recovery_area</code></pre><p class="- topic/p p">sqlplus 以 dba 权限登录：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sqlplus / as sysdba</code></pre><p class="- topic/p p">执行以下命令开启 Oracle 归档模式：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>-- 设置数据库归档空间大小为20GB,该值为建议最小提供值
alter system set db_recovery_file_dest_size = 20G;
-- 设置数据库归档路径
alter system set db_recovery_file_dest = '/data/oradata/recovery_area' scope=spfile;
-- 立即关闭数据库
shutdown immediate
-- mount模式启动
startup mount
-- 开启归档模式
alter database archivelog;
-- 开启数据库
alter database open;</code></pre><p class="- topic/p p">查看是否开启归档日志，如图显示 Archive Mode 则表示归档已开启：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>archive log list</code></pre><br/><img class="- topic/image image" src="images/DKOD/17.jpg" alt="17"/><br/><p class="- topic/p p">归档日志空间大小需根据实际需求设置。当归档日志满时，Oracle将不可用，需自行设置脚本来定时清理归档日志。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步： 开启补充日志</strong></p><p class="- topic/p p">开启最小补充日志：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>ALTER DATABASE ADD SUPPLEMENTAL LOG DATA; -- 开启最小补充日志</code></pre><p class="- topic/p p">除了最小补充日志，还需要开启全字段的补充日志。可以开启数据库级全字段补充日志，也可以根据需要同步的表开启表级别全字段补充日志，只开启表级别可以减少归档日志的产生量。</p><p class="- topic/p p">开启数据库级全字段补充日志：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS; -- 开启
-- ALTER DATABASE DROP SUPPLEMENTAL LOG DATA (ALL) COLUMNS; -- 关闭</code></pre><p class="- topic/p p">或开启表级别全字段补充日志，SCHEMA 和 TABLENAME 需替换成具体的同步表(推荐采用此种方式)：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>ALTER TABLE SCHEMA.TABLENAME ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS; -- 开启
-- ALTER TABLE SCHEMA.TABLENAME DROP SUPPLEMENTAL LOG DATA (ALL) COLUMNS; -- 关闭</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第三步：</strong> <strong class="+ topic/ph hi-d/b ph b">创建数据同步用的 debezium 用户</strong></p><p class="- topic/p p">创建 logminer_tbs 表空间。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>CREATE TABLESPACE logminer_tbs DATAFILE '/data/oradata/dbname/logminer_tbs.dbf'
SIZE 25M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED;</code></pre><p class="- topic/p p">创建专门用于日志挖掘的用户，命名为 debezium。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>CREATE USER debezium IDENTIFIED BY password
DEFAULT TABLESPACE logminer_tbs
QUOTA UNLIMITED ON logminer_tbs;</code></pre><p class="- topic/p p">对 debezium 用户授权（以 Oracle 11g 版本的设置为示例，其他 Oracle 版本可以参考 Debezium 文档说明）。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>GRANT SELECT ANY TABLE TO debezium;
GRANT FLASHBACK ANY TABLE TO debezium;

GRANT CREATE SESSION TO debezium;
GRANT SELECT ON V_$DATABASE to debezium;
GRANT SELECT_CATALOG_ROLE TO debezium;
GRANT EXECUTE_CATALOG_ROLE TO debezium;
GRANT SELECT ANY TRANSACTION TO debezium;
GRANT SELECT ANY DICTIONARY to debezium;

GRANT CREATE TABLE TO debezium;
GRANT CREATE SEQUENCE TO debezium;
 
GRANT EXECUTE ON DBMS_LOGMNR TO debezium;
GRANT EXECUTE ON DBMS_LOGMNR_D TO debezium;
 
GRANT SELECT ON V_$LOG TO debezium;
GRANT SELECT ON V_$LOG_HISTORY TO debezium;
GRANT SELECT ON V_$LOGMNR_LOGS TO debezium;
GRANT SELECT ON V_$LOGMNR_CONTENTS TO debezium;
GRANT SELECT ON V_$LOGMNR_PARAMETERS TO debezium;
GRANT SELECT ON V_$LOGFILE TO debezium;
GRANT SELECT ON V_$ARCHIVED_LOG TO debezium;
GRANT SELECT ON V_$ARCHIVE_DEST_STATUS TO debezium;</code></pre><p class="- topic/p p">其中<code class="+ topic/ph pr-d/codeph ph codeph">SELECT ANY TABLE</code>和<code class="+ topic/ph pr-d/codeph ph codeph">FLASHBACK ANY TABLE</code>可以缩减权限为需实时同步的表：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>GRANT SELECT ON SCHEMA.TABLENAME TO debezium;
GRANT FLASHBACK ON SCHEMA.TABLENAME TO debezium;</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title21" id="32-安装-debezium-oracle-连接器插件"><h3 class="- topic/title title topictitle3" id="ariaid-title21">3.2 安装 Debezium-Oracle 连接器插件</h3><div class="- topic/body body"><p class="- topic/p p">Oracle 的 Debezium 数据同步插件需要安装在 Kafka_Connect 程序部署文件路径下。</p><p class="- topic/p p">配置启动 Debezium-Oracle 连接器，需要以下两步：</p><ul class="- topic/ul ul"><li class="- topic/li li">下载 Debezium-Oracle-Connector 插件，将插件解压并放到 Kafka Connect 的插件路径下</li><li class="- topic/li li">重新启动 Kafka Connect 程序，以加载插件</li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步： 下载安装 Debezium-Oracle 插件和 ojdbc 包</strong></p><p class="- topic/p p">官方网站 <a class="- topic/xref xref" href="https://debezium.io/" target="_blank" rel="external noopener">Debezium</a>，选择 2.5.1.Final 版本进行下载，程序名为<code class="+ topic/ph pr-d/codeph ph codeph">debezium-connector-oracle-2.5.1.Final-plugin.tar.gz</code></p><p class="- topic/p p">在 confluent 的安装路径下创建插件路径，在此路径下解压 Debezium 的 Oracle 插件包，请确保 kafka 用户对此路径的读权限。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo mkdir -p /opt/confluent/share/java/plugin
cd /opt/confluent/share/java/plugin
sudo tar -xvf ./debezium-connector-oracle-2.5.1.Final-plugin.tar.gz
sudo rm ./debezium-connector-oracle-2.5.1.Final-plugin.tar.gz</code></pre><p class="- topic/p p">连接 Oracle 数据库还需 Oracle 的 JDBC 包，可以到 Oracle 官网 <a class="- topic/xref xref" href="https://www.oracle.com/database/technologies/appdev/jdbc-drivers-archive.html" target="_blank" rel="external noopener">JDBC Drivers Archive</a> 下载对应 Oracle 版本的 JDBC 包，目前 Oracle 官网已下架 Oracle 11g 版本的ojdbc包，可以在此下载<code class="+ topic/ph pr-d/codeph ph codeph">ojdbc8.jar</code></p><p class="- topic/p p">在当前的<code class="+ topic/ph pr-d/codeph ph codeph">debezium-connector-oracle</code>目录下再放入 ojdbc 包 <code class="+ topic/ph pr-d/codeph ph codeph">ojdbc8.jar</code></p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cp ~/ojdbc8.jar /opt/confluent/share/java/plugin/debezium-connector-oracle/</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步： 配置 Kafka-Connect 加载插件</strong></p><p class="- topic/p p">修改 Kafka Connect 的配置文件，添加插件路径配置。若已配置插件路径，则跳过该步骤。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/kafka-connect/etc
vim kafka-connect.properties</code></pre><p class="- topic/p p">添加或修改参数 plugin.path 如下。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>plugin.path=/opt/confluent/share/java/plugin</code></pre><p class="- topic/p p">重新启动 Kafka Connect。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo systemctl restart kafka-connect</code></pre><p class="- topic/p p">查看 kafka connect 的日志输出，能查询到信息则说明插件加载成功。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cat /KFDATA/kafka-connect/logs/connect.log | grep OracleConnector</code></pre><br/><img class="- topic/image image" src="images/DKOD/18.jpg" alt="18"/><br/></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title22" id="33-配置-oracle-数据同步连接任务"><h3 class="- topic/title title topictitle3" id="ariaid-title22">3.3 配置 Oracle 数据同步连接任务</h3><div class="- topic/body body"><p class="- topic/p p">配置同步任务的及检查的很多命令都要带上 <em class="+ topic/ph hi-d/i ph i">url</em> 等参数。为了操作快捷，本教程封装了一些加载配置文件的操作脚本在 <em class="+ topic/ph hi-d/i ph i">kafka-tools.tar</em> 包中，详情参见附录。下载当前包，解压缩到 /KFDATA 目录下。后续的很多操作，包括检查 Kafka 的 topic、查看数据和配置同步任务等都会使用 kafka-tools 包中的脚本。包中的脚本在无参数运行时会输出 help。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA
sudo tar -xvf kafka-tools.tar
sudo chown kafka:kafka kafka-tools
rm ./kafka-tools.tar</code></pre><p class="- topic/p p">修改 */KFDATA/kafka-tools/config/config.properties *配置参数。</p><p class="- topic/p p">按照本机的路径、IP 等对应修改 Kafka 和 Kafka_Connect 的启动 IP 地址，以及安装目录。</p><p class="- topic/p p">示例如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>#kafka parameters
kafka_home=/opt/kafka
confluent_home=/opt/confluent
bootstrap_server=192.168.189.130:9092

#kafka-connect parameters
connect_rest_url=192.168.1.178:8083
#rest_pd  means restful request  password,This is not necessary
#rest_pd=appsdba:passwd
schema_ip=192.168.189.130
schema_port=8081</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步：准备 Oracle 数据库表</strong></p><p class="- topic/p p">在 debezium 用户下创建<code class="+ topic/ph pr-d/codeph ph codeph">index_example</code>示例表。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>create table debezium.index_example (
    trade_date date,
    stock_code varchar2(20),
    effDate date,
    indexShortName varchar2(20),
    indexCode varchar2(20),
    secShortName varchar2(50),
    exchangeCD varchar2(10),
    weight number,
    tm_stamp date,
    flag integer,
    primary key (trade_date, stock_code, indexCode, flag)
);</code></pre><p class="- topic/p p">向<code class="+ topic/ph pr-d/codeph ph codeph">index_example</code>表中插入 4 条数据。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>insert into debezium.index_example
values(to_date('2006-11-30', 'YYYY-MM-DD'), '000759', to_date('2018-06-30 03:48:05', 'YYYY-MM-DD HH24:MI:SS'),
'中证500', '000905', '中百集团', 'XSHE', 0.0044, to_date('2018-06-30 05:43:05', 'YYYY-MM-DD HH24:MI:SS'), 1);

insert into debezium.index_example
values(to_date('2006-11-30', 'YYYY-MM-DD'), '000759', to_date('2018-06-30 04:47:05', 'YYYY-MM-DD HH24:MI:SS'),
'中证500', '000906', '中百集团', 'XSHE', 0.0011, to_date('2018-06-30 05:48:06', 'YYYY-MM-DD HH24:MI:SS'), 1);

insert into debezium.index_example
values(to_date('2006-11-30', 'YYYY-MM-DD'), '600031', to_date('2018-06-30 03:48:05', 'YYYY-MM-DD HH24:MI:SS'),
'上证180', '000010', '三一重工', 'XSHG', 0.0043, to_date('2018-06-30 05:48:05', 'YYYY-MM-DD HH24:MI:SS'), 1);

insert into debezium.index_example
values(to_date('2006-11-30', 'YYYY-MM-DD'), '600031', to_date('2018-06-30 03:48:05', 'YYYY-MM-DD HH24:MI:SS'),
'沪深300', '000300', '三一重工', 'XSHG', 0.0029, to_date('2018-06-30 05:48:05', 'YYYY-MM-DD HH24:MI:SS'), 1);

commit;</code></pre><p class="- topic/p p">在 debezium 用户下创建<code class="+ topic/ph pr-d/codeph ph codeph">stock_example</code>示例表。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>create table debezium.stock_example (
    id number,
    ts_code varchar2(20),
    symbol_id varchar2(20),
    name varchar2(20),
    area varchar2(20),
    industry varchar2(20),
    list_date date,
    primary key (id, ts_code)
);</code></pre><p class="- topic/p p">向<code class="+ topic/ph pr-d/codeph ph codeph">stock_example</code>表中插入 3 条数据并提交。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>insert into debezium.stock_example
values (1, '000001.SZ', '000001', '平安银行', '深圳', '银行', to_date('1991-04-03', 'YYYY-MM-DD'));

insert into debezium.stock_example
values (2, '000002.SZ', '000002', '万科A', '深圳', '地产', to_date('1991-01-29', 'YYYY-MM-DD'));

insert into debezium.stock_example
values (3, '000004.SZ', '000004', 'ST国华', '深圳', '软件服务', to_date('1991-01-14', 'YYYY-MM-DD'));
</code></pre><p class="- topic/p p">查看 Oracle 表中数据。</p><br/><img class="- topic/image image" src="images/DKOD/19.jpg" alt="19"/><br/><br/><img class="- topic/image image" src="images/DKOD/20.jpg" alt="20"/><br/><p class="- topic/p p">若在 3.1 节的 step2 中未开启数据库级全字段增量日志，在此步还需开启表级全字段增量日志。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>ALTER TABLE debezium.index_example ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
ALTER TABLE debezium.stock_example ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步：准备连接器配置文件，并启动连接任务</strong></p><p class="- topic/p p">创建连接 Oracle 的 source 连接器配置文件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>mkdir -p /KFDATA/datasyn-config
vim /KFDATA/datasyn-config/source-oracle.json</code></pre><p class="- topic/p p">录入以下配置，hostname 和 kafka 启动地址需对应修改。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>{
    "name": "oracle-connector",
    "config": {
     "connector.class": "io.debezium.connector.oracle.OracleConnector",
     "tasks.max": "1",
     "topic.prefix": "oracle_service",
     "database.hostname": "183.134.101.144",
     "database.port": 1521,
     "database.user": "debezium",
     "database.password": "123456",
     "database.dbname": "testdb",
     "database.connection.adapter": "logminer",
     "schema.include.list": "debezium",
     "table.include.list": "debezium.index_example,debezium.stock_example",
     "schema.history.internal.kafka.bootstrap.servers": "183.134.101.144:9092",
     "schema.history.internal.kafka.topic": "schema-changes.test",
     "event.processing.failure.handling.mode": "skip",
     "decimal.handling.mode": "string",
     "snapshot.mode": "initial",
     "log.mining.strategy": "online_catalog",
     "log.mining.query.filter.mode": "in",
     "log.mining.continuous.mine": true,
     "heartbeat.interval.ms": "20000",
     "schema.history.internal.store.only.captured.tables.ddl": true,
     "schema.history.internal.store.only.captured.databases.ddl": true,
  }
}</code></pre><p class="- topic/p p">参数说明：</p><div class="table-container"><table class="- topic/table table" data-cols="3"><caption></caption><colgroup><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="33-配置-oracle-数据同步连接任务__entry__1">参数名称</th><th class="- topic/entry entry colsep-0 rowsep-0" id="33-配置-oracle-数据同步连接任务__entry__2">默认值</th><th class="- topic/entry entry colsep-0 rowsep-0" id="33-配置-oracle-数据同步连接任务__entry__3">参数说明</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">connector.class</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">连接器的 Java 类的名称。这里是 oracle 的连接器类名。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">tasks.max</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">1</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">当前 connector 的最大并行任务数。oracle 的 source 连接器任务数只能是 1。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">topic.prefix</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">当前 connector 同步写入任务的命名空间。会被用于添加到同步表对应 topic 名称前等。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">database.hostname</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">Oracle 数据库服务器的 IP 地址或主机名。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">database.port</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">3306</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">Oracle 数据库服务器的整数端口号。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">database.user</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">Oracle 数据库服务器连接用户。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">database.password</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">Oracle 数据库服务器连接用户密码。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">database.dbname</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">Oracle 数据库实例名称。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">database.connection.adapter</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">logminer</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">使用的适配器名称。选项为 logminer、olr 或者 xstream 。分别对应 Oracle LogMiner API、OpenLogReplicator和Oracle XStream API。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">schema.include.list</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">匹配的模式名。可以多个，用逗号分割即可。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">table.include.list</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">匹配的表名。可以多个，用逗号分割即可。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">schema.history.internal.kafka.bootstrap.servers</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">数据同步记录 Oracle 的表结构信息的 kafka 连接。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">schema.history.internal.kafka.topic</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">数据同步记录 Oracle 表结构的 topic 名称。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">event.processing.failure.handling.mode</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">fail</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">处理事件时碰到异常如何处理。可选 fail 、warn 和 skip。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">decimal.handling.mode</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">precise</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">针对 Oracle 的 NUMBER、DECIMAL 和 NUMERIC 类型的处理模式。”precise” 表示转换成 java.math.BigDecimal ，”double” 表示转换成 double 值，”string” 表示转换成字符串。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">snapshot.mode</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">initial</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">指定 connector 用来捕获表快照的形式。常用的是 ”initial”和 ”schema_only” 。“initial“ 在 connector 第一次启动时会获取表结构和表的快照数据，并继续获取新增的变更数据。”schema_only” 表示只获取表结构，并只会获取新增的变更数据。其他形式请参考 debezium 官方文档。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">log.mining.strategy</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">redo_log_catalog</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">指定挖掘策略。挖掘策略决定了Oracle LogMiner 如何构建数据字典来解析日志文件。有 redo_log_catalog 和 online_catalog 两种模式。推荐使用 online_catalog，这种模式的优点是速度快、不产生多余日志。缺点是如果DDL变化时如果还有旧的表结构对应的数据变更没有挖掘完成，无法根据旧的表结构解析日志，不适用于表结构频繁变更的情况。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">log.mining.query.filter.mode</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">none</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">Oracle LogMiner 查询构建的方式。查询过滤方式，推荐使用 ”in” 的方式。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">log.mining.continuous.mine</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">false</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">连续挖掘选项。Oracle 12c 及之后该选项已弃用。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">heartbeat.interval.ms</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">0</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">connector 向 topic 发送心跳信息的频率，单位为毫秒。当需捕获的表在较长时间没有数据更改时，设置此参数可以及时刷新 SCN 号，设置为 0 时 connector 不会发送任何心跳信息，可能会导致 connector 记录的SCN号和数据库最新 SCN 号之间的间隔较大。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">schema.history.internal.store.only.captured.tables.ddl</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">false</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">指定 connector 记录一个 schema 或者一个数据库中所有非系统表的表结构，还是只记录需要捕获表的表结构。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__1">schema.history.internal.store.only.captured.databases.ddl</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__2">false</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="33-配置-oracle-数据同步连接任务__entry__3">指定 connector 是否记录数据库实例中所有逻辑数据库的表结构。</td></tr></tbody></table></div><p class="- topic/p p">更多详细参数说明可以参看（Debezium 2.5），不同Debezium版本的参数配置不同，若使用其他版本的Debezium，需找到对应文档做修改。</p><p class="- topic/p p"><a class="- topic/xref xref" href="https://debezium.io/documentation/reference/2.5/connectors/oracle.html" target="_blank" rel="external noopener">Debezium Connector for Oracle :: Debezium Documentation</a></p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第三步： 启动 Oracle 的数据同步任务</strong></p><p class="- topic/p p">通过 REST API 启动 Oracle 的 source 连接器</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>curl -i -X POST -H "Accept:application/json" -H  "Content-Type:application/json" http://183.134.101.144:8083/connectors/ -d @/KFDATA/datasyn-config/source-oracle.json</code></pre><p class="- topic/p p">也可以通过 kafka-tools 中的脚本启动</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/kafka-tools/bin
./rest.sh create /KFDATA/datasyn-config/source-oracle.json</code></pre><br/><img class="- topic/image image" src="images/DKOD/21.jpg" alt="21"/><br/><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第四步：查看 Oracle 数据同步任务状态</strong></p><p class="- topic/p p">查看同步任务列表。<em class="+ topic/ph hi-d/i ph i">list</em> 参数展示任务名列表，showall 参数会显示全部同步任务状态。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/kafka-tools/bin
./rest.sh showall
</code></pre><br/><img class="- topic/image image" src="images/DKOD/22.jpg" alt="22"/><br/><p class="- topic/p p">查看 <em class="+ topic/ph hi-d/i ph i">topic</em> 列表：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./kafka.sh tplist</code></pre><br/><img class="- topic/image image" src="images/DKOD/23.jpg" alt="23"/><br/><p class="- topic/p p">查看 topic oracle_service.DEBEZIUM.INDEX_EXAMPLE和 oracle_service.DEBEZIUM.STOCK_EXAMPLE 中的数据条数：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./kafka.sh get_offsets oracle_service.DEBEZIUM.INDEX_EXAMPLE
./kafka.sh get_offsets oracle_service.DEBEZIUM.STOCK_EXAMPLE</code></pre><p class="- topic/p p">结果如图所示</p><br/><img class="- topic/image image" src="images/DKOD/24.jpg" alt="24"/><br/></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title23" id="4-从kafka-到-dolphindb-的数据同步部署程序与配置任务"><h2 class="- topic/title title topictitle2" id="ariaid-title23">4. 从Kafka 到 DolphinDB 的数据同步：部署程序与配置任务</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title24" id="41-安装-kafka-dolphindb-数据同步连接器插件"><h3 class="- topic/title title topictitle3" id="ariaid-title24">4.1 安装 Kafka-DolphinDB 数据同步连接器插件</h3><div class="- topic/body body"><p class="- topic/p p">配置启动 Kafka-DolphinDB 连接器，需要以下两步：</p><ul class="- topic/ul ul"><li class="- topic/li li">下载 Kafka-DolphinDB-Connector 插件，将插件解压并放到 Kafka Connect 的插件路径下。</li><li class="- topic/li li">重新启动 Kafka Connect 程序，以加载插件。</li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步：下载 Kafka-DolphinDB 插件</strong></p><ul class="- topic/ul ul"><li class="- topic/li li">jdbc-2.00.11.1-ddbcdc-beta1.jar ：该 DolphinDB JDBC 包为数据同步做了一些专门修改，为特殊版本，后续会进行版本统一支持。参见附录。</li><li class="- topic/li li">kafka-connect-jdbc-10.7.4-ddb1.10.jar ：是基于 kafka-connect-jdbc-10.7.4 开发的 DolphinDB 连接器，后续会进行代码开源。参见附录。</li></ul><p class="- topic/p p">创建插件路径，在此路径下放置 Kafka-DolphinDB 插件包，将上述两个 jar 包放在此目录下。请确保 kafka 用户包含对这两个文件的读权限。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo mkdir -p /opt/confluent/share/java/plugin/kafka-connect-jdbc
sudo cp ~/jdbc-2.00.11.1-ddbcdc-beta1.jar /opt/confluent/share/java/plugin/kafka-connect-jdbc/
sudo cp ~/kafka-connect-jdbc-10.7.4-ddb1.10.jar /opt/confluent/share/java/plugin/kafka-connect-jdbc/</code></pre><p class="- topic/p p">如果上面的操作碰到权限问题，则可以使用以下命令赋予权限。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo chmod o+rx /opt/confluent/share/java/plugin/kafka-connect-jdbc/*</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步： 重启 kafka-connect</strong></p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>sudo systemctl restart kafka-connect</code></pre><p class="- topic/p p">查看kafka-connect路径的日志输出</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cat /KFDATA/kafka-connect/logs/connect.log | grep JdbcSinkConnector</code></pre><p class="- topic/p p">出现下图中所示信息时，说明插件加载成功：</p><br/><img class="- topic/image image" src="images/DKOD/25.jpg" alt="25"/><br/></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title25" id="42-配置-dolphindb-的数据同步连接任务"><h3 class="- topic/title title topictitle3" id="ariaid-title25">4.2 配置 DolphinDB 的数据同步连接任务</h3><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步：创建同步的 DolphinDB 库、表</strong></p><p class="- topic/p p">根据 Oracle 表结构，创建与 Oracle 表结构一致的表，Oracle 数据类型转换为 DolphinDB 数据类型对照表可以参考4.2节。</p><p class="- topic/p p">创建 <code class="+ topic/ph pr-d/codeph ph codeph">index_example</code> 表：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>dbName = "dfs://index_data"
tbName = "index_example"
colNames = `trade_date`stock_code`effDate`indexShortName`indexCode`secShortName`exchangeCD`weight`tm_stamp`flag
colTypes = `DATE`SYMBOL`TIMESTAMP`SYMBOL`SYMBOL`SYMBOL`SYMBOL`DOUBLE`TIMESTAMP`INT
t = table(1:0, colNames, colTypes)
db = database(directory=dbName, partitionType=RANGE, partitionScheme=1990.01M+(0..80)*12, engine="TSDB", atomic="CHUNK")
db.createPartitionedTable(t, tbName, partitionColumns=`trade_date, sortColumns=`stock_code`indexCode`flag`trade_date, keepDuplicates=LAST, softDelete=true)</code></pre><p class="- topic/p p">创建 <code class="+ topic/ph pr-d/codeph ph codeph">stock_example</code> 表：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>dbName = "dfs://stock_data"
tbName = "stock_example"
colNames = `id`ts_code`symbol_id`name`area`industry`list_date
colTypes = `LONG`SYMBOL`SYMBOL`SYMBOL`SYMBOL`SYMBOL`DATE
t = table(1:0, colNames, colTypes)
db=database(directory=dbName, partitionType=HASH, partitionScheme=[LONG, 1], engine="TSDB", atomic="CHUNK")
db.createPartitionedTable(t, tbName, partitionColumns=`id, sortColumns=`ts_code`id, keepDuplicates=LAST, sortKeyMappingFunction=[hashBucket{,100}], softDelete=true)</code></pre><p class="- topic/p p">注：建表时的软删除功能，即softDelete选项需要DolphinDB 2.00.11及以上的版本。旧版本DolphinDB建表时可以去除该选项。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步： 配置同步配置表</strong></p><p class="- topic/p p">在DolphinDB 中创建一张配置表，记录 kafka topic 和 DolphinDB 库表之间的映射关系。配置表的库表名可以自行调整，并在 DolphinDB 的同步任务中设置相应的库表名称。配置表中字段名是固定的，需和示例保持一致。</p><p class="- topic/p p">数据库名：dfs://ddb_sync_config</p><p class="- topic/p p">表名：sync_config</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>db = database("dfs://ddb_sync_config", HASH, [SYMBOL, 2])
t = table(1:0, `connector_name`topic_name`target_db`target_tab`add_sortcol_flag,
[SYMBOL, SYMBOL, SYMBOL, SYMBOL, SYMBOL])
db.createTable(t, "sync_config")</code></pre><p class="- topic/p p">kafka topic 名可以通过之前介绍的<code class="+ topic/ph pr-d/codeph ph codeph">./kafka.sh tplist</code> 的命令查看。debezium.index_example 和 debezium.stock_example 表对应的 kafka topic 分别是 oracle_service.DEBEZIUM.INDEX_EXAMPLE 和 oracle_service.DEBEZIUM.STOCK_EXAMPLE。</p><p class="- topic/p p">插入配置信息，将 kafka topic 和 DolphinDB 库表名称一一对应。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>def addSyncConfig(connector_name, topic_name, dbname, tbname, add_sortcol_flag="0") {
    loadTable("dfs://ddb_sync_config", "sync_config").append!(
    table([connector_name] as col1, 
    [topic_name] as col2, 
    [dbname] as col3,
    [tbname] as col4, 
    [add_sortcol_flag] as col5))
}

addSyncConfig("ddb-sink", "oracle_service.DEBEZIUM.INDEX_EXAMPLE", "dfs://index_data", "index_example", "0")
addSyncConfig("ddb-sink", "oracle_service.DEBEZIUM.STOCK_EXAMPLE", "dfs://stock_data", "stock_example", "0")</code></pre><p class="- topic/p p">以下是配置表的各个字段说明：</p><div class="table-container"><table class="- topic/table table" data-cols="3"><caption></caption><colgroup><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="42-配置-dolphindb-的数据同步连接任务__entry__1">字段名</th><th class="- topic/entry entry colsep-0 rowsep-0" id="42-配置-dolphindb-的数据同步连接任务__entry__2">类型</th><th class="- topic/entry entry colsep-0 rowsep-0" id="42-配置-dolphindb-的数据同步连接任务__entry__3">字段作用</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__1">connector_name</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__2">SYMBOL</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__3">配置的 DolphinDB Sink 同步任务名</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__1">topic_name</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__2">SYMBOL</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__3">要同步的 kafka topic 名称</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__1">target_db</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__2">SYMBOL</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__3">对应的 DolphinDB 分布式库名</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__1">target_tab</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__2">SYMBOL</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__3">对应的 DolphinDB 分布式表名</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__1">add_sortcol_flag</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__2">SYMBOL</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__3">是否需要添加 dummySortKey__ 列，需要则设置为 ”1”，否则设置为 ”0”。具体原因详见 4.1 节的DolphinDB 同步须知。</td></tr></tbody></table></div><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第三步： 准备连接器配置文件，并启动连接任务</strong></p><p class="- topic/p p">创建 DolphinDB 数据同步任务配置文件。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/datasyn-config
vim ddb-sink.json</code></pre><p class="- topic/p p">配置如下</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>{
    "name": "ddb-sink",
    "config": {
        "connector.class": "io.confluent.connect.jdbc.JdbcSinkConnector",
        "tasks.max": "2",
        "topics": "oracle_service.DEBEZIUM.INDEX_EXAMPLE,oracle_service.DEBEZIUM.STOCK_EXAMPLE",
        "connection.url": "jdbc:dolphindb://183.134.101.144:8848?user=admin&amp;password=123456",
        "transforms": "unwrap",
        "transforms.unwrap.type": "io.debezium.transforms.ExtractNewRecordState",
        "transforms.unwrap.drop.tombstones": "false",
        "auto.evolve": "false",
        "insert.mode": "insert",
        "delete.enabled": "true",
        "batch.size":"10000",
        "pk.mode": "record_key",
        "ddbsync.config.table":"dfs://ddb_sync_config,sync_config",
        "ddbsync.addSortColFlag": "true"
    }
}</code></pre><div class="table-container"><table class="- topic/table table" data-cols="3"><caption></caption><colgroup><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="42-配置-dolphindb-的数据同步连接任务__entry__19">参数名称</th><th class="- topic/entry entry colsep-0 rowsep-0" id="42-配置-dolphindb-的数据同步连接任务__entry__20">默认值</th><th class="- topic/entry entry colsep-0 rowsep-0" id="42-配置-dolphindb-的数据同步连接任务__entry__21">参数说明</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">name</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">同步任务名称，不可重复。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">connector.class</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">连接器的 Java 类的名称。这里是 JdbcSink 的通用连接器类名。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">tasks.max</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">1</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">当前 connector 的最大并行任务数。可以调节增大，会创建多 consumer 并行消费读取 Kafka 中数据。一般的数据同步场景设置到 10 基本可以满足同步速度上的需求。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">topics</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">配置要同步的 Kafka 中的 topic 名称，配置多个 topic 时用逗号分割。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">connection.url</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">DolphinDB 数据库服务器的IP地址或主机名。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">transforms</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">声明数据转换操作，请设置为 unwrap。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">transforms.unwrap.type</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">无</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">声明数据转换器类别。请设置为 false。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">transforms.unwrap.drop.tombstones</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">false</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">声明是否删除 Kafka 中的墓碑数据。请设置为 false。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">auto.evolve</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">true</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">当 DolphinDB 中缺少列时，是否自动增加列。当前不支持自动增加列，必须配置为 false。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">insert.mode</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">insert</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">数据插入模式。当前只支持 insert 模式。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">pk.mode</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">none</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">主键模式。必须设置为 record_key。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">delete.enabled</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">false</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">在主键模式为 record_key 情况下。对于 null 值 record 是否按照 delete 进行操作。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">batch.size</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">3000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">设置在数据量足够大时。以每批最大多少条来写入到目标数据库。注意：当该值大于 Connect worker 中设置的 consumer.max.pol.records 时，每次提交数量会受 consumer.max.pol.records 的值限制。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">ddbsync.config.table</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">dfs://ddb_sync_config,sync_config</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">Kafka 中的 topic 对应 DolphinDB 表的配置表名称。可以自行定义库、表名称。但表中的字段要保持一致。表结构见 3.2 节。</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__19">ddbsync.addSortColFlag</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__20">false</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="42-配置-dolphindb-的数据同步连接任务__entry__21">是否开启补充列。若部分表需要通过补充列来设置sortColumns，则需要开启。具体原因见 4.1 节。</td></tr></tbody></table></div><p class="- topic/p p">参数说明：以上参数项为同步 DolphinDB 所需参数。如果对 Confluent 的JDBC Sink Connect 有经验可适当调节。</p><p class="- topic/p p">通过 REST API 启动source连接器：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>curl -i -X POST -H "Accept:application/json" -H  "Content-Type:application/json" http://183.134.101.144:8083/connectors/ -d @ddb-sink.json</code></pre><p class="- topic/p p">也可以通过 kafka-tools 中的脚本启动：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/kafka-tools/bin
./rest.sh create /KFDATA/datasyn-config/ddb-sink.json</code></pre><p class="- topic/p p">查看同步任务状态， ddb-sink 是 DolphinDB 的数据同步任务：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./rest.sh showall</code></pre><br/><img class="- topic/image image" src="images/DKOD/26.jpg" alt="26"/><br/><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第四步： 查看表初始数据同步进度</strong></p><p class="- topic/p p">在设置 Oracle 同步任务时，将<code class="+ topic/ph pr-d/codeph ph codeph">snapshot.mode</code>选项值设置为 ”initial” ，该选项意味着 Oracle 会同步表的初始数据到 Kafka 中，设置完下游的 DolphinDB 任务后，可以检查初始数据的同步情况。</p><p class="- topic/p p">通过 kafka.sh 脚本查看消费者列表：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./kafka.sh cm_list</code></pre><br/><img class="- topic/image image" src="images/DKOD/27.png" alt="27"/><br/><p class="- topic/p p">查看 DolphinDB 同步任务对应的 Kafka 消费组中的每一个 consumer 的消费进度，通过此命令可以查看同步程序中每一张的表同步进度。 Lag 为 0 则表示 Kafka 中 topic 当前没有未消费的数据，即 Kafka 中的数据与对应表的数据是一致的。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./kafka.sh cm_detail connector-ddb-sink</code></pre><br/><img class="- topic/image image" src="images/DKOD/28.jpg" alt="28"/><br/><p class="- topic/p p">如上图显示，数据已被 DolphinDB 同步任务消费完毕，此时在 DolphinDB 的 web 界面查看表中数据，表数据和 Oracle 表中数据是一致的。</p><br/><img class="- topic/image image" src="images/DKOD/29.jpg" alt="29"/><br/><br/><img class="- topic/image image" src="images/DKOD/30.jpg" alt="30"/><br/></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title26" id="43-实时同步验证"><h3 class="- topic/title title topictitle3" id="ariaid-title26">4.3 实时同步验证</h3><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步：插入数据</strong></p><p class="- topic/p p">向 Oracle 表插入两条新数据：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>insert into debezium.index_example
values (to_date('2006-11-30', 'YYYY-MM-DD'), '600051', 
to_date('2018-06-30 05:48:05', 'YYYY-MM-DD HH:MI:SS'), '上证180', '000010', '三一重工', 
'XXXB', 0.0043, to_date('2018-06-30 05:48:05', 'YYYY-MM-DD HH24:MI:SS'), 1);

insert into debezium.index_example
values (to_date('2006-11-30', 'YYYY-MM-DD'), '600052', 
to_date('2018-06-30 06:48:02', 'YYYY-MM-DD HH:MI:SS'), '沪深300', '000300', '三一重工', 
'XSHG', 0.0029, to_date('2018-06-30 05:48:05', 'YYYY-MM-DD HH24:MI:SS'), 1);</code></pre><p class="- topic/p p">查看 DolphinDB 对应的表数据：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from loadTable("dfs://index_data", "index_example")</code></pre><p class="- topic/p p">可以看到新数据已写入：</p><br/><img class="- topic/image image" src="images/DKOD/31.jpg" alt="31"/><br/><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步：更新数据</strong></p><p class="- topic/p p">Oracle 更改 code 值为600031数据的 tm_stamp 字段值，更改为 2024.02.28 16:00:00：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>update debezium.index_example 
set tm_stamp = to_date('2024-02-28 16:00:00', 'YYYY-MM-DD HH24:MI:SS')
where stock_code = '600031';</code></pre><p class="- topic/p p">再查看 DolphinDB 中数据，数据已被修改：</p><br/><img class="- topic/image image" src="images/DKOD/32.jpg" alt="32"/><br/><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第三步：删除数据</strong></p><p class="- topic/p p">Oracle 删除一条数据：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>delete from debezium.index_example where stock_code = '600052';</code></pre><p class="- topic/p p">再查看 DolphinDB 中数据，数据已被删除：</p><br/><img class="- topic/image image" src="images/DKOD/33.jpg" alt="33"/><br/></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title27" id="5-部署注意事项"><h2 class="- topic/title title topictitle2" id="ariaid-title27">5. 部署注意事项</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title28" id="51-实时同步须知"><h3 class="- topic/title title topictitle3" id="ariaid-title28">5.1 实时同步须知</h3><div class="- topic/body body"><p class="- topic/p p">DolphinDB 是一款支持海量数据的分布式时序数据库。针对不同的数据处理需求，在底层架构上天然上与通常的关系型数据库不同，所以需要有以下限制：</p><ul class="- topic/ul ul"><li class="- topic/li li">DolphinDB 的表没有主键设计，必须使用 TSDB 引擎，将主键设置为 sortColumn 字段，并设置 <strong class="+ topic/ph hi-d/b ph b">keepDuplicates=LAST</strong> 来进行去重，以确保数据唯一性。TSDB 引擎的 sortColumn 是分区内去重，如果使用的是分区表，需要至少将其中一个主键列设置为分区列。</li><li class="- topic/li li">Oracle 表的主键可能不满足 TSDB 引擎的 sortColumn 设置规则，有以下三种情况：<ul class="- topic/ul ul"><li class="- topic/li li">Oracle 表中有两个及以上的主键，其中一个主键为整数类型或时间类型，但末尾列不是整数类型或时间类型：<ul class="- topic/ul ul"><li class="- topic/li li">该情况需要调整 sortColumn 设置的顺序，将整数类型或时间类型的主键移动到末尾。</li></ul></li><li class="- topic/li li">Oracle 表中只有一个主键，或者 Oracle 表中的主键的数据类型均不包含整数类型或时间类型：<ul class="- topic/ul ul"><li class="- topic/li li">该情况需要建表时在末尾补充一个 dummySortKey__ 列，值均设置为0，对应同步程序的配置表中需要将add_sortcol_flag 列的值设置为“1”，若使用 DataX 进行同步，则需要做数据转换。</li></ul></li><li class="- topic/li li">Oracle 表中的主键类型包含 DolphinDB 不支持的类型。<ul class="- topic/ul ul"><li class="- topic/li li">DolphinDB TSDB 引擎的 sortColumns 支持整数、日期或时间、字符串类型，暂时不支持小数类型，但预计会在后续的版本里支持，请关注版本更新。</li></ul></li></ul></li></ul><p class="- topic/p p">DDL 语句相关：</p><ul class="- topic/ul ul"><li class="- topic/li li">当前不支持 DDL 语句同步。</li><li class="- topic/li li">若表结构发生更改，需进行单表修复，具体操作后续会在实时同步的运维手册文档中给出。</li></ul><p class="- topic/p p">其他：</p><ul class="- topic/ul ul"><li class="- topic/li li">表字段命名时，请尽量规避一些简单的名字，比如 code, timestamp 等，这种命名与 DolphinDB 内关键字重复，可能会导致无法正确同步。</li></ul></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title29" id="52-oracle-dolphindb-数据类型对应表"><h3 class="- topic/title title topictitle3" id="ariaid-title29">5.2 Oracle-DolphinDB 数据类型对应表</h3><div class="- topic/body body"><p class="- topic/p p">以下的类型对应表为推荐设置的 DolphinDB 类型，注意两者数据类型表示的精度范围，确保 DolphinDB 数据类型的精度可以覆盖原 Oracle 类型。</p><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="52-oracle-dolphindb-数据类型对应表__entry__1">Oracle类型</th><th class="- topic/entry entry colsep-0 rowsep-0" id="52-oracle-dolphindb-数据类型对应表__entry__2">DolphinDB类型</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__1">NUMBER / NUMBER(P, S &gt; 0)</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__2">DOUBLE / DECIMAL</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__1">FLOAT / DOUBLE PRICISION</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__2">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__1">INTEGER / NUMBER(P, 0)</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__1">VARCHAR(M) / CHAR(M)</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__2">SYMBOL / STRING</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__1">DATE</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__2">DATE（仅日期）或TIMESTAMP（毫秒级时间戳）</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__1">TIMESTAMP(0 - 3)</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__2">TIMESTAMP（毫秒级时间戳）</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__1">TIMESTAMP, TIMESTAMP(4 - 6)</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__2">NANOTIMESTAMP（纳秒级时间戳）</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__1">TIMESTAMP(7 - 9)</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="52-oracle-dolphindb-数据类型对应表__entry__2">NANOTIMESTAMP</td></tr></tbody></table></div><p class="- topic/p p">在浮点数数据处理上，Oracle 的 NUMBER 类型是精确值，如果转换成 DolphinDB 的 DOUBLE 类型，会存在浮点数精度丢失问题。DolphinDB 的 DOUBLE 类型的精度为15-16位有效数字。因此推荐用户转换成 DolphinDB 的 DECIMAL 类型，确保浮点数精度。</p><p class="- topic/p p">在时间类型转换上，请参照表中的类型映射，以保证 DolphinDB 中的时间类型字段在精度上可以覆盖 Oracle 中时间类型字段的精度。</p></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title30" id="6-同步性能测试"><h2 class="- topic/title title topictitle2" id="ariaid-title30">6. 同步性能测试</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title31" id="61-性能测试配置"><h3 class="- topic/title title topictitle3" id="ariaid-title31">6.1 性能测试配置</h3><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">参数配置调优</strong></p><p class="- topic/p p">本次性能测试修改了 kafka 的配置参数 <em class="+ topic/ph hi-d/i ph i">message.max.bytes</em> 为 10,485,760，当更新数据量比较大时，kafka 每批处理的消息变多了，会有一定的性能提升。</p><p class="- topic/p p">此外，也可以调整 Oracle 同步任务的 <em class="+ topic/ph hi-d/i ph i">log.mining.batch.size.max</em> 配置参数来增大 Oracle LogMiner 每批处理的数据量。该调整会增加 Oracle 的内存使用，需按实际情况评估调整。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">建表语句</strong></p><p class="- topic/p p">Oracle 建表，并生成测试数据代码：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>DROP TABLE debezium.performance_test1;
CREATE TABLE debezium.performance_test1 (
    dt date,
    id varchar2(20),
    str1 char(10),
    val number,
    qty varchar2(20),
    tm date
);
-- 生成100w行数据，每天1000行
INSERT INTO debezium.performance_test1 
SELECT to_date('2020-01-01', 'YYYY-MM-DD') + trunc(level/1000), 
to_char(mod(level,1000)+1), 'aa', 1.234, 1000, 
to_date('2024-01-01 15:00:00', 'YYYY-MM-DD HH24:MI:SS') FROM dual
connect by level &lt;= 1000000;
-- 添加主键
ALTER TABLE debezium.performance_test1
ADD CONSTRAINT pk_performance_test1 PRIMARY KEY (id, dt);

DROP TABLE debezium.performance_test2;
CREATE TABLE debezium.performance_test2 (
    dt date,
    id varchar2(20),
    str1 char(10),
    val number,
    qty varchar2(20),
    tm date
);
-- 生成1亿行数据，每天100000行
INSERT INTO debezium.performance_test2
SELECT to_date('2020-01-01', 'YYYY-MM-DD') + trunc(((lvl1-1)*10000+lvl2)/100000),
to_char(mod(((lvl1-1)*10000+lvl2), 100000)+1), 'aa', 1.234, 1000, 
to_date('2024-01-01 15:00:00', 'YYYY-MM-DD HH24:MI:SS')
FROM (select level as lvl1 from dual connect by Level &lt;= 10000)
CROSS JOIN (select level as lvl2 from dual connect by Level &lt;= 10000);
-- 添加主键
ALTER TABLE debezium.performance_test2
ADD CONSTRAINT pk_performance_test2 PRIMARY KEY (id, dt);</code></pre><p class="- topic/p p">DolphinDB 建表代码：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>dbName = "dfs://performance_test1"
tbName = "performance_test1"
colNames = `dt`id`str1`val`qty`tm
colTypes = `DATE`SYMBOL`SYMBOL`DOUBLE`LONG`TIMESTAMP
t = table(1:0, colNames, colTypes)
pkColumns = `id`dt
db = database(dbName, HASH, [SYMBOL, 2], , 'TSDB', 'CHUNK')
db.createTable(t, tbName, sortColumns=pkColumns, keepDuplicates=LAST, softDelete=true)

dbName = "dfs://performance_test2"
tbName = "performance_test2"
colNames = `dt`id`str1`val`qty`tm
colTypes = `DATE`SYMBOL`SYMBOL`DOUBLE`LONG`TIMESTAMP
t = table(1:0, colNames, colTypes)
pkColumns = `id`dt
partitionCols = `dt`id
db1 = database(, RANGE, date(datetimeAdd(1990.01M, 0..100*12, 'M')))
db2 = database(, HASH, [SYMBOL, 50])
db = database(dbName, COMPO, [db1, db2], , `TSDB, `CHUNK)
db.createPartitionedTable(t, tbName, partitionColumns=partitionCols, sortColumns=pkColumns, keepDuplicates=LAST, softDelete=true)</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title32" id="62-性能测试结果"><h3 class="- topic/title title topictitle3" id="ariaid-title32">6.2 性能测试结果</h3><div class="- topic/body body"><p class="- topic/p p">性能测试结果如下表所示，其中总耗时等于 DolphinDB 更新完成时间减去 Oracle 更新完成时间，因此总耗时包含了以下数据同步的完整链路：</p><ul class="- topic/ul ul"><li class="- topic/li li">Debezium 挖掘 Oracle 日志到 Kafka</li><li class="- topic/li li">Kafka 推送数据给相应 topic 的消费者</li><li class="- topic/li li">下游的 DolphinDB Connector 消费 Kafka 中数据，解析为相应的 DolphinDB 更新语句，并执行写入 DolphinDB 完成</li></ul><p class="- topic/p p">Kafka 每次推送的变更数据在3000-4000条，具体条数和 Kafka 的日志大小配置相关。对于 insert 和 update 类型的操作，DolphinDB 的处理效率很高。对于 delete 类型操作，由于 delete 操作涉及数据查找， DolphinDB 的处理效率和具体表的数据行数、分区方式相关。</p><div class="table-container"><table class="- topic/table table" data-cols="6"><caption></caption><colgroup><col/><col/><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="62-性能测试结果__entry__1">测试表</th><th class="- topic/entry entry colsep-0 rowsep-0" id="62-性能测试结果__entry__2">原始数据行数</th><th class="- topic/entry entry colsep-0 rowsep-0" id="62-性能测试结果__entry__3">原始数据大小</th><th class="- topic/entry entry colsep-0 rowsep-0" id="62-性能测试结果__entry__4">操作类型</th><th class="- topic/entry entry colsep-0 rowsep-0" id="62-性能测试结果__entry__5">操作行数</th><th class="- topic/entry entry colsep-0 rowsep-0" id="62-性能测试结果__entry__6">总耗时</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">表1performance_test1</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">100万</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3">39MB</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4">insert</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5">1</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6">1s</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">10,000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">2s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">1,000,000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">1min5s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">update</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">1</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3">2s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">10,000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">4s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">1,000,000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">1min16s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">delete</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">1</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3">3s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">10,000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">9s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">1,000,000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">6min9s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">表2performance_test2</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">1亿</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3">3.2GB</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4">insert</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5">1</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6">1s</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">10,000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">2s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">1,000,000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">1min4s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">update</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">1</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3">1s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">10,000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">5s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">1,000,000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">1min14s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">delete</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">1</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3">3s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">10,000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">7s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__1">1,000,000</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__2">3min22s</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__3"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__4"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__5"> </td><td class="- topic/entry entry colsep-0 rowsep-0" headers="62-性能测试结果__entry__6"> </td></tr></tbody></table></div></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title33" id="7-常见问题解答faq"><h2 class="- topic/title title topictitle2" id="ariaid-title33">7. 常见问题解答（FAQ）</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title34" id="71-创建同步任务时报错"><h3 class="- topic/title title topictitle3" id="ariaid-title34">7.1 创建同步任务时报错</h3><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">json 文件格式错误</strong></li></ul><br/><img class="- topic/image image" src="images/DKOD/34.jpg" alt="34"/><br/><p class="- topic/p p">造成上述问题的原因可能是多了逗号、少了逗号或者括号不正确，需要检查并修订 json 文件。</p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">Failed to resolve Oracle database version</strong></li></ul><br/><img class="- topic/image image" src="images/DKOD/35.jpg" alt="35"/><br/><p class="- topic/p p">该报错提示意味着 Oracle 数据库无法正常连接。造成上述问题的可能原因：</p><ul class="- topic/ul ul"><li class="- topic/li li">未将 <em class="+ topic/ph hi-d/i ph i">ojdbc8.jar</em> 包到插件目录下</li><li class="- topic/li li">Kafka 用户对 <em class="+ topic/ph hi-d/i ph i">ojdbc8.jar</em> 文件没有读权限</li></ul><p class="- topic/p p">根据原因调整文件目录或读权限后，如果还是出现该错误，或者是其他无法连接 Oracle 的提示，可以尝试更换连接方式的写法，在配置文件中加入如下代码：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>"database.url" : "jdbc:oracle:thin:@192.168.189.130:1521:testdb",</code></pre><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">Can’t find JdbcSinkConnector</strong></li></ul><p class="- topic/p p">查看日志提示没有 JdbcSinkConnector 包的加载。JdbcSinkConnector 是包含在 kafka-connect-jdbc-10.7.4-ddb1.10.jar 包内，需要确认该 jar 包是否防止在 kafka connect 的插件路径下，确认 kafka 对该文件的读权限。再通过 <code class="+ topic/ph pr-d/codeph ph codeph">java --version</code> 查看 Java 版本是否是17，Java 版本较低时，可能无法正确加载插件。目前已知使用 Java 8 时无法正确加载该插件。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title35" id="72-数据未同步或者未正确同步"><h3 class="- topic/title title topictitle3" id="ariaid-title35">7.2 数据未同步或者未正确同步</h3><div class="- topic/body body"><p class="- topic/p p">当数据未同步或者未正确同步时，请先按以下两步进行检查。然后对照后面的提供的错误列表进行参考调整。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">step1 查看同步任务状态</strong></p><p class="- topic/p p">先查看同步任务是否报错：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/kafka-tools/bin
./rest.sh showall</code></pre><p class="- topic/p p">再看 kafka connect 的日志中是否出现 ERROR：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/kafka-connect/logs
cat connect.log | grep ERROR</code></pre><p class="- topic/p p">如果有出现 ERROR，看 ERROR 显示的日志是 Oracle 报错还是 ddb-sink 报错，查看具体的报错信息。如果同步任务未报错，也没有 ERROR，再通过以下方式排查。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">step2 查看 Oracle 数据是否同步到 Kafka</strong></p><p class="- topic/p p">查看 Kafka 所有的 topic：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>cd /KFDATA/kafka-tools/bin
./kafka.sh tplist</code></pre><br/><img class="- topic/image image" src="images/DKOD/36.jpg" alt="36"/><br/><p class="- topic/p p">在查看该 topic 对应的数据条数：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./kafka.sh get_offsets oracle_service.DEBEZIUM.INDEX_EXAMPLE</code></pre><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">一张表出现两个 topic 名字</strong></li></ul><p class="- topic/p p">这说明 Oracle source 任务的 topic.prefix 或 DolphinDB sink 任务的 topics 配置项拼写有误，请检查这两项。DolphinDB sink 任务的 topics 必须为 .. 的格式。创建 sink 任务时，如果 topic 不存在，则会自动创建 topic，因此拼写错误会导致出现两个 topic 。</p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">没有表对应的 topic / 有对应的 topic，但数据条数为0</strong></li></ul><p class="- topic/p p">这说明 Oracle 数据未正常同步到 Kafka 中，请在同步任务的 table.include.list 中检查 Oracle 表名的拼写，或者在同步任务中未配置参数 "log.mining.strategy":"online_catalog" 导致数据延迟大。</p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">有对应的 topic，有数据条数，但DolphinDB未同步</strong></li></ul><p class="- topic/p p">检查 DolphinDB Sink 任务中 topics 配置项中的拼写，检查同步任务配置表中是否有相同的条数。</p><p class="- topic/p p">查看 Kafka 中数据是否与 Oracle 变更数据一致：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./tpconsumer.sh --op=2 --topic=oracle_service.DEBEZIUM.INDEX_EXAMPLE --offset=0 --max-messages=20</code></pre><p class="- topic/p p">在显示的结果中，初始数据同步的消息数据 op = r，新插入数据 op = c，更新数据 op = u</p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">插入数据正常，但更新或删除数据时未同步/报错</strong></li></ul><p class="- topic/p p">Oracle 未开启全字段补充日志</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>ALTER TABLE debezium.index_example ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
ALTER TABLE debezium.stock_example ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title36" id="73-同步任务运行报错"><h3 class="- topic/title title topictitle3" id="ariaid-title36"><strong class="+ topic/ph hi-d/b ph b">7.3 同步任务运行报错</strong></h3><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">Java.lang.OutOfMemoryError</strong></li></ul><p class="- topic/p p">Kafka Connect 的默认内存为1GB，当数据更新量较大时会出现 JVM 内存不足，需要调整 JVM 大小。根据之前配置的安装路径，修改 kafka connect 的配置文件：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>vim /KFDATA/kafka-connect/etc/kafka-connect.env</code></pre><p class="- topic/p p">在末尾加入 JVM 选项，内存大小根据实际需要调整：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>KAFKA_HEAP_OPTS="-Xms10G -Xmx10G"</code></pre><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">Supplemental logging not properly configured.</strong></li></ul><p class="- topic/p p">未开启最小补充日志时，会报此错误</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;</code></pre><p class="- topic/p p">除了最小补充日志，还需开启全字段补充日志</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>ALTER TABLE debezium.index_example ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
ALTER TABLE debezium.stock_example ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;</code></pre></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title37" id="8-附录"><h2 class="- topic/title title topictitle2" id="ariaid-title37">8. 附录</h2><div class="- topic/body body"><p class="- topic/p p"><a class="- topic/xref xref" href="script/DKOD/kafka-connect-jdbc-10.7.4-ddb1.10.jar">DolphinDB 的 Kafka-Connect 插件包</a></p><p class="- topic/p p"><a class="- topic/xref xref" href="script/DKOD/jdbc-2.00.11.1-ddbcdc-beta1.jar">DolphinDB 的 JDBC 包</a></p><p class="- topic/p p"><a class="- topic/xref xref" href="script/DKOD/kafka-tools.tar">运维脚本包 kafka-tools</a></p></div></article></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div id="wh_topic_toc_content">
		                        
	                            <div class=" wh_topic_toc "><div class="wh_topic_label">在本页上</div><ul><li class="topic-item"><a href="#%E5%89%8D%E8%A8%80" data-tocid="前言">前言</a></li><li class="topic-item"><a href="#1-debezium-%E5%90%8C%E6%AD%A5%E6%96%B9%E6%A1%88%E6%A6%82%E8%BF%B0" data-tocid="1-debezium-同步方案概述">1. Debezium 同步方案概述</a></li><li class="topic-item"><a href="#2-%E9%83%A8%E7%BD%B2-kafka-%E5%8D%95%E5%AE%9E%E4%BE%8B%E5%AE%9E%E6%97%B6%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8" data-tocid="2-部署-kafka-单实例实时数据存储">2. 部署 Kafka 单实例实时数据存储</a><ul><li class="topic-item"><a href="#21-%E9%83%A8%E7%BD%B2%E5%87%86%E5%A4%87" data-tocid="21-部署准备">2.1 部署准备</a></li><li class="topic-item"><a href="#22-%E9%83%A8%E7%BD%B2-zookeeper" data-tocid="22-部署-zookeeper">2.2 部署 Zookeeper</a><ul><li class="topic-item"><a href="#221-%E5%9F%BA%E7%A1%80%E5%87%86%E5%A4%87" data-tocid="221-基础准备">2.2.1 基础准备</a></li><li class="topic-item"><a href="#222-%E5%AE%89%E8%A3%85-zookeeper" data-tocid="222-安装-zookeeper">2.2.2 安装 Zookeeper</a></li><li class="topic-item"><a href="#223-%E9%83%A8%E7%BD%B2%E5%90%AF%E5%8A%A8-zookeeper" data-tocid="223-部署启动-zookeeper">2.2.3 部署启动 Zookeeper</a></li></ul></li><li class="topic-item"><a href="#23-%E9%83%A8%E7%BD%B2-kafka" data-tocid="23-部署-kafka">2.3 部署 Kafka</a><ul><li class="topic-item"><a href="#231-%E5%AE%89%E8%A3%85-kafka" data-tocid="231-安装-kafka">2.3.1 安装 Kafka</a></li><li class="topic-item"><a href="#232-%E9%83%A8%E7%BD%B2%E5%90%AF%E5%8A%A8-kafka" data-tocid="232-部署启动-kafka">2.3.2 部署启动 Kafka</a></li></ul></li><li class="topic-item"><a href="#24-%E9%83%A8%E7%BD%B2-schema-registry" data-tocid="24-部署-schema-registry">2.4 部署 Schema-Registry</a><ul><li class="topic-item"><a href="#241-%E5%AE%89%E8%A3%85-schema-registry" data-tocid="241-安装-schema-registry">2.4.1 安装 Schema-Registry</a></li><li class="topic-item"><a href="#242-%E9%83%A8%E7%BD%B2%E5%90%AF%E5%8A%A8-schema-registry" data-tocid="242-部署启动-schema-registry">2.4.2 部署启动 Schema-Registry</a></li></ul></li><li class="topic-item"><a href="#25-%E9%83%A8%E7%BD%B2-kafka-connect" data-tocid="25-部署-kafka-connect">2.5 部署 Kafka-Connect</a><ul><li class="topic-item"><a href="#251-%E5%AE%89%E8%A3%85-kafka-connect" data-tocid="251-安装-kafka-connect">2.5.1 安装 Kafka-Connect</a></li><li class="topic-item"><a href="#252-%E9%83%A8%E7%BD%B2%E5%90%AF%E5%8A%A8-kafka-connect" data-tocid="252-部署启动-kafka-connect">2.5.2 部署启动 Kafka-Connect</a></li></ul></li></ul></li><li class="topic-item"><a href="#3-%E4%BB%8E-oracle-%E5%88%B0-kafka-%E7%9A%84%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E9%83%A8%E7%BD%B2%E7%A8%8B%E5%BA%8F%E4%B8%8E%E9%85%8D%E7%BD%AE%E4%BB%BB%E5%8A%A1" data-tocid="3-从-oracle-到-kafka-的数据同步部署程序与配置任务">3. 从 Oracle 到 Kafka 的数据同步：部署程序与配置任务</a><ul><li class="topic-item"><a href="#31-%E9%85%8D%E7%BD%AE-oracle-%E6%95%B0%E6%8D%AE%E5%BA%93" data-tocid="31-配置-oracle-数据库">3.1 配置 Oracle 数据库</a></li><li class="topic-item"><a href="#32-%E5%AE%89%E8%A3%85-debezium-oracle-%E8%BF%9E%E6%8E%A5%E5%99%A8%E6%8F%92%E4%BB%B6" data-tocid="32-安装-debezium-oracle-连接器插件">3.2 安装 Debezium-Oracle 连接器插件</a></li><li class="topic-item"><a href="#33-%E9%85%8D%E7%BD%AE-oracle-%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E8%BF%9E%E6%8E%A5%E4%BB%BB%E5%8A%A1" data-tocid="33-配置-oracle-数据同步连接任务">3.3 配置 Oracle 数据同步连接任务</a></li></ul></li><li class="topic-item"><a href="#4-%E4%BB%8Ekafka-%E5%88%B0-dolphindb-%E7%9A%84%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E9%83%A8%E7%BD%B2%E7%A8%8B%E5%BA%8F%E4%B8%8E%E9%85%8D%E7%BD%AE%E4%BB%BB%E5%8A%A1" data-tocid="4-从kafka-到-dolphindb-的数据同步部署程序与配置任务">4. 从Kafka 到 DolphinDB 的数据同步：部署程序与配置任务</a><ul><li class="topic-item"><a href="#41-%E5%AE%89%E8%A3%85-kafka-dolphindb-%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E8%BF%9E%E6%8E%A5%E5%99%A8%E6%8F%92%E4%BB%B6" data-tocid="41-安装-kafka-dolphindb-数据同步连接器插件">4.1 安装 Kafka-DolphinDB 数据同步连接器插件</a></li><li class="topic-item"><a href="#42-%E9%85%8D%E7%BD%AE-dolphindb-%E7%9A%84%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E8%BF%9E%E6%8E%A5%E4%BB%BB%E5%8A%A1" data-tocid="42-配置-dolphindb-的数据同步连接任务">4.2 配置 DolphinDB 的数据同步连接任务</a></li><li class="topic-item"><a href="#43-%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5%E9%AA%8C%E8%AF%81" data-tocid="43-实时同步验证">4.3 实时同步验证</a></li></ul></li><li class="topic-item"><a href="#5-%E9%83%A8%E7%BD%B2%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" data-tocid="5-部署注意事项">5. 部署注意事项</a><ul><li class="topic-item"><a href="#51-%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5%E9%A1%BB%E7%9F%A5" data-tocid="51-实时同步须知">5.1 实时同步须知</a></li><li class="topic-item"><a href="#52-oracle-dolphindb-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AF%B9%E5%BA%94%E8%A1%A8" data-tocid="52-oracle-dolphindb-数据类型对应表">5.2 Oracle-DolphinDB 数据类型对应表</a></li></ul></li><li class="topic-item"><a href="#6-%E5%90%8C%E6%AD%A5%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95" data-tocid="6-同步性能测试">6. 同步性能测试</a><ul><li class="topic-item"><a href="#61-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E9%85%8D%E7%BD%AE" data-tocid="61-性能测试配置">6.1 性能测试配置</a></li><li class="topic-item"><a href="#62-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C" data-tocid="62-性能测试结果">6.2 性能测试结果</a></li></ul></li><li class="topic-item"><a href="#7-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E7%AD%94faq" data-tocid="7-常见问题解答faq">7. 常见问题解答（FAQ）</a><ul><li class="topic-item"><a href="#71-%E5%88%9B%E5%BB%BA%E5%90%8C%E6%AD%A5%E4%BB%BB%E5%8A%A1%E6%97%B6%E6%8A%A5%E9%94%99" data-tocid="71-创建同步任务时报错">7.1 创建同步任务时报错</a></li><li class="topic-item"><a href="#72-%E6%95%B0%E6%8D%AE%E6%9C%AA%E5%90%8C%E6%AD%A5%E6%88%96%E8%80%85%E6%9C%AA%E6%AD%A3%E7%A1%AE%E5%90%8C%E6%AD%A5" data-tocid="72-数据未同步或者未正确同步">7.2 数据未同步或者未正确同步</a></li><li class="topic-item"><a href="#73-%E5%90%8C%E6%AD%A5%E4%BB%BB%E5%8A%A1%E8%BF%90%E8%A1%8C%E6%8A%A5%E9%94%99" data-tocid="73-同步任务运行报错"><strong class="+ topic/ph hi-d/b ph b">7.3 同步任务运行报错</strong></a></li></ul></li><li class="topic-item"><a href="#8-%E9%99%84%E5%BD%95" data-tocid="8-附录">8. 附录</a></li></ul></div>
	                        	
                        	</div>
                        </nav>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
<title>Copyright</title><p><b> ©2025 浙江智臾科技有限公司 浙ICP备18048711号-3</b></p>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>